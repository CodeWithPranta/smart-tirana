function checkConnectivity(t,e,i,s){$.ajax({url:t,success:e,error:i,timeout:s})}!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.axios=e():t.axios=e()}(this,function(){return o={},i.m=s=[function(t,e,i){t.exports=i(1)},function(t,e,i){"use strict";var s=i(2),o=i(3),n=i(4),r=i(22);function a(t){var e=new n(t),i=o(n.prototype.request,e);return s.extend(i,n.prototype,e),s.extend(i,e),i}var l=a(i(10));l.Axios=n,l.create=function(t){return a(r(l.defaults,t))},l.Cancel=i(23),l.CancelToken=i(24),l.isCancel=i(9),l.all=function(t){return Promise.all(t)},l.spread=i(25),l.isAxiosError=i(26),t.exports=l,t.exports.default=l},function(t,e,i){"use strict";var o=i(3),s=Object.prototype.toString;function n(t){return"[object Array]"===s.call(t)}function r(t){return void 0===t}function a(t){return null!==t&&"object"==typeof t}function l(t){if("[object Object]"!==s.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function h(t){return"[object Function]"===s.call(t)}function c(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),n(t))for(var i=0,s=t.length;i<s;i++)e.call(null,t[i],i,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}t.exports={isArray:n,isArrayBuffer:function(t){return"[object ArrayBuffer]"===s.call(t)},isBuffer:function(t){return null!==t&&!r(t)&&null!==t.constructor&&!r(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:a,isPlainObject:l,isUndefined:r,isDate:function(t){return"[object Date]"===s.call(t)},isFile:function(t){return"[object File]"===s.call(t)},isBlob:function(t){return"[object Blob]"===s.call(t)},isFunction:h,isStream:function(t){return a(t)&&h(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:c,merge:function i(){var s={};function t(t,e){l(s[e])&&l(t)?s[e]=i(s[e],t):l(t)?s[e]=i({},t):n(t)?s[e]=t.slice():s[e]=t}for(var e=0,o=arguments.length;e<o;e++)c(arguments[e],t);return s},extend:function(i,t,s){return c(t,function(t,e){i[e]=s&&"function"==typeof t?o(t,s):t}),i},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}}},function(t,e){"use strict";t.exports=function(i,s){return function(){for(var t=new Array(arguments.length),e=0;e<t.length;e++)t[e]=arguments[e];return i.apply(s,t)}}},function(t,e,i){"use strict";var s=i(2),o=i(5),n=i(6),r=i(7),a=i(22);function l(t){this.defaults=t,this.interceptors={request:new n,response:new n}}l.prototype.request=function(t,e){"string"==typeof t?(t=e||{}).url=arguments[0]:t=t||{},(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var i=[r,void 0],s=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){i.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){i.push(t.fulfilled,t.rejected)});i.length;)s=s.then(i.shift(),i.shift());return s},l.prototype.getUri=function(t){return t=a(this.defaults,t),o(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},s.forEach(["delete","get","head","options"],function(i){l.prototype[i]=function(t,e){return this.request(a(e||{},{method:i,url:t,data:(e||{}).data}))}}),s.forEach(["post","put","patch"],function(s){l.prototype[s]=function(t,e,i){return this.request(a(i||{},{method:s,url:t,data:e}))}}),t.exports=l},function(t,e,i){"use strict";var r=i(2);function a(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,i){if(!e)return t;var s;if(i)s=i(e);else if(r.isURLSearchParams(e))s=e.toString();else{var o=[];r.forEach(e,function(t,e){null!=t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),o.push(a(e)+"="+a(t))}))}),s=o.join("&")}if(s){var n=t.indexOf("#");-1!==n&&(t=t.slice(0,n)),t+=(-1===t.indexOf("?")?"?":"&")+s}return t}},function(t,e,i){"use strict";var s=i(2);function o(){this.handlers=[]}o.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},o.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},o.prototype.forEach=function(e){s.forEach(this.handlers,function(t){null!==t&&e(t)})},t.exports=o},function(t,e,i){"use strict";var s=i(2),o=i(8),n=i(9),r=i(10);function a(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(e){return a(e),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=s.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),s.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||r.adapter)(e).then(function(t){return a(e),t.data=o(t.data,t.headers,e.transformResponse),t},function(t){return n(t)||(a(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(t,e,i){"use strict";var s=i(2);t.exports=function(e,i,t){return s.forEach(t,function(t){e=t(e,i)}),e}},function(t,e){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,i){"use strict";var s=i(2),o=i(11),n={"Content-Type":"application/x-www-form-urlencoded"};function r(t,e){!s.isUndefined(t)&&s.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var a,l={adapter:("undefined"!=typeof XMLHttpRequest?a=i(12):"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)&&(a=i(12)),a),transformRequest:[function(t,e){return o(e,"Accept"),o(e,"Content-Type"),s.isFormData(t)||s.isArrayBuffer(t)||s.isBuffer(t)||s.isStream(t)||s.isFile(t)||s.isBlob(t)?t:s.isArrayBufferView(t)?t.buffer:s.isURLSearchParams(t)?(r(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):s.isObject(t)?(r(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return 200<=t&&t<300}};l.headers={common:{Accept:"application/json, text/plain, */*"}},s.forEach(["delete","get","head"],function(t){l.headers[t]={}}),s.forEach(["post","put","patch"],function(t){l.headers[t]=s.merge(n)}),t.exports=l},function(t,e,i){"use strict";var o=i(2);t.exports=function(i,s){o.forEach(i,function(t,e){e!==s&&e.toUpperCase()===s.toUpperCase()&&(i[s]=t,delete i[e])})}},function(t,e,i){"use strict";var c=i(2),d=i(13),u=i(16),p=i(5),f=i(17),m=i(20),g=i(21),v=i(14);t.exports=function(h){return new Promise(function(i,s){var o=h.data,n=h.headers;c.isFormData(o)&&delete n["Content-Type"];var r=new XMLHttpRequest;if(h.auth){var t=h.auth.username||"",e=h.auth.password?unescape(encodeURIComponent(h.auth.password)):"";n.Authorization="Basic "+btoa(t+":"+e)}var a=f(h.baseURL,h.url);if(r.open(h.method.toUpperCase(),p(a,h.params,h.paramsSerializer),!0),r.timeout=h.timeout,r.onreadystatechange=function(){if(r&&4===r.readyState&&(0!==r.status||r.responseURL&&0===r.responseURL.indexOf("file:"))){var t="getAllResponseHeaders"in r?m(r.getAllResponseHeaders()):null,e={data:h.responseType&&"text"!==h.responseType?r.response:r.responseText,status:r.status,statusText:r.statusText,headers:t,config:h,request:r};d(i,s,e),r=null}},r.onabort=function(){r&&(s(v("Request aborted",h,"ECONNABORTED",r)),r=null)},r.onerror=function(){s(v("Network Error",h,null,r)),r=null},r.ontimeout=function(){var t="timeout of "+h.timeout+"ms exceeded";h.timeoutErrorMessage&&(t=h.timeoutErrorMessage),s(v(t,h,"ECONNABORTED",r)),r=null},c.isStandardBrowserEnv()){var l=(h.withCredentials||g(a))&&h.xsrfCookieName?u.read(h.xsrfCookieName):void 0;l&&(n[h.xsrfHeaderName]=l)}if("setRequestHeader"in r&&c.forEach(n,function(t,e){void 0===o&&"content-type"===e.toLowerCase()?delete n[e]:r.setRequestHeader(e,t)}),c.isUndefined(h.withCredentials)||(r.withCredentials=!!h.withCredentials),h.responseType)try{r.responseType=h.responseType}catch(t){if("json"!==h.responseType)throw t}"function"==typeof h.onDownloadProgress&&r.addEventListener("progress",h.onDownloadProgress),"function"==typeof h.onUploadProgress&&r.upload&&r.upload.addEventListener("progress",h.onUploadProgress),h.cancelToken&&h.cancelToken.promise.then(function(t){r&&(r.abort(),s(t),r=null)}),o=o||null,r.send(o)})}},function(t,e,i){"use strict";var o=i(14);t.exports=function(t,e,i){var s=i.config.validateStatus;i.status&&s&&!s(i.status)?e(o("Request failed with status code "+i.status,i.config,null,i.request,i)):t(i)}},function(t,e,i){"use strict";var r=i(15);t.exports=function(t,e,i,s,o){var n=new Error(t);return r(n,e,i,s,o)}},function(t,e){"use strict";t.exports=function(t,e,i,s,o){return t.config=e,i&&(t.code=i),t.request=s,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},function(t,e,i){"use strict";var a=i(2);t.exports=a.isStandardBrowserEnv()?{write:function(t,e,i,s,o,n){var r=[];r.push(t+"="+encodeURIComponent(e)),a.isNumber(i)&&r.push("expires="+new Date(i).toGMTString()),a.isString(s)&&r.push("path="+s),a.isString(o)&&r.push("domain="+o),!0===n&&r.push("secure"),document.cookie=r.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,i){"use strict";var s=i(18),o=i(19);t.exports=function(t,e){return t&&!s(e)?o(t,e):e}},function(t,e){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,i){"use strict";var n=i(2),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,i,s,o={};return t&&n.forEach(t.split("\n"),function(t){if(s=t.indexOf(":"),e=n.trim(t.substr(0,s)).toLowerCase(),i=n.trim(t.substr(s+1)),e){if(o[e]&&0<=r.indexOf(e))return;o[e]="set-cookie"===e?(o[e]?o[e]:[]).concat([i]):o[e]?o[e]+", "+i:i}}),o}},function(t,e,i){"use strict";var s,o,n,r=i(2);function a(t){var e=t;return o&&(n.setAttribute("href",e),e=n.href),n.setAttribute("href",e),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}t.exports=r.isStandardBrowserEnv()?(o=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),s=a(window.location.href),function(t){var e=r.isString(t)?a(t):t;return e.protocol===s.protocol&&e.host===s.host}):function(){return!0}},function(t,e,i){"use strict";var d=i(2);t.exports=function(e,i){i=i||{};var s={},t=["url","method","data"],o=["headers","auth","proxy","params"],n=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],r=["validateStatus"];function a(t,e){return d.isPlainObject(t)&&d.isPlainObject(e)?d.merge(t,e):d.isPlainObject(e)?d.merge({},e):d.isArray(e)?e.slice():e}function l(t){d.isUndefined(i[t])?d.isUndefined(e[t])||(s[t]=a(void 0,e[t])):s[t]=a(e[t],i[t])}d.forEach(t,function(t){d.isUndefined(i[t])||(s[t]=a(void 0,i[t]))}),d.forEach(o,l),d.forEach(n,function(t){d.isUndefined(i[t])?d.isUndefined(e[t])||(s[t]=a(void 0,e[t])):s[t]=a(void 0,i[t])}),d.forEach(r,function(t){t in i?s[t]=a(e[t],i[t]):t in e&&(s[t]=a(void 0,e[t]))});var h=t.concat(o).concat(n).concat(r),c=Object.keys(e).concat(Object.keys(i)).filter(function(t){return-1===h.indexOf(t)});return d.forEach(c,l),s}},function(t,e){"use strict";function i(t){this.message=t}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,t.exports=i},function(t,e,i){"use strict";var s=i(23);function o(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var i=this;t(function(t){i.reason||(i.reason=new s(t),e(i.reason))})}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o(function(t){e=t}),cancel:e}},t.exports=o},function(t,e){"use strict";t.exports=function(e){return function(t){return e.apply(null,t)}}},function(t,e){"use strict";t.exports=function(t){return"object"==typeof t&&!0===t.isAxiosError}}],i.c=o,i.p="",i(0);function i(t){if(o[t])return o[t].exports;var e=o[t]={exports:{},id:t,loaded:!1};return s[t].call(e.exports,e,e.exports,i),e.loaded=!0,e.exports}var s,o}),function(){var a,t,o,r,n={}.hasOwnProperty;function e(){this.options_index=0,this.parsed=[]}function i(t,e){this.form_field=t,this.options=null!=e?e:{},this.label_click_handler=function(t,e){return function(){return t.apply(e,arguments)}}(this.label_click_handler,this),i.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}function s(){return s.__super__.constructor.apply(this,arguments)}e.prototype.add_node=function(t){return"OPTGROUP"===t.nodeName.toUpperCase()?this.add_group(t):this.add_option(t)},e.prototype.add_group=function(t){var e,i,s,o,n,r;for(e=this.parsed.length,this.parsed.push({array_index:e,group:!0,label:t.label,title:t.title?t.title:void 0,children:0,disabled:t.disabled,classes:t.className}),r=[],i=0,s=(n=t.childNodes).length;i<s;i++)o=n[i],r.push(this.add_option(o,e,t.disabled));return r},e.prototype.add_option=function(t,e,i){if("OPTION"===t.nodeName.toUpperCase())return""!==t.text?(null!=e&&(this.parsed[e].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:t.value,text:t.text,html:t.innerHTML,title:t.title?t.title:void 0,selected:t.selected,disabled:!0===i?i:t.disabled,group_array_index:e,group_label:null!=e?this.parsed[e].label:null,classes:t.className,style:t.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},(r=e).select_to_array=function(t){var e,i,s,o,n;for(o=new r,i=0,s=(n=t.childNodes).length;i<s;i++)e=n[i],o.add_node(e);return o.parsed},i.prototype.set_default_values=function(){var e,i;return this.click_test_action=(e=this,function(t){return e.test_active_click(t)}),this.activate_action=(i=this,function(t){return i.activate_field(t)}),this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.is_rtl=this.options.rtl||/\bchosen-rtl\b/.test(this.form_field.className),this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.group_search=null==this.options.group_search||this.options.group_search,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null==this.options.single_backstroke_delete||this.options.single_backstroke_delete,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null==this.options.display_selected_options||this.options.display_selected_options,this.display_disabled_options=null==this.options.display_disabled_options||this.options.display_disabled_options,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1,this.max_shown_results=this.options.max_shown_results||Number.POSITIVE_INFINITY,this.case_sensitive_search=this.options.case_sensitive_search||!1,this.hide_results_on_select=null==this.options.hide_results_on_select||this.options.hide_results_on_select},i.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||i.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||i.default_single_text,this.default_text=this.escape_html(this.default_text),this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||i.default_no_result_text},i.prototype.choice_label=function(t){return this.include_group_label_in_selected&&null!=t.group_label?"<b class='group-name'>"+this.escape_html(t.group_label)+"</b>"+t.html:t.html},i.prototype.mouse_enter=function(){return this.mouse_on_container=!0},i.prototype.mouse_leave=function(){return this.mouse_on_container=!1},i.prototype.input_focus=function(t){if(this.is_multiple){if(!this.active_field)return setTimeout((e=this,function(){return e.container_mousedown()}),50)}else if(!this.active_field)return this.activate_field();var e},i.prototype.input_blur=function(t){if(!this.mouse_on_container)return this.active_field=!1,setTimeout((e=this,function(){return e.blur_test()}),100);var e},i.prototype.label_click_handler=function(t){return this.is_multiple?this.container_mousedown(t):this.activate_field()},i.prototype.results_option_build=function(t){var e,i,s,o,n,r,a;for(e="",o=a=0,n=(r=this.results_data).length;o<n&&((s="")!==(s=(i=r[o]).group?this.result_add_group(i):this.result_add_option(i))&&(a++,e+=s),(null!=t?t.first:void 0)&&(i.selected&&this.is_multiple?this.choice_build(i):i.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(i))),!(a>=this.max_shown_results));o++);return e},i.prototype.result_add_option=function(t){var e,i;return t.search_match&&this.include_option_in_results(t)?(e=[],t.disabled||t.selected&&this.is_multiple||e.push("active-result"),!t.disabled||t.selected&&this.is_multiple||e.push("disabled-result"),t.selected&&e.push("result-selected"),null!=t.group_array_index&&e.push("group-option"),""!==t.classes&&e.push(t.classes),(i=document.createElement("li")).className=e.join(" "),t.style&&(i.style.cssText=t.style),i.setAttribute("data-option-array-index",t.array_index),i.innerHTML=t.highlighted_html||t.html,t.title&&(i.title=t.title),this.outerHTML(i)):""},i.prototype.result_add_group=function(t){var e,i;return(t.search_match||t.group_match)&&0<t.active_options?((e=[]).push("group-result"),t.classes&&e.push(t.classes),(i=document.createElement("li")).className=e.join(" "),i.innerHTML=t.highlighted_html||this.escape_html(t.label),t.title&&(i.title=t.title),this.outerHTML(i)):""},i.prototype.results_update_field=function(){if(this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing)return this.winnow_results()},i.prototype.reset_single_select_options=function(){var t,e,i,s,o;for(o=[],t=0,e=(i=this.results_data).length;t<e;t++)(s=i[t]).selected?o.push(s.selected=!1):o.push(void 0);return o},i.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},i.prototype.results_search=function(t){return this.results_showing?this.winnow_results():this.results_show()},i.prototype.winnow_results=function(t){var e,i,s,o,n,r,a,l,h,c,d,u,p,f,m;for(this.no_results_clear(),c=0,e=(a=this.get_search_text()).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),h=this.get_search_regex(e),s=0,o=(l=this.results_data).length;s<o;s++)(n=l[s]).search_match=!1,u=d=null,n.highlighted_html="",this.include_option_in_results(n)&&(n.group&&(n.group_match=!1,n.active_options=0),null!=n.group_array_index&&this.results_data[n.group_array_index]&&(0===(d=this.results_data[n.group_array_index]).active_options&&d.search_match&&(c+=1),d.active_options+=1),m=n.group?n.label:n.text,n.group&&!this.group_search||(u=this.search_string_match(m,h),n.search_match=null!=u,n.search_match&&!n.group&&(c+=1),n.search_match?(a.length&&(p=u.index,r=m.slice(0,p),i=m.slice(p,p+a.length),f=m.slice(p+a.length),n.highlighted_html=this.escape_html(r)+"<em>"+this.escape_html(i)+"</em>"+this.escape_html(f)),null!=d&&(d.group_match=!0)):null!=n.group_array_index&&this.results_data[n.group_array_index].search_match&&(n.search_match=!0)));return this.result_clear_highlight(),c<1&&a.length?(this.update_results_content(""),this.no_results(a)):(this.update_results_content(this.results_option_build()),(null!=t?t.skip_highlight:void 0)?void 0:this.winnow_results_set_highlight())},i.prototype.get_search_regex=function(t){var e,i;return i=this.search_contains?t:"(^|\\s|\\b)"+t+"[^\\s]*",this.enable_split_word_search||this.search_contains||(i="^"+i),e=this.case_sensitive_search?"":"i",new RegExp(i,e)},i.prototype.search_string_match=function(t,e){var i;return i=e.exec(t),!this.search_contains&&(null!=i?i[1]:void 0)&&(i.index+=1),i},i.prototype.choices_count=function(){var t,e,i;if(null!=this.selected_option_count)return this.selected_option_count;for(t=this.selected_option_count=0,e=(i=this.form_field.options).length;t<e;t++)i[t].selected&&(this.selected_option_count+=1);return this.selected_option_count},i.prototype.choices_click=function(t){if(t.preventDefault(),this.activate_field(),!this.results_showing&&!this.is_disabled)return this.results_show()},i.prototype.keydown_checker=function(t){var e,i;switch(i=null!=(e=t.which)?e:t.keyCode,this.search_field_scale(),8!==i&&this.pending_backstroke&&this.clear_backstroke(),i){case 8:this.backstroke_length=this.get_search_field_value().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(t),this.mouse_on_container=!1;break;case 13:case 27:this.results_showing&&t.preventDefault();break;case 32:this.disable_search&&t.preventDefault();break;case 38:t.preventDefault(),this.keyup_arrow();break;case 40:t.preventDefault(),this.keydown_arrow()}},i.prototype.keyup_checker=function(t){var e,i;switch(i=null!=(e=t.which)?e:t.keyCode,this.search_field_scale(),i){case 8:this.is_multiple&&this.backstroke_length<1&&0<this.choices_count()?this.keydown_backstroke():this.pending_backstroke||(this.result_clear_highlight(),this.results_search());break;case 13:t.preventDefault(),this.results_showing&&this.result_select(t);break;case 27:this.results_showing&&this.results_hide();break;case 9:case 16:case 17:case 18:case 38:case 40:case 91:break;default:this.results_search()}},i.prototype.clipboard_event_checker=function(t){var e;if(!this.is_disabled)return setTimeout((e=this,function(){return e.results_search()}),50)},i.prototype.container_width=function(){return null!=this.options.width?this.options.width:this.form_field.offsetWidth+"px"},i.prototype.include_option_in_results=function(t){return!(this.is_multiple&&!this.display_selected_options&&t.selected||!this.display_disabled_options&&t.disabled||t.empty)},i.prototype.search_results_touchstart=function(t){return this.touch_started=!0,this.search_results_mouseover(t)},i.prototype.search_results_touchmove=function(t){return this.touch_started=!1,this.search_results_mouseout(t)},i.prototype.search_results_touchend=function(t){if(this.touch_started)return this.search_results_mouseup(t)},i.prototype.outerHTML=function(t){var e;return t.outerHTML?t.outerHTML:((e=document.createElement("div")).appendChild(t),e.innerHTML)},i.prototype.get_single_html=function(){return'<a class="chosen-single chosen-default">\n  <span>'+this.default_text+'</span>\n  <div><b></b></div>\n</a>\n<div class="chosen-drop">\n  <div class="chosen-search">\n    <input class="chosen-search-input" type="text" autocomplete="off" />\n  </div>\n  <ul class="chosen-results"></ul>\n</div>'},i.prototype.get_multi_html=function(){return'<ul class="chosen-choices">\n  <li class="search-field">\n    <input class="chosen-search-input" type="text" autocomplete="off" value="'+this.default_text+'" />\n  </li>\n</ul>\n<div class="chosen-drop">\n  <ul class="chosen-results"></ul>\n</div>'},i.prototype.get_no_results_html=function(t){return'<li class="no-results">\n  '+this.results_none_found+" <span>"+this.escape_html(t)+"</span>\n</li>"},i.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?8<=document.documentMode:!(/iP(od|hone)/i.test(window.navigator.userAgent)||/IEMobile/i.test(window.navigator.userAgent)||/Windows Phone/i.test(window.navigator.userAgent)||/BlackBerry/i.test(window.navigator.userAgent)||/BB10/i.test(window.navigator.userAgent)||/Android.*Mobile/i.test(window.navigator.userAgent))},i.default_multiple_text="Select Some Options",i.default_single_text="Select an Option",i.default_no_result_text="No results match",t=i,(a=jQuery).fn.extend({chosen:function(s){return t.browser_is_supported()?this.each(function(t){var e,i;i=(e=a(this)).data("chosen"),"destroy"!==s?i instanceof o||e.data("chosen",new o(this,s)):i instanceof o&&i.destroy()}):this}}),function(t,e){for(var i in e)n.call(e,i)&&(t[i]=e[i]);function s(){this.constructor=t}s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype}(s,t),s.prototype.setup=function(){return this.form_field_jq=a(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex},s.prototype.set_up_html=function(){var t,e;return(t=["chosen-container"]).push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&t.push(this.form_field.className),this.is_rtl&&t.push("chosen-rtl"),e={class:t.join(" "),title:this.form_field.title},this.form_field.id.length&&(e.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=a("<div />",e),this.container.width(this.container_width()),this.is_multiple?this.container.html(this.get_multi_html()):this.container.html(this.get_single_html()),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},s.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},s.prototype.register_observers=function(){var e,i,s,o,n,r,a,l,h,c,d,u,p,f,m,g,v,_,y,b,w,x,k,C;return this.container.on("touchstart.chosen",(e=this,function(t){e.container_mousedown(t)})),this.container.on("touchend.chosen",(i=this,function(t){i.container_mouseup(t)})),this.container.on("mousedown.chosen",(s=this,function(t){s.container_mousedown(t)})),this.container.on("mouseup.chosen",(o=this,function(t){o.container_mouseup(t)})),this.container.on("mouseenter.chosen",(n=this,function(t){n.mouse_enter(t)})),this.container.on("mouseleave.chosen",(r=this,function(t){r.mouse_leave(t)})),this.search_results.on("mouseup.chosen",(a=this,function(t){a.search_results_mouseup(t)})),this.search_results.on("mouseover.chosen",(l=this,function(t){l.search_results_mouseover(t)})),this.search_results.on("mouseout.chosen",(h=this,function(t){h.search_results_mouseout(t)})),this.search_results.on("mousewheel.chosen DOMMouseScroll.chosen",(c=this,function(t){c.search_results_mousewheel(t)})),this.search_results.on("touchstart.chosen",(d=this,function(t){d.search_results_touchstart(t)})),this.search_results.on("touchmove.chosen",(u=this,function(t){u.search_results_touchmove(t)})),this.search_results.on("touchend.chosen",(p=this,function(t){p.search_results_touchend(t)})),this.form_field_jq.on("chosen:updated.chosen",(f=this,function(t){f.results_update_field(t)})),this.form_field_jq.on("chosen:activate.chosen",(m=this,function(t){m.activate_field(t)})),this.form_field_jq.on("chosen:open.chosen",(g=this,function(t){g.container_mousedown(t)})),this.form_field_jq.on("chosen:close.chosen",(v=this,function(t){v.close_field(t)})),this.search_field.on("blur.chosen",(_=this,function(t){_.input_blur(t)})),this.search_field.on("keyup.chosen",(y=this,function(t){y.keyup_checker(t)})),this.search_field.on("keydown.chosen",(b=this,function(t){b.keydown_checker(t)})),this.search_field.on("focus.chosen",(w=this,function(t){w.input_focus(t)})),this.search_field.on("cut.chosen",(x=this,function(t){x.clipboard_event_checker(t)})),this.search_field.on("paste.chosen",(k=this,function(t){k.clipboard_event_checker(t)})),this.is_multiple?this.search_choices.on("click.chosen",(C=this,function(t){C.choices_click(t)})):this.container.on("click.chosen",function(t){t.preventDefault()})},s.prototype.destroy=function(){return a(this.container[0].ownerDocument).off("click.chosen",this.click_test_action),0<this.form_field_label.length&&this.form_field_label.off("click.chosen"),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},s.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field.disabled||this.form_field_jq.parents("fieldset").is(":disabled"),this.container.toggleClass("chosen-disabled",this.is_disabled),this.search_field[0].disabled=this.is_disabled,this.is_multiple||this.selected_item.off("focus.chosen",this.activate_field),this.is_disabled?this.close_field():this.is_multiple?void 0:this.selected_item.on("focus.chosen",this.activate_field)},s.prototype.container_mousedown=function(t){var e;if(!this.is_disabled)return!t||"mousedown"!==(e=t.type)&&"touchstart"!==e||this.results_showing||t.preventDefault(),null!=t&&a(t.target).hasClass("search-choice-close")?void 0:(this.active_field?this.is_multiple||!t||a(t.target)[0]!==this.selected_item[0]&&!a(t.target).parents("a.chosen-single").length||(t.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),a(this.container[0].ownerDocument).on("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},s.prototype.container_mouseup=function(t){if("ABBR"===t.target.nodeName&&!this.is_disabled)return this.results_reset(t)},s.prototype.search_results_mousewheel=function(t){var e;if(t.originalEvent&&(e=t.originalEvent.deltaY||-t.originalEvent.wheelDelta||t.originalEvent.detail),null!=e)return t.preventDefault(),"DOMMouseScroll"===t.type&&(e*=40),this.search_results.scrollTop(e+this.search_results.scrollTop())},s.prototype.blur_test=function(t){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this.close_field()},s.prototype.close_field=function(){return a(this.container[0].ownerDocument).off("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale(),this.search_field.blur()},s.prototype.activate_field=function(){if(!this.is_disabled)return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},s.prototype.test_active_click=function(t){var e;return(e=a(t.target).closest(".chosen-container")).length&&this.container[0]===e[0]?this.active_field=!0:this.close_field()},s.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=r.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},s.prototype.result_do_highlight=function(t){var e,i,s,o;if(t.length){if(this.result_clear_highlight(),this.result_highlight=t,this.result_highlight.addClass("highlighted"),(s=parseInt(this.search_results.css("maxHeight"),10))+(o=this.search_results.scrollTop())<=(e=(i=this.result_highlight.position().top+this.search_results.scrollTop())+this.result_highlight.outerHeight()))return this.search_results.scrollTop(0<e-s?e-s:0);if(i<o)return this.search_results.scrollTop(i)}},s.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},s.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.get_search_field_value()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},s.prototype.update_results_content=function(t){return this.search_results.html(t)},s.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},s.prototype.set_tab_index=function(t){var e;if(this.form_field.tabIndex)return e=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=e},s.prototype.set_label_behavior=function(){if(this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=a("label[for='"+this.form_field.id+"']")),0<this.form_field_label.length)return this.form_field_label.on("click.chosen",this.label_click_handler)},s.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},s.prototype.search_results_mouseup=function(t){var e;if((e=a(t.target).hasClass("active-result")?a(t.target):a(t.target).parents(".active-result").first()).length)return this.result_highlight=e,this.result_select(t),this.search_field.focus()},s.prototype.search_results_mouseover=function(t){var e;if(e=a(t.target).hasClass("active-result")?a(t.target):a(t.target).parents(".active-result").first())return this.result_do_highlight(e)},s.prototype.search_results_mouseout=function(t){if(a(t.target).hasClass("active-result")||a(t.target).parents(".active-result").first())return this.result_clear_highlight()},s.prototype.choice_build=function(t){var e,i,s;return e=a("<li />",{class:"search-choice"}).html("<span>"+this.choice_label(t)+"</span>"),t.disabled?e.addClass("search-choice-disabled"):((i=a("<a />",{class:"search-choice-close","data-option-array-index":t.array_index})).on("click.chosen",(s=this,function(t){return s.choice_destroy_link_click(t)})),e.append(i)),this.search_container.before(e)},s.prototype.choice_destroy_link_click=function(t){if(t.preventDefault(),t.stopPropagation(),!this.is_disabled)return this.choice_destroy(a(t.target))},s.prototype.choice_destroy=function(t){if(this.result_deselect(t[0].getAttribute("data-option-array-index")))return this.active_field?this.search_field.focus():this.show_search_field_default(),this.is_multiple&&0<this.choices_count()&&this.get_search_field_value().length<1&&this.results_hide(),t.parents("li").first().remove(),this.search_field_scale()},s.prototype.results_reset=function(){if(this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.trigger_form_field_change(),this.active_field)return this.results_hide()},s.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},s.prototype.result_select=function(t){var e,i;if(this.result_highlight)return e=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?e.removeClass("active-result"):this.reset_single_select_options(),e.addClass("result-selected"),(i=this.results_data[e[0].getAttribute("data-option-array-index")]).selected=!0,this.form_field.options[i.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(i):this.single_set_selected_text(this.choice_label(i)),this.is_multiple&&(!this.hide_results_on_select||t.metaKey||t.ctrlKey)?t.metaKey||t.ctrlKey?this.winnow_results({skip_highlight:!0}):(this.search_field.val(""),this.winnow_results()):(this.results_hide(),this.show_search_field_default()),!this.is_multiple&&this.form_field.selectedIndex===this.current_selectedIndex||this.trigger_form_field_change({selected:this.form_field.options[i.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,t.preventDefault(),this.search_field_scale())},s.prototype.single_set_selected_text=function(t){return null==t&&(t=this.default_text),t===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(t)},s.prototype.result_deselect=function(t){var e;return e=this.results_data[t],!this.form_field.options[e.options_index].disabled&&(e.selected=!1,this.form_field.options[e.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.trigger_form_field_change({deselected:this.form_field.options[e.options_index].value}),this.search_field_scale(),!0)},s.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect)return this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")},s.prototype.get_search_field_value=function(){return this.search_field.val()},s.prototype.get_search_text=function(){return a.trim(this.get_search_field_value())},s.prototype.escape_html=function(t){return a("<div/>").text(t).html()},s.prototype.winnow_results_set_highlight=function(){var t,e;if(null!=(t=(e=this.is_multiple?[]:this.search_results.find(".result-selected.active-result")).length?e.first():this.search_results.find(".active-result").first()))return this.result_do_highlight(t)},s.prototype.no_results=function(t){var e;return e=this.get_no_results_html(t),this.search_results.append(e),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},s.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},s.prototype.keydown_arrow=function(){var t;return this.results_showing&&this.result_highlight?(t=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(t):void 0:this.results_show()},s.prototype.keyup_arrow=function(){var t;return this.results_showing||this.is_multiple?this.result_highlight?(t=this.result_highlight.prevAll("li.active-result")).length?this.result_do_highlight(t.first()):(0<this.choices_count()&&this.results_hide(),this.result_clear_highlight()):void 0:this.results_show()},s.prototype.keydown_backstroke=function(){var t;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(t=this.search_container.siblings("li.search-choice").last()).length&&!t.hasClass("search-choice-disabled")?(this.pending_backstroke=t,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0},s.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},s.prototype.search_field_scale=function(){var t,e,i,s,o,n,r;if(this.is_multiple){for(o={position:"absolute",left:"-1000px",top:"-1000px",display:"none",whiteSpace:"pre"},e=0,i=(n=["fontSize","fontStyle","fontWeight","fontFamily","lineHeight","textTransform","letterSpacing"]).length;e<i;e++)o[s=n[e]]=this.search_field.css(s);return(t=a("<div />").css(o)).text(this.get_search_field_value()),a("body").append(t),r=t.width()+25,t.remove(),this.container.is(":visible")&&(r=Math.min(this.container.outerWidth()-10,r)),this.search_field.width(r)}},s.prototype.trigger_form_field_change=function(t){return this.form_field_jq.trigger("input",t),this.form_field_jq.trigger("change",t)},o=s}.call(this),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Cropper=e()}(this,function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function N(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var o="undefined"!=typeof window&&void 0!==window.document,r=o?window:{},t=o&&"ontouchstart"in r.document.documentElement,i=o&&"PointerEvent"in r,c="cropper",k="n",C="ne",T="nw",S="se",E="sw",a="".concat(c,"-crop"),n="".concat(c,"-disabled"),$="".concat(c,"-hidden"),d="".concat(c,"-hide"),u="".concat(c,"-invisible"),l="".concat(c,"-modal"),p="".concat(c,"-move"),f="".concat(c,"Action"),m="".concat(c,"Preview"),h="crop",g="crop",v="cropend",_="cropmove",y="cropstart",b="dblclick",w=i?"pointerdown":t?"touchstart":"mousedown",x=i?"pointermove":t?"touchmove":"mousemove",A=i?"pointerup pointercancel":t?"touchend touchcancel":"mouseup",L="zoom",M="image/jpeg",z=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,F=/^data:/,O=/^data:image\/jpeg;base64,/,D=/^img|canvas$/i,I={viewMode:0,dragMode:h,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},W=Number.isNaN||r.isNaN;function P(t){return"number"==typeof t&&!W(t)}var H=function(t){return 0<t&&t<1/0};function R(t){return void 0===t}function j(t){return"object"===e(t)&&null!==t}var B=Object.prototype.hasOwnProperty;function q(t){if(!j(t))return!1;try{var e=t.constructor,i=e.prototype;return e&&i&&B.call(i,"isPrototypeOf")}catch(t){return!1}}function U(t){return"function"==typeof t}var Y=Array.prototype.slice;function X(t){return Array.from?Array.from(t):Y.call(t)}function Q(i,s){return i&&U(s)&&(Array.isArray(i)||P(i.length)?X(i).forEach(function(t,e){s.call(i,t,e,i)}):j(i)&&Object.keys(i).forEach(function(t){s.call(i,i[t],t,i)})),i}var G=Object.assign||function(i){for(var t=arguments.length,e=new Array(1<t?t-1:0),s=1;s<t;s++)e[s-1]=arguments[s];return j(i)&&0<e.length&&e.forEach(function(e){j(e)&&Object.keys(e).forEach(function(t){i[t]=e[t]})}),i},K=/\.\d*(?:0|9){12}\d*$/;function V(t,e){var i=1<arguments.length&&void 0!==e?e:1e11;return K.test(t)?Math.round(t*i)/i:t}var Z=/^width|height|left|top|marginLeft|marginTop$/;function J(t,e){var i=t.style;Q(e,function(t,e){Z.test(e)&&P(t)&&(t="".concat(t,"px")),i[e]=t})}function tt(t,e){if(e)if(P(t.length))Q(t,function(t){tt(t,e)});else if(t.classList)t.classList.add(e);else{var i=t.className.trim();i?i.indexOf(e)<0&&(t.className="".concat(i," ").concat(e)):t.className=e}}function et(t,e){e&&(P(t.length)?Q(t,function(t){et(t,e)}):t.classList?t.classList.remove(e):0<=t.className.indexOf(e)&&(t.className=t.className.replace(e,"")))}function it(t,e,i){e&&(P(t.length)?Q(t,function(t){it(t,e,i)}):i?tt(t,e):et(t,e))}var st=/([a-z\d])([A-Z])/g;function ot(t){return t.replace(st,"$1-$2").toLowerCase()}function nt(t,e){return j(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(ot(e)))}function rt(t,e,i){j(i)?t[e]=i:t.dataset?t.dataset[e]=i:t.setAttribute("data-".concat(ot(e)),i)}var at=/\s\s*/,lt=function(){var t=!1;if(o){var e=!1,i=function(){},s=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(t){e=t}});r.addEventListener("test",i,s),r.removeEventListener("test",i,s)}return t}();function ht(i,t,s,e){var o=3<arguments.length&&void 0!==e?e:{},n=s;t.trim().split(at).forEach(function(t){if(!lt){var e=i.listeners;e&&e[t]&&e[t][s]&&(n=e[t][s],delete e[t][s],0===Object.keys(e[t]).length&&delete e[t],0===Object.keys(e).length&&delete i.listeners)}i.removeEventListener(t,n,o)})}function ct(n,t,r,e){var a=3<arguments.length&&void 0!==e?e:{},l=r;t.trim().split(at).forEach(function(s){if(a.once&&!lt){var t=n.listeners,o=void 0===t?{}:t;l=function(){delete o[s][r],n.removeEventListener(s,l,a);for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];r.apply(n,e)},o[s]||(o[s]={}),o[s][r]&&n.removeEventListener(s,o[s][r],a),o[s][r]=l,n.listeners=o}n.addEventListener(s,l,a)})}function dt(t,e,i){var s;return U(Event)&&U(CustomEvent)?s=new CustomEvent(e,{detail:i,bubbles:!0,cancelable:!0}):(s=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,i),t.dispatchEvent(s)}function ut(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var pt=r.location,ft=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function mt(t){var e=t.match(ft);return null!==e&&(e[1]!==pt.protocol||e[2]!==pt.hostname||e[3]!==pt.port)}function gt(t){var e="timestamp=".concat((new Date).getTime());return t+(-1===t.indexOf("?")?"?":"&")+e}function vt(t){var e=t.rotate,i=t.scaleX,s=t.scaleY,o=t.translateX,n=t.translateY,r=[];P(o)&&0!==o&&r.push("translateX(".concat(o,"px)")),P(n)&&0!==n&&r.push("translateY(".concat(n,"px)")),P(e)&&0!==e&&r.push("rotate(".concat(e,"deg)")),P(i)&&1!==i&&r.push("scaleX(".concat(i,")")),P(s)&&1!==s&&r.push("scaleY(".concat(s,")"));var a=r.length?r.join(" "):"none";return{WebkitTransform:a,msTransform:a,transform:a}}function _t(t,e){var i=t.pageX,s=t.pageY,o={endX:i,endY:s};return e?o:G({startX:i,startY:s},o)}function yt(t,e){var i=t.aspectRatio,s=t.height,o=t.width,n=1<arguments.length&&void 0!==e?e:"contain",r=H(o),a=H(s);if(r&&a){var l=s*i;"contain"===n&&o<l||"cover"===n&&l<o?s=o/i:o=s*i}else r?s=o/i:a&&(o=s*i);return{width:o,height:s}}var bt=String.fromCharCode;var wt=/^data:.*,/;function xt(t){var e,i=new DataView(t);try{var s,o,n;if(255===i.getUint8(0)&&216===i.getUint8(1))for(var r=i.byteLength,a=2;a+1<r;){if(255===i.getUint8(a)&&225===i.getUint8(a+1)){o=a;break}a+=1}if(o){var l=o+10;if("Exif"===function(t,e,i){var s="";i+=e;for(var o=e;o<i;o+=1)s+=bt(t.getUint8(o));return s}(i,o+4,4)){var h=i.getUint16(l);if(((s=18761===h)||19789===h)&&42===i.getUint16(l+2,s)){var c=i.getUint32(l+4,s);8<=c&&(n=l+c)}}}if(n){var d,u,p=i.getUint16(n,s);for(u=0;u<p;u+=1)if(d=n+12*u+2,274===i.getUint16(d,s)){d+=8,e=i.getUint16(d,s),i.setUint16(d,1,s);break}}}catch(t){e=1}return e}var kt={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,e=this.options,i=this.container,s=this.cropper;tt(s,$),et(t,$);var o={width:Math.max(i.offsetWidth,Number(e.minContainerWidth)||200),height:Math.max(i.offsetHeight,Number(e.minContainerHeight)||100)};J(s,{width:(this.containerData=o).width,height:o.height}),tt(t,$),et(s,$)},initCanvas:function(){var t=this.containerData,e=this.imageData,i=this.options.viewMode,s=Math.abs(e.rotate)%180==90,o=s?e.naturalHeight:e.naturalWidth,n=s?e.naturalWidth:e.naturalHeight,r=o/n,a=t.width,l=t.height;t.height*r>t.width?3===i?a=t.height*r:l=t.width/r:3===i?l=t.width/r:a=t.height*r;var h={aspectRatio:r,naturalWidth:o,naturalHeight:n,width:a,height:l};h.left=(t.width-a)/2,h.top=(t.height-l)/2,h.oldLeft=h.left,h.oldTop=h.top,this.canvasData=h,this.limited=1===i||2===i,this.limitCanvas(!0,!0),this.initialImageData=G({},e),this.initialCanvasData=G({},h)},limitCanvas:function(t,e){var i=this.options,s=this.containerData,o=this.canvasData,n=this.cropBoxData,r=i.viewMode,a=o.aspectRatio,l=this.cropped&&n;if(t){var h=Number(i.minCanvasWidth)||0,c=Number(i.minCanvasHeight)||0;1<r?(h=Math.max(h,s.width),c=Math.max(c,s.height),3===r&&(h<c*a?h=c*a:c=h/a)):0<r&&(h?h=Math.max(h,l?n.width:0):c?c=Math.max(c,l?n.height:0):l&&((h=n.width)<(c=n.height)*a?h=c*a:c=h/a));var d=yt({aspectRatio:a,width:h,height:c});h=d.width,c=d.height,o.minWidth=h,o.minHeight=c,o.maxWidth=1/0,o.maxHeight=1/0}if(e)if((l?0:1)<r){var u=s.width-o.width,p=s.height-o.height;o.minLeft=Math.min(0,u),o.minTop=Math.min(0,p),o.maxLeft=Math.max(0,u),o.maxTop=Math.max(0,p),l&&this.limited&&(o.minLeft=Math.min(n.left,n.left+(n.width-o.width)),o.minTop=Math.min(n.top,n.top+(n.height-o.height)),o.maxLeft=n.left,o.maxTop=n.top,2===r&&(o.width>=s.width&&(o.minLeft=Math.min(0,u),o.maxLeft=Math.max(0,u)),o.height>=s.height&&(o.minTop=Math.min(0,p),o.maxTop=Math.max(0,p))))}else o.minLeft=-o.width,o.minTop=-o.height,o.maxLeft=s.width,o.maxTop=s.height},renderCanvas:function(t,e){var i=this.canvasData,s=this.imageData;if(e){var o=function(t){var e=t.width,i=t.height,s=t.degree;if(90===(s=Math.abs(s)%180))return{width:i,height:e};var o=s%90*Math.PI/180,n=Math.sin(o),r=Math.cos(o),a=e*r+i*n,l=e*n+i*r;return 90<s?{width:l,height:a}:{width:a,height:l}}({width:s.naturalWidth*Math.abs(s.scaleX||1),height:s.naturalHeight*Math.abs(s.scaleY||1),degree:s.rotate||0}),n=o.width,r=o.height,a=i.width*(n/i.naturalWidth),l=i.height*(r/i.naturalHeight);i.left-=(a-i.width)/2,i.top-=(l-i.height)/2,i.width=a,i.height=l,i.aspectRatio=n/r,i.naturalWidth=n,i.naturalHeight=r,this.limitCanvas(!0,!1)}(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCanvas(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,J(this.canvas,G({width:i.width,height:i.height},vt({translateX:i.left,translateY:i.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var e=this.canvasData,i=this.imageData,s=i.naturalWidth*(e.width/e.naturalWidth),o=i.naturalHeight*(e.height/e.naturalHeight);G(i,{width:s,height:o,left:(e.width-s)/2,top:(e.height-o)/2}),J(this.image,G({width:i.width,height:i.height},vt(G({translateX:i.left,translateY:i.top},i)))),t&&this.output()},initCropBox:function(){var t=this.options,e=this.canvasData,i=t.aspectRatio||t.initialAspectRatio,s=Number(t.autoCropArea)||.8,o={width:e.width,height:e.height};i&&(e.height*i>e.width?o.height=o.width/i:o.width=o.height*i),this.cropBoxData=o,this.limitCropBox(!0,!0),o.width=Math.min(Math.max(o.width,o.minWidth),o.maxWidth),o.height=Math.min(Math.max(o.height,o.minHeight),o.maxHeight),o.width=Math.max(o.minWidth,o.width*s),o.height=Math.max(o.minHeight,o.height*s),o.left=e.left+(e.width-o.width)/2,o.top=e.top+(e.height-o.height)/2,o.oldLeft=o.left,o.oldTop=o.top,this.initialCropBoxData=G({},o)},limitCropBox:function(t,e){var i=this.options,s=this.containerData,o=this.canvasData,n=this.cropBoxData,r=this.limited,a=i.aspectRatio;if(t){var l=Number(i.minCropBoxWidth)||0,h=Number(i.minCropBoxHeight)||0,c=r?Math.min(s.width,o.width,o.width+o.left,s.width-o.left):s.width,d=r?Math.min(s.height,o.height,o.height+o.top,s.height-o.top):s.height;l=Math.min(l,s.width),h=Math.min(h,s.height),a&&(l&&h?l<h*a?h=l/a:l=h*a:l?h=l/a:h&&(l=h*a),c<d*a?d=c/a:c=d*a),n.minWidth=Math.min(l,c),n.minHeight=Math.min(h,d),n.maxWidth=c,n.maxHeight=d}e&&(r?(n.minLeft=Math.max(0,o.left),n.minTop=Math.max(0,o.top),n.maxLeft=Math.min(s.width,o.left+o.width)-n.width,n.maxTop=Math.min(s.height,o.top+o.height)-n.height):(n.minLeft=0,n.minTop=0,n.maxLeft=s.width-n.width,n.maxTop=s.height-n.height))},renderCropBox:function(){var t=this.options,e=this.containerData,i=this.cropBoxData;(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCropBox(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,t.movable&&t.cropBoxMovable&&rt(this.face,f,i.width>=e.width&&i.height>=e.height?"move":"all"),J(this.cropBox,G({width:i.width,height:i.height},vt({translateX:i.left,translateY:i.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),dt(this.element,g,this.getData())}},Ct={initPreview:function(){var t=this.element,i=this.crossOrigin,e=this.options.preview,s=i?this.crossOriginUrl:this.url,o=t.alt||"The image to preview",n=document.createElement("img");if(i&&(n.crossOrigin=i),n.src=s,n.alt=o,this.viewBox.appendChild(n),this.viewBoxImage=n,e){var r=e;"string"==typeof e?r=t.ownerDocument.querySelectorAll(e):e.querySelector&&(r=[e]),Q(this.previews=r,function(t){var e=document.createElement("img");rt(t,m,{width:t.offsetWidth,height:t.offsetHeight,html:t.innerHTML}),i&&(e.crossOrigin=i),e.src=s,e.alt=o,e.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',t.innerHTML="",t.appendChild(e)})}},resetPreview:function(){Q(this.previews,function(t){var e=nt(t,m);J(t,{width:e.width,height:e.height}),t.innerHTML=e.html,function(e,i){if(j(e[i]))try{delete e[i]}catch(t){e[i]=void 0}else if(e.dataset)try{delete e.dataset[i]}catch(t){e.dataset[i]=void 0}else e.removeAttribute("data-".concat(ot(i)))}(t,m)})},preview:function(){var a=this.imageData,t=this.canvasData,e=this.cropBoxData,l=e.width,h=e.height,c=a.width,d=a.height,u=e.left-t.left-a.left,p=e.top-t.top-a.top;this.cropped&&!this.disabled&&(J(this.viewBoxImage,G({width:c,height:d},vt(G({translateX:-u,translateY:-p},a)))),Q(this.previews,function(t){var e=nt(t,m),i=e.width,s=e.height,o=i,n=s,r=1;l&&(n=h*(r=i/l)),h&&s<n&&(o=l*(r=s/h),n=s),J(t,{width:o,height:n}),J(t.getElementsByTagName("img")[0],G({width:c*r,height:d*r},vt(G({translateX:-u*r,translateY:-p*r},a))))}))}},Tt={bind:function(){var t=this.element,e=this.options,i=this.cropper;U(e.cropstart)&&ct(t,y,e.cropstart),U(e.cropmove)&&ct(t,_,e.cropmove),U(e.cropend)&&ct(t,v,e.cropend),U(e.crop)&&ct(t,g,e.crop),U(e.zoom)&&ct(t,L,e.zoom),ct(i,w,this.onCropStart=this.cropStart.bind(this)),e.zoomable&&e.zoomOnWheel&&ct(i,"wheel",this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleDragModeOnDblclick&&ct(i,b,this.onDblclick=this.dblclick.bind(this)),ct(t.ownerDocument,x,this.onCropMove=this.cropMove.bind(this)),ct(t.ownerDocument,A,this.onCropEnd=this.cropEnd.bind(this)),e.responsive&&ct(window,"resize",this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,e=this.options,i=this.cropper;U(e.cropstart)&&ht(t,y,e.cropstart),U(e.cropmove)&&ht(t,_,e.cropmove),U(e.cropend)&&ht(t,v,e.cropend),U(e.crop)&&ht(t,g,e.crop),U(e.zoom)&&ht(t,L,e.zoom),ht(i,w,this.onCropStart),e.zoomable&&e.zoomOnWheel&&ht(i,"wheel",this.onWheel,{passive:!1,capture:!0}),e.toggleDragModeOnDblclick&&ht(i,b,this.onDblclick),ht(t.ownerDocument,x,this.onCropMove),ht(t.ownerDocument,A,this.onCropEnd),e.responsive&&ht(window,"resize",this.onResize)}},St={resize:function(){var t=this.options,e=this.container,i=this.containerData,s=Number(t.minContainerWidth)||200,o=Number(t.minContainerHeight)||100;if(!(this.disabled||i.width<=s||i.height<=o)){var n,r,a=e.offsetWidth/i.width;if(1!=a||e.offsetHeight!==i.height)t.restore&&(n=this.getCanvasData(),r=this.getCropBoxData()),this.render(),t.restore&&(this.setCanvasData(Q(n,function(t,e){n[e]=t*a})),this.setCropBoxData(Q(r,function(t,e){r[e]=t*a})))}},dblclick:function(){this.disabled||"none"===this.options.dragMode||this.setDragMode(function(t,e){return t.classList?t.classList.contains(e):-1<t.className.indexOf(e)}(this.dragBox,a)?"move":h)},wheel:function(t){var e=this,i=Number(this.options.wheelZoomRatio)||.1,s=1;this.disabled||(t.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout(function(){e.wheeling=!1},50),t.deltaY?s=0<t.deltaY?1:-1:t.wheelDelta?s=-t.wheelDelta/120:t.detail&&(s=0<t.detail?1:-1),this.zoom(-s*i,t)))},cropStart:function(t){var e=t.buttons,i=t.button;if(!(this.disabled||P(e)&&1!==e||P(i)&&0!==i||t.ctrlKey)){var s,o=this.options,n=this.pointers;t.changedTouches?Q(t.changedTouches,function(t){n[t.identifier]=_t(t)}):n[t.pointerId||0]=_t(t),s=1<Object.keys(n).length&&o.zoomable&&o.zoomOnTouch?"zoom":nt(t.target,f),z.test(s)&&!1!==dt(this.element,y,{originalEvent:t,action:s})&&(t.preventDefault(),this.action=s,this.cropping=!1,"crop"===s&&(this.cropping=!0,tt(this.dragBox,l)))}},cropMove:function(t){var e=this.action;if(!this.disabled&&e){var i=this.pointers;t.preventDefault(),!1!==dt(this.element,_,{originalEvent:t,action:e})&&(t.changedTouches?Q(t.changedTouches,function(t){G(i[t.identifier]||{},_t(t,!0))}):G(i[t.pointerId||0]||{},_t(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var e=this.action,i=this.pointers;t.changedTouches?Q(t.changedTouches,function(t){delete i[t.identifier]}):delete i[t.pointerId||0],e&&(t.preventDefault(),Object.keys(i).length||(this.action=""),this.cropping&&(this.cropping=!1,it(this.dragBox,l,this.cropped&&this.options.modal)),dt(this.element,v,{originalEvent:t,action:e}))}}},Et={change:function(t){var e,i=this.options,s=this.canvasData,o=this.containerData,n=this.cropBoxData,r=this.pointers,a=this.action,l=i.aspectRatio,h=n.left,c=n.top,d=n.width,u=n.height,p=h+d,f=c+u,m=0,g=0,v=o.width,_=o.height,y=!0;!l&&t.shiftKey&&(l=d&&u?d/u:1),this.limited&&(m=n.minLeft,g=n.minTop,v=m+Math.min(o.width,s.width,s.left+s.width),_=g+Math.min(o.height,s.height,s.top+s.height));function b(t){switch(t){case"e":p+x.x>v&&(x.x=v-p);break;case"w":h+x.x<m&&(x.x=m-h);break;case k:c+x.y<g&&(x.y=g-c);break;case"s":f+x.y>_&&(x.y=_-f)}}var w=r[Object.keys(r)[0]],x={x:w.endX-w.startX,y:w.endY-w.startY};switch(a){case"all":h+=x.x,c+=x.y;break;case"e":if(0<=x.x&&(v<=p||l&&(c<=g||_<=f))){y=!1;break}b("e"),(d+=x.x)<0&&(a="w",h-=d=-d),l&&(u=d/l,c+=(n.height-u)/2);break;case k:if(x.y<=0&&(c<=g||l&&(h<=m||v<=p))){y=!1;break}b(k),u-=x.y,c+=x.y,u<0&&(a="s",c-=u=-u),l&&(d=u*l,h+=(n.width-d)/2);break;case"w":if(x.x<=0&&(h<=m||l&&(c<=g||_<=f))){y=!1;break}b("w"),d-=x.x,h+=x.x,d<0&&(a="e",h-=d=-d),l&&(u=d/l,c+=(n.height-u)/2);break;case"s":if(0<=x.y&&(_<=f||l&&(h<=m||v<=p))){y=!1;break}b("s"),(u+=x.y)<0&&(a=k,c-=u=-u),l&&(d=u*l,h+=(n.width-d)/2);break;case C:if(l){if(x.y<=0&&(c<=g||v<=p)){y=!1;break}b(k),u-=x.y,c+=x.y,d=u*l}else b(k),b("e"),0<=x.x?p<v?d+=x.x:x.y<=0&&c<=g&&(y=!1):d+=x.x,x.y<=0?g<c&&(u-=x.y,c+=x.y):(u-=x.y,c+=x.y);d<0&&u<0?(a=E,c-=u=-u,h-=d=-d):d<0?(a=T,h-=d=-d):u<0&&(a=S,c-=u=-u);break;case T:if(l){if(x.y<=0&&(c<=g||h<=m)){y=!1;break}b(k),u-=x.y,c+=x.y,d=u*l,h+=n.width-d}else b(k),b("w"),x.x<=0?m<h?(d-=x.x,h+=x.x):x.y<=0&&c<=g&&(y=!1):(d-=x.x,h+=x.x),x.y<=0?g<c&&(u-=x.y,c+=x.y):(u-=x.y,c+=x.y);d<0&&u<0?(a=S,c-=u=-u,h-=d=-d):d<0?(a=C,h-=d=-d):u<0&&(a=E,c-=u=-u);break;case E:if(l){if(x.x<=0&&(h<=m||_<=f)){y=!1;break}b("w"),d-=x.x,h+=x.x,u=d/l}else b("s"),b("w"),x.x<=0?m<h?(d-=x.x,h+=x.x):0<=x.y&&_<=f&&(y=!1):(d-=x.x,h+=x.x),0<=x.y?f<_&&(u+=x.y):u+=x.y;d<0&&u<0?(a=C,c-=u=-u,h-=d=-d):d<0?(a=S,h-=d=-d):u<0&&(a=T,c-=u=-u);break;case S:if(l){if(0<=x.x&&(v<=p||_<=f)){y=!1;break}b("e"),u=(d+=x.x)/l}else b("s"),b("e"),0<=x.x?p<v?d+=x.x:0<=x.y&&_<=f&&(y=!1):d+=x.x,0<=x.y?f<_&&(u+=x.y):u+=x.y;d<0&&u<0?(a=T,c-=u=-u,h-=d=-d):d<0?(a=E,h-=d=-d):u<0&&(a=C,c-=u=-u);break;case"move":this.move(x.x,x.y),y=!1;break;case"zoom":this.zoom(function(t){var e=G({},t),l=[];return Q(t,function(a,t){delete e[t],Q(e,function(t){var e=Math.abs(a.startX-t.startX),i=Math.abs(a.startY-t.startY),s=Math.abs(a.endX-t.endX),o=Math.abs(a.endY-t.endY),n=Math.sqrt(e*e+i*i),r=(Math.sqrt(s*s+o*o)-n)/n;l.push(r)})}),l.sort(function(t,e){return Math.abs(t)<Math.abs(e)}),l[0]}(r),t),y=!1;break;case"crop":if(!x.x||!x.y){y=!1;break}e=ut(this.cropper),h=w.startX-e.left,c=w.startY-e.top,d=n.minWidth,u=n.minHeight,0<x.x?a=0<x.y?S:C:x.x<0&&(h-=d,a=0<x.y?E:T),x.y<0&&(c-=u),this.cropped||(et(this.cropBox,$),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}y&&(n.width=d,n.height=u,n.left=h,n.top=c,this.action=a,this.renderCropBox()),Q(r,function(t){t.startX=t.endX,t.startY=t.endY})}},$t={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&tt(this.dragBox,l),et(this.cropBox,$),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=G({},this.initialImageData),this.canvasData=G({},this.initialCanvasData),this.cropBoxData=G({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(G(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),et(this.dragBox,l),tt(this.cropBox,$)),this},replace:function(e,t){var i=1<arguments.length&&void 0!==t&&t;return!this.disabled&&e&&(this.isImg&&(this.element.src=e),i?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,Q(this.previews,function(t){t.getElementsByTagName("img")[0].src=e}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,et(this.cropper,n)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,tt(this.cropper,n)),this},destroy:function(){var t=this.element;return t[c]&&(t[c]=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate()),this},move:function(t,e){var i=1<arguments.length&&void 0!==e?e:t,s=this.canvasData,o=s.left,n=s.top;return this.moveTo(R(t)?t:o+Number(t),R(i)?i:n+Number(i))},moveTo:function(t,e){var i=1<arguments.length&&void 0!==e?e:t,s=this.canvasData,o=!1;return t=Number(t),i=Number(i),this.ready&&!this.disabled&&this.options.movable&&(P(t)&&(s.left=t,o=!0),P(i)&&(s.top=i,o=!0),o&&this.renderCanvas(!0)),this},zoom:function(t,e){var i=this.canvasData;return t=(t=Number(t))<0?1/(1-t):1+t,this.zoomTo(i.width*t/i.naturalWidth,null,e)},zoomTo:function(t,e,i){var s=this.options,o=this.canvasData,n=o.width,r=o.height,a=o.naturalWidth,l=o.naturalHeight;if(0<=(t=Number(t))&&this.ready&&!this.disabled&&s.zoomable){var h=a*t,c=l*t;if(!1===dt(this.element,L,{ratio:t,oldRatio:n/a,originalEvent:i}))return this;if(i){var d=this.pointers,u=ut(this.cropper),p=d&&Object.keys(d).length?function(t){var s=0,o=0,n=0;return Q(t,function(t){var e=t.startX,i=t.startY;s+=e,o+=i,n+=1}),{pageX:s/=n,pageY:o/=n}}(d):{pageX:i.pageX,pageY:i.pageY};o.left-=(h-n)*((p.pageX-u.left-o.left)/n),o.top-=(c-r)*((p.pageY-u.top-o.top)/r)}else q(e)&&P(e.x)&&P(e.y)?(o.left-=(h-n)*((e.x-o.left)/n),o.top-=(c-r)*((e.y-o.top)/r)):(o.left-=(h-n)/2,o.top-=(c-r)/2);o.width=h,o.height=c,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return P(t=Number(t))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var e=this.imageData.scaleY;return this.scale(t,P(e)?e:1)},scaleY:function(t){var e=this.imageData.scaleX;return this.scale(P(e)?e:1,t)},scale:function(t,e){var i=1<arguments.length&&void 0!==e?e:t,s=this.imageData,o=!1;return t=Number(t),i=Number(i),this.ready&&!this.disabled&&this.options.scalable&&(P(t)&&(s.scaleX=t,o=!0),P(i)&&(s.scaleY=i,o=!0),o&&this.renderCanvas(!0,!0)),this},getData:function(t){var i,e=0<arguments.length&&void 0!==t&&t,s=this.options,o=this.imageData,n=this.canvasData,r=this.cropBoxData;if(this.ready&&this.cropped){i={x:r.left-n.left,y:r.top-n.top,width:r.width,height:r.height};var a=o.width/o.naturalWidth;if(Q(i,function(t,e){i[e]=t/a}),e){var l=Math.round(i.y+i.height),h=Math.round(i.x+i.width);i.x=Math.round(i.x),i.y=Math.round(i.y),i.width=h-i.x,i.height=l-i.y}}else i={x:0,y:0,width:0,height:0};return s.rotatable&&(i.rotate=o.rotate||0),s.scalable&&(i.scaleX=o.scaleX||1,i.scaleY=o.scaleY||1),i},setData:function(t){var e=this.options,i=this.imageData,s=this.canvasData,o={};if(this.ready&&!this.disabled&&q(t)){var n=!1;e.rotatable&&P(t.rotate)&&t.rotate!==i.rotate&&(i.rotate=t.rotate,n=!0),e.scalable&&(P(t.scaleX)&&t.scaleX!==i.scaleX&&(i.scaleX=t.scaleX,n=!0),P(t.scaleY)&&t.scaleY!==i.scaleY&&(i.scaleY=t.scaleY,n=!0)),n&&this.renderCanvas(!0,!0);var r=i.width/i.naturalWidth;P(t.x)&&(o.left=t.x*r+s.left),P(t.y)&&(o.top=t.y*r+s.top),P(t.width)&&(o.width=t.width*r),P(t.height)&&(o.height=t.height*r),this.setCropBoxData(o)}return this},getContainerData:function(){return this.ready?G({},this.containerData):{}},getImageData:function(){return this.sized?G({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,i={};return this.ready&&Q(["left","top","width","height","naturalWidth","naturalHeight"],function(t){i[t]=e[t]}),i},setCanvasData:function(t){var e=this.canvasData,i=e.aspectRatio;return this.ready&&!this.disabled&&q(t)&&(P(t.left)&&(e.left=t.left),P(t.top)&&(e.top=t.top),P(t.width)?(e.width=t.width,e.height=t.width/i):P(t.height)&&(e.height=t.height,e.width=t.height*i),this.renderCanvas(!0)),this},getCropBoxData:function(){var t,e=this.cropBoxData;return this.ready&&this.cropped&&(t={left:e.left,top:e.top,width:e.width,height:e.height}),t||{}},setCropBoxData:function(t){var e,i,s=this.cropBoxData,o=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&q(t)&&(P(t.left)&&(s.left=t.left),P(t.top)&&(s.top=t.top),P(t.width)&&t.width!==s.width&&(e=!0,s.width=t.width),P(t.height)&&t.height!==s.height&&(i=!0,s.height=t.height),o&&(e?s.height=s.width/o:i&&(s.width=s.height*o)),this.renderCropBox()),this},getCroppedCanvas:function(t){var e=0<arguments.length&&void 0!==t?t:{};if(!this.ready||!window.HTMLCanvasElement)return null;var i=this.canvasData,s=function(t,e,i,s){var o=e.aspectRatio,n=e.naturalWidth,r=e.naturalHeight,a=e.rotate,l=void 0===a?0:a,h=e.scaleX,c=void 0===h?1:h,d=e.scaleY,u=void 0===d?1:d,p=i.aspectRatio,f=i.naturalWidth,m=i.naturalHeight,g=s.fillColor,v=void 0===g?"transparent":g,_=s.imageSmoothingEnabled,y=void 0===_||_,b=s.imageSmoothingQuality,w=void 0===b?"low":b,x=s.maxWidth,k=void 0===x?1/0:x,C=s.maxHeight,T=void 0===C?1/0:C,S=s.minWidth,E=void 0===S?0:S,$=s.minHeight,A=void 0===$?0:$,L=document.createElement("canvas"),M=L.getContext("2d"),z=yt({aspectRatio:p,width:k,height:T}),F=yt({aspectRatio:p,width:E,height:A},"cover"),O=Math.min(z.width,Math.max(F.width,f)),D=Math.min(z.height,Math.max(F.height,m)),I=yt({aspectRatio:o,width:k,height:T}),W=yt({aspectRatio:o,width:E,height:A},"cover"),P=Math.min(I.width,Math.max(W.width,n)),H=Math.min(I.height,Math.max(W.height,r)),R=[-P/2,-H/2,P,H];return L.width=V(O),L.height=V(D),M.fillStyle=v,M.fillRect(0,0,O,D),M.save(),M.translate(O/2,D/2),M.rotate(l*Math.PI/180),M.scale(c,u),M.imageSmoothingEnabled=y,M.imageSmoothingQuality=w,M.drawImage.apply(M,[t].concat(N(R.map(function(t){return Math.floor(V(t))})))),M.restore(),L}(this.image,this.imageData,i,e);if(!this.cropped)return s;var o=this.getData(),n=o.x,r=o.y,a=o.width,l=o.height,h=s.width/Math.floor(i.naturalWidth);1!=h&&(n*=h,r*=h,a*=h,l*=h);var c=a/l,d=yt({aspectRatio:c,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),u=yt({aspectRatio:c,width:e.minWidth||0,height:e.minHeight||0},"cover"),p=yt({aspectRatio:c,width:e.width||(1!=h?s.width:a),height:e.height||(1!=h?s.height:l)}),f=p.width,m=p.height;f=Math.min(d.width,Math.max(u.width,f)),m=Math.min(d.height,Math.max(u.height,m));var g=document.createElement("canvas"),v=g.getContext("2d");g.width=V(f),g.height=V(m),v.fillStyle=e.fillColor||"transparent",v.fillRect(0,0,f,m);var _=e.imageSmoothingEnabled,y=void 0===_||_,b=e.imageSmoothingQuality;v.imageSmoothingEnabled=y,b&&(v.imageSmoothingQuality=b);var w,x,k,C,T,S,E=s.width,$=s.height,A=n,L=r;A<=-a||E<A?T=k=w=A=0:A<=0?(k=-A,A=0,T=w=Math.min(E,a+A)):A<=E&&(k=0,T=w=Math.min(a,E-A)),w<=0||L<=-l||$<L?S=C=x=L=0:L<=0?(C=-L,L=0,S=x=Math.min($,l+L)):L<=$&&(C=0,S=x=Math.min(l,$-L));var M=[A,L,w,x];if(0<T&&0<S){var z=f/a;M.push(k*z,C*z,T*z,S*z)}return v.drawImage.apply(v,[s].concat(N(M.map(function(t){return Math.floor(V(t))})))),g},setAspectRatio:function(t){var e=this.options;return this.disabled||R(t)||(e.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(t){var e=this.options,i=this.dragBox,s=this.face;if(this.ready&&!this.disabled){var o=t===h,n=e.movable&&"move"===t;t=o||n?t:"none",e.dragMode=t,rt(i,f,t),it(i,a,o),it(i,p,n),e.cropBoxMovable||(rt(s,f,t),it(s,a,o),it(s,p,n))}return this}},At=r.Cropper,Lt=function(){function i(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),!t||!D.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=G({},I,q(e)&&e),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return function(t,e,i){e&&s(t.prototype,e),i&&s(t,i)}(i,[{key:"init",value:function(){var t,e=this.element,i=e.tagName.toLowerCase();if(!e[c]){if(e[c]=this,"img"===i){if(this.isImg=!0,t=e.getAttribute("src")||"",!(this.originalUrl=t))return;t=e.src}else"canvas"===i&&window.HTMLCanvasElement&&(t=e.toDataURL());this.load(t)}}},{key:"load",value:function(t){var e=this;if(t){this.url=t,this.imageData={};var i=this.element,s=this.options;if(s.rotatable||s.scalable||(s.checkOrientation=!1),s.checkOrientation&&window.ArrayBuffer)if(F.test(t))O.test(t)?this.read(function(t){var e=t.replace(wt,""),i=atob(e),s=new ArrayBuffer(i.length),o=new Uint8Array(s);return Q(o,function(t,e){o[e]=i.charCodeAt(e)}),s}(t)):this.clone();else{var o=new XMLHttpRequest,n=this.clone.bind(this);this.reloading=!0,(this.xhr=o).onabort=n,o.onerror=n,o.ontimeout=n,o.onprogress=function(){o.getResponseHeader("content-type")!==M&&o.abort()},o.onload=function(){e.read(o.response)},o.onloadend=function(){e.reloading=!1,e.xhr=null},s.checkCrossOrigin&&mt(t)&&i.crossOrigin&&(t=gt(t)),o.open("GET",t),o.responseType="arraybuffer",o.withCredentials="use-credentials"===i.crossOrigin,o.send()}else this.clone()}}},{key:"read",value:function(t){var e=this.options,i=this.imageData,s=xt(t),o=0,n=1,r=1;if(1<s){this.url=function(t,e){for(var i=[],s=new Uint8Array(t);0<s.length;)i.push(bt.apply(null,X(s.subarray(0,8192)))),s=s.subarray(8192);return"data:".concat(e,";base64,").concat(btoa(i.join("")))}(t,M);var a=function(t){var e=0,i=1,s=1;switch(t){case 2:i=-1;break;case 3:e=-180;break;case 4:s=-1;break;case 5:e=90,s=-1;break;case 6:e=90;break;case 7:e=90,i=-1;break;case 8:e=-90}return{rotate:e,scaleX:i,scaleY:s}}(s);o=a.rotate,n=a.scaleX,r=a.scaleY}e.rotatable&&(i.rotate=o),e.scalable&&(i.scaleX=n,i.scaleY=r),this.clone()}},{key:"clone",value:function(){var t=this.element,e=this.url,i=t.crossOrigin,s=e;this.options.checkCrossOrigin&&mt(e)&&(i=i||"anonymous",s=gt(e)),this.crossOrigin=i,this.crossOriginUrl=s;var o=document.createElement("img");i&&(o.crossOrigin=i),o.src=s||e,o.alt=t.alt||"The image to crop",(this.image=o).onload=this.start.bind(this),o.onerror=this.stop.bind(this),tt(o,d),t.parentNode.insertBefore(o,t.nextSibling)}},{key:"start",value:function(){var i=this,t=this.image;t.onload=null,t.onerror=null,this.sizing=!0;function e(t,e){G(i.imageData,{naturalWidth:t,naturalHeight:e,aspectRatio:t/e}),i.sizing=!1,i.sized=!0,i.build()}var s=r.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(r.navigator.userAgent);if(!t.naturalWidth||s){var o=document.createElement("img"),n=document.body||document.documentElement;(this.sizingImage=o).onload=function(){e(o.width,o.height),s||n.removeChild(o)},o.src=t.src,s||(o.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",n.appendChild(o))}else e(t.naturalWidth,t.naturalHeight)}},{key:"stop",value:function(){var t=this.image;t.onload=null,t.onerror=null,t.parentNode.removeChild(t),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var t=this.element,e=this.options,i=this.image,s=t.parentNode,o=document.createElement("div");o.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var n=o.querySelector(".".concat(c,"-container")),r=n.querySelector(".".concat(c,"-canvas")),a=n.querySelector(".".concat(c,"-drag-box")),l=n.querySelector(".".concat(c,"-crop-box")),h=l.querySelector(".".concat(c,"-face"));this.container=s,this.cropper=n,this.canvas=r,this.dragBox=a,this.cropBox=l,this.viewBox=n.querySelector(".".concat(c,"-view-box")),this.face=h,r.appendChild(i),tt(t,$),s.insertBefore(n,t.nextSibling),this.isImg||et(i,d),this.initPreview(),this.bind(),e.initialAspectRatio=Math.max(0,e.initialAspectRatio)||NaN,e.aspectRatio=Math.max(0,e.aspectRatio)||NaN,e.viewMode=Math.max(0,Math.min(3,Math.round(e.viewMode)))||0,tt(l,$),e.guides||tt(l.getElementsByClassName("".concat(c,"-dashed")),$),e.center||tt(l.getElementsByClassName("".concat(c,"-center")),$),e.background&&tt(n,"".concat(c,"-bg")),e.highlight||tt(h,u),e.cropBoxMovable&&(tt(h,p),rt(h,f,"all")),e.cropBoxResizable||(tt(l.getElementsByClassName("".concat(c,"-line")),$),tt(l.getElementsByClassName("".concat(c,"-point")),$)),this.render(),this.ready=!0,this.setDragMode(e.dragMode),e.autoCrop&&this.crop(),this.setData(e.data),U(e.ready)&&ct(t,"ready",e.ready,{once:!0}),dt(t,"ready")}}},{key:"unbuild",value:function(){this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),et(this.element,$))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=At,i}},{key:"setDefaults",value:function(t){G(I,q(t)&&t)}}]),i}();return G(Lt.prototype,kt,Ct,Tt,St,Et,$t),Lt}),$(document).ready(function(){$(".directory-listing .tabs .fallback, .directory-list .tabs .fallback").on("change",function(t){var e=$(this).find("select").val();window.location=e})}),function(){var r,t,e,i,d,u,s,o,W,P,a=[].slice,n={}.hasOwnProperty;function l(){}function H(t,e){var i,s,o;if(this.element=t,this.version=H.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(H.instances.push(this),this.element.dropzone=this,i=null!=(o=H.optionsForElement(this.element))?o:{},this.options=W({},this.defaultOptions,i,null!=e?e:{}),this.options.forceFallback||!H.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(s=this.getExistingFallback())&&s.parentNode&&s.parentNode.removeChild(s),!1!==this.options.previewsContainer&&(this.options.previewsContainer?this.previewsContainer=H.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(!0===this.options.clickable?this.clickableElements=[this.element]:this.clickableElements=H.getElements(this.options.clickable,"clickable")),this.init()}s=function(){},l.prototype.addEventListener=l.prototype.on,l.prototype.on=function(t,e){return this._callbacks=this._callbacks||{},this._callbacks[t]||(this._callbacks[t]=[]),this._callbacks[t].push(e),this},l.prototype.emit=function(){var t,e,i,s,o;if(i=arguments[0],t=2<=arguments.length?a.call(arguments,1):[],this._callbacks=this._callbacks||{},e=this._callbacks[i])for(s=0,o=e.length;s<o;s++)e[s].apply(this,t);return this},l.prototype.removeListener=l.prototype.off,l.prototype.removeAllListeners=l.prototype.off,l.prototype.removeEventListener=l.prototype.off,l.prototype.off=function(t,e){var i,s,o,n;if(!this._callbacks||0===arguments.length)return this._callbacks={},this;if(!(i=this._callbacks[t]))return this;if(1===arguments.length)return delete this._callbacks[t],this;for(s=o=0,n=i.length;o<n;s=++o)if(i[s]===e){i.splice(s,1);break}return this},function(t,e){for(var i in e)n.call(e,i)&&(t[i]=e[i]);function s(){this.constructor=t}s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype}(H,t=l),H.prototype.Emitter=t,H.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],H.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1e3,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(t,e){return e()},init:function(){return s},forceFallback:!1,fallback:function(){var t,e,i,s,o,n;for(this.element.className=this.element.className+" dz-browser-not-supported",s=0,o=(n=this.element.getElementsByTagName("div")).length;s<o;s++)t=n[s],/(^| )dz-message($| )/.test(t.className)&&((e=t).className="dz-message");return e||(e=H.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(e)),(i=e.getElementsByTagName("span")[0])&&(null!=i.textContent?i.textContent=this.options.dictFallbackMessage:null!=i.innerText&&(i.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(t){var e,i,s;return e={srcX:0,srcY:0,srcWidth:t.width,srcHeight:t.height},i=t.width/t.height,e.optWidth=this.options.thumbnailWidth,e.optHeight=this.options.thumbnailHeight,null==e.optWidth&&null==e.optHeight?(e.optWidth=e.srcWidth,e.optHeight=e.srcHeight):null==e.optWidth?e.optWidth=i*e.optHeight:null==e.optHeight&&(e.optHeight=1/i*e.optWidth),s=e.optWidth/e.optHeight,t.height<e.optHeight||t.width<e.optWidth?(e.trgHeight=e.srcHeight,e.trgWidth=e.srcWidth):s<i?(e.srcHeight=t.height,e.srcWidth=e.srcHeight*s):(e.srcWidth=t.width,e.srcHeight=e.srcWidth/s),e.srcX=(t.width-e.srcWidth)/2,e.srcY=(t.height-e.srcHeight)/2,e},drop:function(t){return this.element.classList.remove("dz-drag-hover")},dragstart:s,dragend:function(t){return this.element.classList.remove("dz-drag-hover")},dragenter:function(t){return this.element.classList.add("dz-drag-hover")},dragover:function(t){return this.element.classList.add("dz-drag-hover")},dragleave:function(t){return this.element.classList.remove("dz-drag-hover")},paste:s,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var t,i,s,o,n,r,a,l,h,c,d,u,p;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(e.previewElement=H.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement),s=0,r=(h=e.previewElement.querySelectorAll("[data-dz-name]")).length;s<r;s++)h[s].textContent=this._renameFilename(e.name);for(o=0,a=(c=e.previewElement.querySelectorAll("[data-dz-size]")).length;o<a;o++)c[o].innerHTML=this.filesize(e.size);for(this.options.addRemoveLinks&&(e._removeLink=H.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),e.previewElement.appendChild(e._removeLink)),p=this,t=function(t){return t.preventDefault(),t.stopPropagation(),e.status===H.UPLOADING?H.confirm(p.options.dictCancelUploadConfirmation,function(){return p.removeFile(e)}):p.options.dictRemoveFileConfirmation?H.confirm(p.options.dictRemoveFileConfirmation,function(){return p.removeFile(e)}):p.removeFile(e)},u=[],n=0,l=(d=e.previewElement.querySelectorAll("[data-dz-remove]")).length;n<l;n++)i=d[n],u.push(i.addEventListener("click",t));return u}},removedfile:function(t){var e;return t.previewElement&&null!=(e=t.previewElement)&&e.parentNode.removeChild(t.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(t,e){var i,s,o,n;if(t.previewElement){for(t.previewElement.classList.remove("dz-file-preview"),s=0,o=(n=t.previewElement.querySelectorAll("[data-dz-thumbnail]")).length;s<o;s++)(i=n[s]).alt=t.name,i.src=e;return setTimeout(function(){return t.previewElement.classList.add("dz-image-preview")},1)}},error:function(t,e){var i,s,o,n,r;if(t.previewElement){for(t.previewElement.classList.add("dz-error"),"String"!=typeof e&&e.error&&(e=e.error),r=[],s=0,o=(n=t.previewElement.querySelectorAll("[data-dz-errormessage]")).length;s<o;s++)i=n[s],r.push(i.textContent=e);return r}},errormultiple:s,processing:function(t){if(t.previewElement&&(t.previewElement.classList.add("dz-processing"),t._removeLink))return t._removeLink.textContent=this.options.dictCancelUpload},processingmultiple:s,uploadprogress:function(t,e,i){var s,o,n,r,a;if(t.previewElement){for(a=[],o=0,n=(r=t.previewElement.querySelectorAll("[data-dz-uploadprogress]")).length;o<n;o++)"PROGRESS"===(s=r[o]).nodeName?a.push(s.value=e):a.push(s.style.width=e+"%");return a}},totaluploadprogress:s,sending:s,sendingmultiple:s,success:function(t){if(t.previewElement)return t.previewElement.classList.add("dz-success")},successmultiple:s,canceled:function(t){return this.emit("error",t,"Upload canceled.")},canceledmultiple:s,complete:function(t){if(t._removeLink&&(t._removeLink.textContent=this.options.dictRemoveFile),t.previewElement)return t.previewElement.classList.add("dz-complete")},completemultiple:s,maxfilesexceeded:s,maxfilesreached:s,queuecomplete:s,addedfiles:s,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'},W=function(){var t,e,i,s,o,n,r;for(s=arguments[0],n=0,r=(i=2<=arguments.length?a.call(arguments,1):[]).length;n<r;n++)for(t in e=i[n])o=e[t],s[t]=o;return s},H.prototype.getAcceptedFiles=function(){var t,e,i,s,o;for(o=[],e=0,i=(s=this.files).length;e<i;e++)(t=s[e]).accepted&&o.push(t);return o},H.prototype.getRejectedFiles=function(){var t,e,i,s,o;for(o=[],e=0,i=(s=this.files).length;e<i;e++)(t=s[e]).accepted||o.push(t);return o},H.prototype.getFilesWithStatus=function(t){var e,i,s,o,n;for(n=[],i=0,s=(o=this.files).length;i<s;i++)(e=o[i]).status===t&&n.push(e);return n},H.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(H.QUEUED)},H.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(H.UPLOADING)},H.prototype.getAddedFiles=function(){return this.getFilesWithStatus(H.ADDED)},H.prototype.getActiveFiles=function(){var t,e,i,s,o;for(o=[],e=0,i=(s=this.files).length;e<i;e++)(t=s[e]).status!==H.UPLOADING&&t.status!==H.QUEUED||o.push(t);return o},H.prototype.init=function(){var t,i,o,e,s,n,r,a,l,h,c,d,u,p,f,m,g,v,_;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(H.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(a=this,(o=function(){return a.hiddenFileInput&&a.hiddenFileInput.parentNode.removeChild(a.hiddenFileInput),a.hiddenFileInput=document.createElement("input"),a.hiddenFileInput.setAttribute("type","file"),(null==a.options.maxFiles||1<a.options.maxFiles)&&a.hiddenFileInput.setAttribute("multiple","multiple"),a.hiddenFileInput.className="dz-hidden-input",null!=a.options.acceptedFiles&&a.hiddenFileInput.setAttribute("accept",a.options.acceptedFiles),null!=a.options.capture&&a.hiddenFileInput.setAttribute("capture",a.options.capture),a.hiddenFileInput.style.visibility="hidden",a.hiddenFileInput.style.position="absolute",a.hiddenFileInput.style.top="0",a.hiddenFileInput.style.left="0",a.hiddenFileInput.style.height="0",a.hiddenFileInput.style.width="0",document.querySelector(a.options.hiddenInputContainer).appendChild(a.hiddenFileInput),a.hiddenFileInput.addEventListener("change",function(){var t,e,i,s;if((e=a.hiddenFileInput.files).length)for(i=0,s=e.length;i<s;i++)t=e[i],a.addFile(t);return a.emit("addedfiles",e),o()})})()),this.URL=null!=(n=window.URL)?n:window.webkitURL,e=0,s=(r=this.events).length;e<s;e++)t=r[e],this.on(t,this.options[t]);return this.on("uploadprogress",(l=this,function(){return l.updateTotalUploadProgress()})),this.on("removedfile",(h=this,function(){return h.updateTotalUploadProgress()})),this.on("canceled",(c=this,function(t){return c.emit("complete",t)})),this.on("complete",(d=this,function(t){if(0===d.getAddedFiles().length&&0===d.getUploadingFiles().length&&0===d.getQueuedFiles().length)return setTimeout(function(){return d.emit("queuecomplete")},0)})),i=function(t){return t.stopPropagation(),t.preventDefault?t.preventDefault():t.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:(v=this,function(t){return v.emit("dragstart",t)}),dragenter:(g=this,function(t){return i(t),g.emit("dragenter",t)}),dragover:(m=this,function(t){var e;try{e=t.dataTransfer.effectAllowed}catch(t){}return t.dataTransfer.dropEffect="move"===e||"linkMove"===e?"move":"copy",i(t),m.emit("dragover",t)}),dragleave:(f=this,function(t){return f.emit("dragleave",t)}),drop:(p=this,function(t){return i(t),p.drop(t)}),dragend:(u=this,function(t){return u.emit("dragend",t)})}}],this.clickableElements.forEach((_=this,function(e){return _.listeners.push({element:e,events:{click:function(t){return e===_.element&&t.target!==_.element&&!H.elementInside(t.target,_.element.querySelector(".dz-message"))||_.hiddenFileInput.click(),!0}}})})),this.enable(),this.options.init.call(this)},H.prototype.destroy=function(){var t;return this.disable(),this.removeAllFiles(!0),(null!=(t=this.hiddenFileInput)?t.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,H.instances.splice(H.instances.indexOf(this),1)},H.prototype.updateTotalUploadProgress=function(){var t,e,i,s,o,n,r;if(e=i=0,this.getActiveFiles().length){for(o=0,n=(r=this.getActiveFiles()).length;o<n;o++)i+=(t=r[o]).upload.bytesSent,e+=t.upload.total;s=100*i/e}else s=100;return this.emit("totaluploadprogress",s,e,i)},H.prototype._getParamName=function(t){return"function"==typeof this.options.paramName?this.options.paramName(t):this.options.paramName+(this.options.uploadMultiple?"["+t+"]":"")},H.prototype._renameFilename=function(t){return"function"!=typeof this.options.renameFilename?t:this.options.renameFilename(t)},H.prototype.getFallbackForm=function(){var t,e,i,s;return(t=this.getExistingFallback())?t:(i='<div class="dz-fallback">',this.options.dictFallbackText&&(i+="<p>"+this.options.dictFallbackText+"</p>"),i+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',e=H.createElement(i),"FORM"!==this.element.tagName?(s=H.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>')).appendChild(e):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=s?s:e)},H.prototype.getExistingFallback=function(){var t,e,i,s,o,n;for(e=function(t){var e,i,s;for(i=0,s=t.length;i<s;i++)if(e=t[i],/(^| )fallback($| )/.test(e.className))return e},s=0,o=(n=["div","form"]).length;s<o;s++)if(i=n[s],t=e(this.element.getElementsByTagName(i)))return t},H.prototype.setupEventListeners=function(){var i,s,o,t,e,n,r;for(r=[],t=0,e=(n=this.listeners).length;t<e;t++)i=n[t],r.push(function(){var t,e;for(s in e=[],t=i.events)o=t[s],e.push(i.element.addEventListener(s,o,!1));return e}());return r},H.prototype.removeEventListeners=function(){var i,s,o,t,e,n,r;for(r=[],t=0,e=(n=this.listeners).length;t<e;t++)i=n[t],r.push(function(){var t,e;for(s in e=[],t=i.events)o=t[s],e.push(i.element.removeEventListener(s,o,!1));return e}());return r},H.prototype.disable=function(){var t,e,i,s,o;for(this.clickableElements.forEach(function(t){return t.classList.remove("dz-clickable")}),this.removeEventListeners(),o=[],e=0,i=(s=this.files).length;e<i;e++)t=s[e],o.push(this.cancelUpload(t));return o},H.prototype.enable=function(){return this.clickableElements.forEach(function(t){return t.classList.add("dz-clickable")}),this.setupEventListeners()},H.prototype.filesize=function(t){var e,i,s,o,n,r,a;if(s="b",(i=0)<t){for(e=r=0,a=(n=["TB","GB","MB","KB","b"]).length;r<a;e=++r)if(o=n[e],Math.pow(this.options.filesizeBase,4-e)/10<=t){i=t/Math.pow(this.options.filesizeBase,4-e),s=o;break}i=Math.round(10*i)/10}return"<strong>"+i+"</strong> "+s},H.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},H.prototype.drop=function(t){var e,i;t.dataTransfer&&(this.emit("drop",t),e=t.dataTransfer.files,this.emit("addedfiles",e),e.length&&((i=t.dataTransfer.items)&&i.length&&null!=i[0].webkitGetAsEntry?this._addFilesFromItems(i):this.handleFiles(e)))},H.prototype.paste=function(t){var e,i;if(null!=(null!=t&&null!=(i=t.clipboardData)?i.items:void 0))return this.emit("paste",t),(e=t.clipboardData.items).length?this._addFilesFromItems(e):void 0},H.prototype.handleFiles=function(t){var e,i,s,o;for(o=[],i=0,s=t.length;i<s;i++)e=t[i],o.push(this.addFile(e));return o},H.prototype._addFilesFromItems=function(t){var e,i,s,o,n;for(n=[],s=0,o=t.length;s<o;s++)null!=(i=t[s]).webkitGetAsEntry&&(e=i.webkitGetAsEntry())?e.isFile?n.push(this.addFile(i.getAsFile())):e.isDirectory?n.push(this._addFilesFromDirectory(e,e.name)):n.push(void 0):null==i.getAsFile||null!=i.kind&&"file"!==i.kind?n.push(void 0):n.push(this.addFile(i.getAsFile()));return n},H.prototype._addFilesFromDirectory=function(t,o){var e,i,n,r;return e=t.createReader(),i=function(t){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(t):void 0},r=this,(n=function(){return e.readEntries(function(t){var e,i,s;if(0<t.length){for(i=0,s=t.length;i<s;i++)(e=t[i]).isFile?e.file(function(t){if(!r.options.ignoreHiddenFiles||"."!==t.name.substring(0,1))return t.fullPath=o+"/"+t.name,r.addFile(t)}):e.isDirectory&&r._addFilesFromDirectory(e,o+"/"+e.name);n()}return null},i)})()},H.prototype.accept=function(t,e){return t.size>1024*this.options.maxFilesize*1024?e(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(t.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):H.isValidFile(t,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(e(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",t)):this.options.accept.call(this,t,e):e(this.options.dictInvalidFileType)},H.prototype.addFile=function(e){return e.upload={progress:0,total:e.size,bytesSent:0},this.files.push(e),e.status=H.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,(i=this,function(t){return t?(e.accepted=!1,i._errorProcessing([e],t)):(e.accepted=!0,i.options.autoQueue&&i.enqueueFile(e)),i._updateMaxFilesReachedClass()}));var i},H.prototype.enqueueFiles=function(t){var e,i,s;for(i=0,s=t.length;i<s;i++)e=t[i],this.enqueueFile(e);return null},H.prototype.enqueueFile=function(t){if(t.status!==H.ADDED||!0!==t.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(t.status=H.QUEUED,this.options.autoProcessQueue)return setTimeout((e=this,function(){return e.processQueue()}),0);var e},H.prototype._thumbnailQueue=[],H.prototype._processingThumbnail=!1,H.prototype._enqueueThumbnail=function(t){if(this.options.createImageThumbnails&&t.type.match(/image.*/)&&t.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(t),setTimeout((e=this,function(){return e._processThumbnailQueue()}),0);var e},H.prototype._processThumbnailQueue=function(){var t;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length)return this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),(t=this,function(){return t._processingThumbnail=!1,t._processThumbnailQueue()}))},H.prototype.removeFile=function(t){if(t.status===H.UPLOADING&&this.cancelUpload(t),this.files=o(this.files,t),this.emit("removedfile",t),0===this.files.length)return this.emit("reset")},H.prototype.removeAllFiles=function(t){var e,i,s,o;for(null==t&&(t=!1),i=0,s=(o=this.files.slice()).length;i<s;i++)(e=o[i]).status===H.UPLOADING&&!t||this.removeFile(e);return null},H.prototype.createThumbnail=function(t,e){var i,s;return(i=new FileReader).onload=(s=this,function(){return"image/svg+xml"===t.type?(s.emit("thumbnail",t,i.result),void(null!=e&&e())):s.createThumbnailFromUrl(t,i.result,e)}),i.readAsDataURL(t)},H.prototype.createThumbnailFromUrl=function(l,t,h,e){var c,d;return c=document.createElement("img"),e&&(c.crossOrigin=e),c.onload=(d=this,function(){var t,e,i,s,o,n,r,a;if(l.width=c.width,l.height=c.height,null==(i=d.options.resize.call(d,l)).trgWidth&&(i.trgWidth=i.optWidth),null==i.trgHeight&&(i.trgHeight=i.optHeight),e=(t=document.createElement("canvas")).getContext("2d"),t.width=i.trgWidth,t.height=i.trgHeight,u(e,c,null!=(o=i.srcX)?o:0,null!=(n=i.srcY)?n:0,i.srcWidth,i.srcHeight,null!=(r=i.trgX)?r:0,null!=(a=i.trgY)?a:0,i.trgWidth,i.trgHeight),s=t.toDataURL("image/png"),d.emit("thumbnail",l,s),null!=h)return h()}),null!=h&&(c.onerror=h),c.src=t},H.prototype.processQueue=function(){var t,e,i,s;if(!((e=this.options.parallelUploads)<=(t=i=this.getUploadingFiles().length))&&0<(s=this.getQueuedFiles()).length){if(this.options.uploadMultiple)return this.processFiles(s.slice(0,e-i));for(;t<e;){if(!s.length)return;this.processFile(s.shift()),t++}}},H.prototype.processFile=function(t){return this.processFiles([t])},H.prototype.processFiles=function(t){var e,i,s;for(i=0,s=t.length;i<s;i++)(e=t[i]).processing=!0,e.status=H.UPLOADING,this.emit("processing",e);return this.options.uploadMultiple&&this.emit("processingmultiple",t),this.uploadFiles(t)},H.prototype._getFilesWithXhr=function(o){var n;return function(){var t,e,i,s;for(s=[],t=0,e=(i=this.files).length;t<e;t++)(n=i[t]).xhr===o&&s.push(n);return s}.call(this)},H.prototype.cancelUpload=function(t){var e,i,s,o,n,r,a;if(t.status===H.UPLOADING){for(s=0,n=(i=this._getFilesWithXhr(t.xhr)).length;s<n;s++)(e=i[s]).status=H.CANCELED;for(t.xhr.abort(),o=0,r=i.length;o<r;o++)e=i[o],this.emit("canceled",e);this.options.uploadMultiple&&this.emit("canceledmultiple",i)}else(a=t.status)!==H.ADDED&&a!==H.QUEUED||(t.status=H.CANCELED,this.emit("canceled",t),this.options.uploadMultiple&&this.emit("canceledmultiple",[t]));if(this.options.autoProcessQueue)return this.processQueue()},P=function(){var t,e;return e=arguments[0],t=2<=arguments.length?a.call(arguments,1):[],"function"==typeof e?e.apply(this,t):e},H.prototype.uploadFile=function(t){return this.uploadFiles([t])},H.prototype.uploadFiles=function(c){var d,t,i,e,s,o,n,r,a,l,h,u,p,f,m,g,v,_,y,b,w,x,k,C,T,S,E,$,A,L,M,z,F,O,D,I;for(_=new XMLHttpRequest,y=0,k=c.length;y<k;y++)(d=c[y]).xhr=_;for(e in u=P(this.options.method,c),g=P(this.options.url,c),_.open(u,g,!0),_.withCredentials=!!this.options.withCredentials,f=null,i=function(){var t,e,i;for(i=[],t=0,e=c.length;t<e;t++)d=c[t],i.push(O._errorProcessing(c,f||O.options.dictResponseError.replace("{{statusCode}}",_.status),_));return i},D=O=this,m=function(t){var e,i,s,o,n,r,a,l,h;if(null!=t)for(i=100*t.loaded/t.total,s=0,r=c.length;s<r;s++)(d=c[s]).upload={progress:i,total:t.total,bytesSent:t.loaded};else{for(e=!0,i=100,o=0,a=c.length;o<a;o++)100===(d=c[o]).upload.progress&&d.upload.bytesSent===d.upload.total||(e=!1),d.upload.progress=i,d.upload.bytesSent=d.upload.total;if(e)return}for(h=[],n=0,l=c.length;n<l;n++)d=c[n],h.push(D.emit("uploadprogress",d,i,d.upload.bytesSent));return h},_.onload=(I=this,function(e){var t;if(c[0].status!==H.CANCELED&&4===_.readyState){if(f=_.responseText,_.getResponseHeader("content-type")&&~_.getResponseHeader("content-type").indexOf("application/json"))try{f=JSON.parse(f)}catch(t){e=t,f="Invalid JSON response from server."}return m(),200<=(t=_.status)&&t<300?I._finished(c,f,e):i()}}),_.onerror=function(){if(c[0].status!==H.CANCELED)return i()},(null!=($=_.upload)?$:_).onprogress=m,o={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&W(o,this.options.headers),o)(s=o[e])&&_.setRequestHeader(e,s);if(t=new FormData,this.options.params)for(h in A=this.options.params)v=A[h],t.append(h,v);for(b=0,C=c.length;b<C;b++)d=c[b],this.emit("sending",d,_,t);if(this.options.uploadMultiple&&this.emit("sendingmultiple",c,_,t),"FORM"===this.element.tagName)for(w=0,T=(L=this.element.querySelectorAll("input, textarea, select, button")).length;w<T;w++)if(a=(r=L[w]).getAttribute("name"),l=r.getAttribute("type"),"SELECT"===r.tagName&&r.hasAttribute("multiple"))for(x=0,S=(M=r.options).length;x<S;x++)(p=M[x]).selected&&t.append(a,p.value);else(!l||"checkbox"!==(z=l.toLowerCase())&&"radio"!==z||r.checked)&&t.append(a,r.value);for(n=E=0,F=c.length-1;0<=F?E<=F:F<=E;n=0<=F?++E:--E)t.append(this._getParamName(n),c[n],this._renameFilename(c[n].name));return this.submitRequest(_,t,c)},H.prototype.submitRequest=function(t,e,i){return t.send(e)},H.prototype._finished=function(t,e,i){var s,o,n;for(o=0,n=t.length;o<n;o++)(s=t[o]).status=H.SUCCESS,this.emit("success",s,e,i),this.emit("complete",s);if(this.options.uploadMultiple&&(this.emit("successmultiple",t,e,i),this.emit("completemultiple",t)),this.options.autoProcessQueue)return this.processQueue()},H.prototype._errorProcessing=function(t,e,i){var s,o,n;for(o=0,n=t.length;o<n;o++)(s=t[o]).status=H.ERROR,this.emit("error",s,e,i),this.emit("complete",s);if(this.options.uploadMultiple&&(this.emit("errormultiple",t,e,i),this.emit("completemultiple",t)),this.options.autoProcessQueue)return this.processQueue()},(r=H).version="4.3.0",r.options={},r.optionsForElement=function(t){return t.getAttribute("id")?r.options[e(t.getAttribute("id"))]:void 0},r.instances=[],r.forElement=function(t){if("string"==typeof t&&(t=document.querySelector(t)),null==(null!=t?t.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return t.dropzone},r.autoDiscover=!0,r.discover=function(){var t,e,n,i,s,o;for(document.querySelectorAll?n=document.querySelectorAll(".dropzone"):(n=[],(t=function(t){var e,i,s,o;for(o=[],i=0,s=t.length;i<s;i++)e=t[i],/(^| )dropzone($| )/.test(e.className)?o.push(n.push(e)):o.push(void 0);return o})(document.getElementsByTagName("div")),t(document.getElementsByTagName("form"))),o=[],i=0,s=n.length;i<s;i++)e=n[i],!1!==r.optionsForElement(e)?o.push(new r(e)):o.push(void 0);return o},r.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],r.isBrowserSupported=function(){var t,e,i,s;if(t=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(e=0,i=(s=r.blacklistedBrowsers).length;e<i;e++)s[e].test(navigator.userAgent)&&(t=!1);else t=!1;else t=!1;return t},o=function(t,e){var i,s,o,n;for(n=[],s=0,o=t.length;s<o;s++)(i=t[s])!==e&&n.push(i);return n},e=function(t){return t.replace(/[\-_](\w)/g,function(t){return t.charAt(1).toUpperCase()})},r.createElement=function(t){var e;return(e=document.createElement("div")).innerHTML=t,e.childNodes[0]},r.elementInside=function(t,e){if(t===e)return!0;for(;t=t.parentNode;)if(t===e)return!0;return!1},r.getElement=function(t,e){var i;if("string"==typeof t?i=document.querySelector(t):null!=t.nodeType&&(i=t),null==i)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector or a plain HTML element.");return i},r.getElements=function(t,e){var i,s,o,n,r,a,l;if(t instanceof Array){s=[];try{for(o=0,r=t.length;o<r;o++)i=t[o],s.push(this.getElement(i,e))}catch(t){t,s=null}}else if("string"==typeof t)for(s=[],n=0,a=(l=document.querySelectorAll(t)).length;n<a;n++)i=l[n],s.push(i);else null!=t.nodeType&&(s=[t]);if(null==s||!s.length)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return s},r.confirm=function(t,e,i){return window.confirm(t)?e():null!=i?i():void 0},r.isValidFile=function(t,e){var i,s,o,n,r;if(!e)return!0;for(e=e.split(","),i=(s=t.type).replace(/\/.*$/,""),n=0,r=e.length;n<r;n++)if("."===(o=(o=e[n]).trim()).charAt(0)){if(-1!==t.name.toLowerCase().indexOf(o.toLowerCase(),t.name.length-o.length))return!0}else if(/\/\*$/.test(o)){if(i===o.replace(/\/.*$/,""))return!0}else if(s===o)return!0;return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(t){return this.each(function(){return new r(this,t)})}),"undefined"!=typeof module&&null!==module?module.exports=r:window.Dropzone=r,r.ADDED="added",r.QUEUED="queued",r.ACCEPTED=r.QUEUED,r.UPLOADING="uploading",r.PROCESSING=r.UPLOADING,r.CANCELED="canceled",r.ERROR="error",r.SUCCESS="success",d=function(t){var e,i,s,o,n,r,a,l;for(t.naturalWidth,n=t.naturalHeight,(e=document.createElement("canvas")).width=1,e.height=n,(i=e.getContext("2d")).drawImage(t,0,0),s=i.getImageData(0,0,1,n).data,l=0,r=o=n;l<r;)0===s[4*(r-1)+3]?o=r:l=r,r=o+l>>1;return 0==(a=r/n)?1:a},u=function(t,e,i,s,o,n,r,a,l,h){var c;return c=d(e),t.drawImage(e,i,s,o,n,r,a,l,h/c)},i=function(e,i){var t,s,o,n,r,a,l,h,c;if(c=!(o=!1),s=e.document,h=s.documentElement,t=s.addEventListener?"addEventListener":"attachEvent",l=s.addEventListener?"removeEventListener":"detachEvent",a=s.addEventListener?"":"on",n=function(t){if("readystatechange"!==t.type||"complete"===s.readyState)return("load"===t.type?e:s)[l](a+t.type,n,!1),!o&&(o=!0)?i.call(e,t.type||t):void 0},r=function(){try{h.doScroll("left")}catch(t){return t,void setTimeout(r,50)}return n("poll")},"complete"!==s.readyState){if(s.createEventObject&&h.doScroll){try{c=!e.frameElement}catch(t){}c&&r()}return s[t](a+"DOMContentLoaded",n,!1),s[t](a+"readystatechange",n,!1),e[t](a+"load",n,!1)}},r._autoDiscoverFunction=function(){if(r.autoDiscover)return r.discover()},i(window,r._autoDiscoverFunction)}.call(this),$(document).ready(function(){$("#faq-content .dianyixiajiudakai").on("click",function(){$(this).toggleClass("active")}),$("#faq-content .dianyixiajiudakai .wenzhang").on("click",function(t){(t=t||window.event).stopPropagation()})}),function(a){a.fn.smDropdown=function(){function e(){a(".caidan").fadeOut(200)}return a(this).on("click",function(t){t.stopPropagation(),a(".caidan",this).is(":hidden")?(e(),a(".caidan",this).fadeIn(200)):a(".caidan",this).fadeOut(200)}),a("body").on("click",function(){e()}),a(".xianxiang, li",this).on("click",function(t){var e=a(this).attr("value");if(validateUrl(e))window.location=e+location.search;else if("?"==e.substr(0,1)){var i=a.getQueryParameters(),s=a.getQueryParameters(e);0<Object.keys(s).length&&0<Object.keys(i).length?a.extend(i,s):0<Object.keys(s).length&&Object.keys(i).length<1?i=s:Object.keys(s).length<1&&Object.keys(i).length,delete i.page;var o=0,n="";a.each(i,function(t,e){if(""==t)return!0;n+=0==o?"?"+t+"="+e:"&"+t+"="+e,o++});var r=location.protocol+"//"+location.host+location.pathname+n;window.location=r}else console.log("Unhandled case when interacting with the filtering dropdown. Value: "+e)}),this};var n,r={};a.fn.smCheckbox=function(){a(this).on("change",function(t){var e=a(this).is(":checked"),i=a(this).attr("name");if(a(this).attr("value"))r[i]=a(this).attr("value");else{var s=e?1:0;r[i]=s}var o=0<location.search.length?a.getQueryParameters():{};delete o.page,a.each(o,function(t,e){if(null!=r[t])return!0;r[t]=e}),clearTimeout(n),n=setTimeout(function(){var i=0,s="";a.each(r,function(t,e){s+=0==i?"?"+t+"="+e:"&"+t+"="+e,i++});var t=location.protocol+"//"+location.host+location.pathname+s;window.location=t},1e3)})}}(jQuery),$(document).ready(function(){function t(i){$(i+" .hero-label >ul >li").on("click",function(t){var e=$(this).index()+1;t.preventDefault(),$(i+" .hero-label >ul >li").removeClass("activelabel"),$(this).addClass("activelabel"),$(i+" .hero-list >li").removeClass("activelabel"),$(i+" .hero-list >li:nth-child("+e+")").addClass("activelabel")})}function e(t){$(t+" .img").slick({slidesToShow:1,slidesToScroll:1,fade:!0,arrows:!1,autoplay:!1,speed:800,slide:"li",asNavFor:t+" .scroll ul"}),$(t+" .scroll ul").slick({slidesToShow:1,slidesToScroll:1,arrows:!0,autoplay:!1,fade:!0,speed:800,slide:"li",prevArrow:t+" .scroll .galleries.left",nextArrow:t+" .scroll .galleries.right",asNavFor:t+" .img"})}$(".sidebar .tabfirst li").on("click",function(t){$(".sidebar .tabfirst li").removeClass("active"),$(this).addClass("active"),$(".sidebar .contentin > ul > li").removeClass("active"),tabId=$(this).attr("id"),$(".sidebar .contentin > ul > li[data-tab-id="+tabId+"]").addClass("active")}),$("#frontpage-article-hero .more-articles li").on("mouseenter",function(){var t=$(this).index();$("#frontpage-article-hero .more-articles .arrow").css("margin-top",function(t){for(desiredMargin=0,i=0;i<t;i++)height=$("#frontpage-article-hero .more-articles li").eq(i).outerHeight(),margin=parseInt($("#frontpage-article-hero .more-articles li").eq(i).css("margin-bottom")),desiredMargin=desiredMargin+height+margin;return height=$("#frontpage-article-hero .more-articles li").eq(t).outerHeight(),padding=parseInt($("#frontpage-article-hero .more-articles li").eq(t).css("padding-bottom")),height-=padding,desiredMargin+=height/2,desiredMargin-=10,desiredMargin}(t)),$("#frontpage-article-hero .more-articles li.active").removeClass("active"),$("#frontpage-article-hero .more-articles li").eq(t).addClass("active"),$("#frontpage-article-hero .main-stage li.active").removeClass("active"),$("#frontpage-article-hero .main-stage li").eq(t).addClass("active"),itemCount=$("#frontpage-article-hero .more-articles li").length}),$("#events-hero .date li").on("mouseenter",function(t){itemIndex=$(this).index(),$("#events-hero .date li").removeClass("active"),$(this).addClass("active"),$("#events-hero .ul li").removeClass("active"),$("#events-hero .ul li:eq("+itemIndex+")").addClass("active")}),$("#events-hero .date li").on("click",function(){var t=$(this).attr("data-path");window.location=t}),e("#galleries-nightlife"),e("#galleries-community"),e("#galleries-guides"),$("#frontpage-under-half .ad").stick_in_parent(),t("#bestof-hero-neo"),t("#galleries-hero")}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},s=i[t]=i[t]||[];return-1==s.indexOf(e)&&s.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{};return(i[t]=i[t]||{})[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var s=i.indexOf(e);return-1!=s&&i.splice(s,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];for(var s=this._onceEvents&&this._onceEvents[t],o=0;o<i.length;o++){var n=i[o];s&&s[n]&&(this.off(t,n),delete s[n]),n.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t}),function(e,i){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("ev-emitter")):e.imagesLoaded=i(e,e.EvEmitter)}("undefined"!=typeof window?window:this,function(e,t){function o(t,e){for(var i in e)t[i]=e[i];return t}function n(t,e,i){if(!(this instanceof n))return new n(t,e,i);var s=t;return"string"==typeof t&&(s=document.querySelectorAll(t)),s?(this.elements=function(t){return Array.isArray(t)?t:"object"==typeof t&&"number"==typeof t.length?l.call(t):[t]}(s),this.options=o({},this.options),"function"==typeof e?i=e:o(this.options,e),i&&this.on("always",i),this.getImages(),r&&(this.jqDeferred=new r.Deferred),void setTimeout(this.check.bind(this))):void a.error("Bad element for imagesLoaded "+(s||t))}function i(t){this.img=t}function s(t,e){this.url=t,this.element=e,this.img=new Image}var r=e.jQuery,a=e.console,l=Array.prototype.slice;(n.prototype=Object.create(t.prototype)).options={},n.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},n.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&h[e]){for(var i=t.querySelectorAll("img"),s=0;s<i.length;s++){var o=i[s];this.addImage(o)}if("string"==typeof this.options.background){var n=t.querySelectorAll(this.options.background);for(s=0;s<n.length;s++){var r=n[s];this.addElementBackgroundImages(r)}}}};var h={1:!0,9:!0,11:!0};return n.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var i=/url\((['"])?(.*?)\1\)/gi,s=i.exec(e.backgroundImage);null!==s;){var o=s&&s[2];o&&this.addBackground(o,t),s=i.exec(e.backgroundImage)}},n.prototype.addImage=function(t){var e=new i(t);this.images.push(e)},n.prototype.addBackground=function(t,e){var i=new s(t,e);this.images.push(i)},n.prototype.check=function(){function e(t,e,i){setTimeout(function(){s.progress(t,e,i)})}var s=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(t){t.once("progress",e),t.check()}):void this.complete()},n.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&a&&a.log("progress: "+i,t,e)},n.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},(i.prototype=Object.create(t.prototype)).check=function(){return this.getIsImageComplete()?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},i.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},i.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},i.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},i.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},i.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},(s.prototype=Object.create(i.prototype)).check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},s.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},n.makeJQueryPlugin=function(t){(t=t||e.jQuery)&&((r=t).fn.imagesLoaded=function(t,e){return new n(this,t,e).jqDeferred.promise(r(this))})},n.makeJQueryPlugin(),n}),$(document).ready(function(){navigator.userAgent.match(/(iPad)/)||($("form select.enhanced:not(.searchable)").chosen({disable_search:!0}),$("form select.enhanced.searchable").chosen({}))}),function(e){"undefined"!=typeof jQuery&&jQuery||"function"!=typeof define||!define.amd?"undefined"!=typeof jQuery&&jQuery||"object"!=typeof exports?e(jQuery,document,window,navigator):e(require("jquery"),document,window,navigator):define(["jquery"],function(t){return e(t,document,window,navigator)})}(function(l,h,c,t,d){"use strict";var e,i,s=0,o=(i=/msie\s\d+/i,0<(e=t.userAgent).search(i)&&i.exec(e).toString().split(" ")[1]<9&&(l("html").addClass("lt-ie9"),!0));function n(t,e,i){this.VERSION="2.3.1",this.input=t,this.plugin_count=i,this.current_plugin=0,this.calc_count=0,this.update_tm=0,this.old_from=0,this.old_to=0,this.old_min_interval=null,this.raf_id=null,this.dragging=!1,this.force_redraw=!1,this.no_diapason=!1,this.has_tab_index=!0,this.is_key=!1,this.is_update=!1,this.is_start=!0,this.is_finish=!1,this.is_active=!1,this.is_resize=!1,this.is_click=!1,e=e||{},this.$cache={win:l(c),body:l(h.body),input:l(t),cont:null,rs:null,min:null,max:null,from:null,to:null,single:null,bar:null,line:null,s_single:null,s_from:null,s_to:null,shad_single:null,shad_from:null,shad_to:null,edge:null,grid:null,grid_labels:[]},this.coords={x_gap:0,x_pointer:0,w_rs:0,w_rs_old:0,w_handle:0,p_gap:0,p_gap_left:0,p_gap_right:0,p_step:0,p_pointer:0,p_handle:0,p_single_fake:0,p_single_real:0,p_from_fake:0,p_from_real:0,p_to_fake:0,p_to_real:0,p_bar_x:0,p_bar_w:0,grid_gap:0,big_num:0,big:[],big_w:[],big_p:[],big_x:[]},this.labels={w_min:0,w_max:0,w_from:0,w_to:0,w_single:0,p_min:0,p_max:0,p_from_fake:0,p_from_left:0,p_to_fake:0,p_to_left:0,p_single_fake:0,p_single_left:0};var s,o,n,r=this.$cache.input,a=r.prop("value");for(n in s={skin:"flat",type:"single",min:10,max:100,from:null,to:null,step:1,min_interval:0,max_interval:0,drag_interval:!1,values:[],p_values:[],from_fixed:!1,from_min:null,from_max:null,from_shadow:!1,to_fixed:!1,to_min:null,to_max:null,to_shadow:!1,prettify_enabled:!0,prettify_separator:" ",prettify:null,force_edges:!1,keyboard:!0,grid:!1,grid_margin:!0,grid_num:4,grid_snap:!1,hide_min_max:!1,hide_from_to:!1,prefix:"",postfix:"",max_postfix:"",decorate_both:!0,values_separator:"  ",input_values_separator:";",disable:!1,block:!1,extra_classes:"",scope:null,onStart:null,onChange:null,onFinish:null,onUpdate:null},"INPUT"!==r[0].nodeName&&console&&console.warn&&console.warn("Base element should be <input>!",r[0]),(o={skin:r.data("skin"),type:r.data("type"),min:r.data("min"),max:r.data("max"),from:r.data("from"),to:r.data("to"),step:r.data("step"),min_interval:r.data("minInterval"),max_interval:r.data("maxInterval"),drag_interval:r.data("dragInterval"),values:r.data("values"),from_fixed:r.data("fromFixed"),from_min:r.data("fromMin"),from_max:r.data("fromMax"),from_shadow:r.data("fromShadow"),to_fixed:r.data("toFixed"),to_min:r.data("toMin"),to_max:r.data("toMax"),to_shadow:r.data("toShadow"),prettify_enabled:r.data("prettifyEnabled"),prettify_separator:r.data("prettifySeparator"),force_edges:r.data("forceEdges"),keyboard:r.data("keyboard"),grid:r.data("grid"),grid_margin:r.data("gridMargin"),grid_num:r.data("gridNum"),grid_snap:r.data("gridSnap"),hide_min_max:r.data("hideMinMax"),hide_from_to:r.data("hideFromTo"),prefix:r.data("prefix"),postfix:r.data("postfix"),max_postfix:r.data("maxPostfix"),decorate_both:r.data("decorateBoth"),values_separator:r.data("valuesSeparator"),input_values_separator:r.data("inputValuesSeparator"),disable:r.data("disable"),block:r.data("block"),extra_classes:r.data("extraClasses")}).values=o.values&&o.values.split(","),o)o.hasOwnProperty(n)&&(o[n]!==d&&""!==o[n]||delete o[n]);a!==d&&""!==a&&((a=a.split(o.input_values_separator||e.input_values_separator||";"))[0]&&a[0]==+a[0]&&(a[0]=+a[0]),a[1]&&a[1]==+a[1]&&(a[1]=+a[1]),e&&e.values&&e.values.length?(s.from=a[0]&&e.values.indexOf(a[0]),s.to=a[1]&&e.values.indexOf(a[1])):(s.from=a[0]&&+a[0],s.to=a[1]&&+a[1])),l.extend(s,e),l.extend(s,o),this.options=s,this.update_check={},this.validate(),this.result={input:this.$cache.input,slider:null,min:this.options.min,max:this.options.max,from:this.options.from,from_percent:0,from_value:null,to:this.options.to,to_percent:0,to_value:null},this.init()}Function.prototype.bind||(Function.prototype.bind=function(s){var o=this,n=[].slice;if("function"!=typeof o)throw new TypeError;var r=n.call(arguments,1),a=function(){if(this instanceof a){var t=function(){};t.prototype=o.prototype;var e=new t,i=o.apply(e,r.concat(n.call(arguments)));return Object(i)===i?i:e}return o.apply(s,r.concat(n.call(arguments)))};return a}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){var i;if(null==this)throw new TypeError('"this" is null or not defined');var s=Object(this),o=s.length>>>0;if(0==o)return-1;var n=+e||0;if(Math.abs(n)===1/0&&(n=0),o<=n)return-1;for(i=Math.max(0<=n?n:o-Math.abs(n),0);i<o;){if(i in s&&s[i]===t)return i;i++}return-1}),n.prototype={init:function(t){this.no_diapason=!1,this.coords.p_step=this.convertToPercent(this.options.step,!0),this.target="base",this.toggleInput(),this.append(),this.setMinMax(),t?(this.force_redraw=!0,this.calc(!0),this.callOnUpdate()):(this.force_redraw=!0,this.calc(!0),this.callOnStart()),this.updateScene()},append:function(){var t='<span class="irs irs--'+this.options.skin+" js-irs-"+this.plugin_count+" "+this.options.extra_classes+'"></span>';this.$cache.input.before(t),this.$cache.input.prop("readonly",!0),this.$cache.cont=this.$cache.input.prev(),this.result.slider=this.$cache.cont,this.$cache.cont.html('<span class="irs"><span class="irs-line" tabindex="0"></span><span class="irs-min">0</span><span class="irs-max">1</span><span class="irs-from">0</span><span class="irs-to">0</span><span class="irs-single">0</span></span><span class="irs-grid"></span>'),this.$cache.rs=this.$cache.cont.find(".irs"),this.$cache.min=this.$cache.cont.find(".irs-min"),this.$cache.max=this.$cache.cont.find(".irs-max"),this.$cache.from=this.$cache.cont.find(".irs-from"),this.$cache.to=this.$cache.cont.find(".irs-to"),this.$cache.single=this.$cache.cont.find(".irs-single"),this.$cache.line=this.$cache.cont.find(".irs-line"),this.$cache.grid=this.$cache.cont.find(".irs-grid"),"single"===this.options.type?(this.$cache.cont.append('<span class="irs-bar irs-bar--single"></span><span class="irs-shadow shadow-single"></span><span class="irs-handle single"><i></i><i></i><i></i></span>'),this.$cache.bar=this.$cache.cont.find(".irs-bar"),this.$cache.edge=this.$cache.cont.find(".irs-bar-edge"),this.$cache.s_single=this.$cache.cont.find(".single"),this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.shad_single=this.$cache.cont.find(".shadow-single")):(this.$cache.cont.append('<span class="irs-bar"></span><span class="irs-shadow shadow-from"></span><span class="irs-shadow shadow-to"></span><span class="irs-handle from"><i></i><i></i><i></i></span><span class="irs-handle to"><i></i><i></i><i></i></span>'),this.$cache.bar=this.$cache.cont.find(".irs-bar"),this.$cache.s_from=this.$cache.cont.find(".from"),this.$cache.s_to=this.$cache.cont.find(".to"),this.$cache.shad_from=this.$cache.cont.find(".shadow-from"),this.$cache.shad_to=this.$cache.cont.find(".shadow-to"),this.setTopHandler()),this.options.hide_from_to&&(this.$cache.from[0].style.display="none",this.$cache.to[0].style.display="none",this.$cache.single[0].style.display="none"),this.appendGrid(),this.options.disable?(this.appendDisableMask(),this.$cache.input[0].disabled=!0):(this.$cache.input[0].disabled=!1,this.removeDisableMask(),this.bindEvents()),this.options.disable||(this.options.block?this.appendDisableMask():this.removeDisableMask()),this.options.drag_interval&&(this.$cache.bar[0].style.cursor="ew-resize")},setTopHandler:function(){var t=this.options.min,e=this.options.max,i=this.options.from,s=this.options.to;t<i&&s===e?this.$cache.s_from.addClass("type_last"):s<e&&this.$cache.s_to.addClass("type_last")},changeLevel:function(t){switch(t){case"single":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_single_fake),this.$cache.s_single.addClass("state_hover");break;case"from":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake),this.$cache.s_from.addClass("state_hover"),this.$cache.s_from.addClass("type_last"),this.$cache.s_to.removeClass("type_last");break;case"to":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_to_fake),this.$cache.s_to.addClass("state_hover"),this.$cache.s_to.addClass("type_last"),this.$cache.s_from.removeClass("type_last");break;case"both":this.coords.p_gap_left=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake),this.coords.p_gap_right=this.toFixed(this.coords.p_to_fake-this.coords.p_pointer),this.$cache.s_to.removeClass("type_last"),this.$cache.s_from.removeClass("type_last")}},appendDisableMask:function(){this.$cache.cont.append('<span class="irs-disable-mask"></span>'),this.$cache.cont.addClass("irs-disabled")},removeDisableMask:function(){this.$cache.cont.remove(".irs-disable-mask"),this.$cache.cont.removeClass("irs-disabled")},remove:function(){this.$cache.cont.remove(),this.$cache.cont=null,this.$cache.line.off("keydown.irs_"+this.plugin_count),this.$cache.body.off("touchmove.irs_"+this.plugin_count),this.$cache.body.off("mousemove.irs_"+this.plugin_count),this.$cache.win.off("touchend.irs_"+this.plugin_count),this.$cache.win.off("mouseup.irs_"+this.plugin_count),o&&(this.$cache.body.off("mouseup.irs_"+this.plugin_count),this.$cache.body.off("mouseleave.irs_"+this.plugin_count)),this.$cache.grid_labels=[],this.coords.big=[],this.coords.big_w=[],this.coords.big_p=[],this.coords.big_x=[],cancelAnimationFrame(this.raf_id)},bindEvents:function(){this.no_diapason||(this.$cache.body.on("touchmove.irs_"+this.plugin_count,this.pointerMove.bind(this)),this.$cache.body.on("mousemove.irs_"+this.plugin_count,this.pointerMove.bind(this)),this.$cache.win.on("touchend.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.win.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.line.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.line.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.line.on("focus.irs_"+this.plugin_count,this.pointerFocus.bind(this)),this.options.drag_interval&&"double"===this.options.type?(this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"both")),this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"both"))):(this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))),"single"===this.options.type?(this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.s_single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.shad_single.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.s_single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.edge.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_single.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))):(this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,null)),this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,null)),this.$cache.from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.s_to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.s_to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))),this.options.keyboard&&this.$cache.line.on("keydown.irs_"+this.plugin_count,this.key.bind(this,"keyboard")),o&&(this.$cache.body.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.body.on("mouseleave.irs_"+this.plugin_count,this.pointerUp.bind(this))))},pointerFocus:function(t){var e,i;this.target||(e=(i="single"===this.options.type?this.$cache.single:this.$cache.from).offset().left,e+=i.width()/2-1,this.pointerClick("single",{preventDefault:function(){},pageX:e}))},pointerMove:function(t){if(this.dragging){var e=t.pageX||t.originalEvent.touches&&t.originalEvent.touches[0].pageX;this.coords.x_pointer=e-this.coords.x_gap,this.calc()}},pointerUp:function(t){this.current_plugin===this.plugin_count&&this.is_active&&(this.is_active=!1,this.$cache.cont.find(".state_hover").removeClass("state_hover"),this.force_redraw=!0,o&&l("*").prop("unselectable",!1),this.updateScene(),this.restoreOriginalMinInterval(),(l.contains(this.$cache.cont[0],t.target)||this.dragging)&&this.callOnFinish(),this.dragging=!1)},pointerDown:function(t,e){e.preventDefault();var i=e.pageX||e.originalEvent.touches&&e.originalEvent.touches[0].pageX;2!==e.button&&("both"===t&&this.setTempMinInterval(),t=t||this.target||"from",this.current_plugin=this.plugin_count,this.target=t,this.is_active=!0,this.dragging=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=i-this.coords.x_gap,this.calcPointerPercent(),this.changeLevel(t),o&&l("*").prop("unselectable",!0),this.$cache.line.trigger("focus"),this.updateScene())},pointerClick:function(t,e){e.preventDefault();var i=e.pageX||e.originalEvent.touches&&e.originalEvent.touches[0].pageX;2!==e.button&&(this.current_plugin=this.plugin_count,this.target=t,this.is_click=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=+(i-this.coords.x_gap).toFixed(),this.force_redraw=!0,this.calc(),this.$cache.line.trigger("focus"))},key:function(t,e){if(!(this.current_plugin!==this.plugin_count||e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)){switch(e.which){case 83:case 65:case 40:case 37:e.preventDefault(),this.moveByKey(!1);break;case 87:case 68:case 38:case 39:e.preventDefault(),this.moveByKey(!0)}return!0}},moveByKey:function(t){var e=this.coords.p_pointer,i=(this.options.max-this.options.min)/100;i=this.options.step/i,t?e+=i:e-=i,this.coords.x_pointer=this.toFixed(this.coords.w_rs/100*e),this.is_key=!0,this.calc()},setMinMax:function(){if(this.options){if(this.options.hide_min_max)return this.$cache.min[0].style.display="none",void(this.$cache.max[0].style.display="none");if(this.options.values.length)this.$cache.min.html(this.decorate(this.options.p_values[this.options.min])),this.$cache.max.html(this.decorate(this.options.p_values[this.options.max]));else{var t=this._prettify(this.options.min),e=this._prettify(this.options.max);this.result.min_pretty=t,this.result.max_pretty=e,this.$cache.min.html(this.decorate(t,this.options.min)),this.$cache.max.html(this.decorate(e,this.options.max))}this.labels.w_min=this.$cache.min.outerWidth(!1),this.labels.w_max=this.$cache.max.outerWidth(!1)}},setTempMinInterval:function(){var t=this.result.to-this.result.from;null===this.old_min_interval&&(this.old_min_interval=this.options.min_interval),this.options.min_interval=t},restoreOriginalMinInterval:function(){null!==this.old_min_interval&&(this.options.min_interval=this.old_min_interval,this.old_min_interval=null)},calc:function(t){if(this.options&&(this.calc_count++,10!==this.calc_count&&!t||(this.calc_count=0,this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.calcHandlePercent()),this.coords.w_rs)){this.calcPointerPercent();var e=this.getHandleX();switch("both"===this.target&&(this.coords.p_gap=0,e=this.getHandleX()),"click"===this.target&&(this.coords.p_gap=this.coords.p_handle/2,e=this.getHandleX(),this.options.drag_interval?this.target="both_one":this.target=this.chooseHandle(e)),this.target){case"base":var i=(this.options.max-this.options.min)/100,s=(this.result.from-this.options.min)/i,o=(this.result.to-this.options.min)/i;this.coords.p_single_real=this.toFixed(s),this.coords.p_from_real=this.toFixed(s),this.coords.p_to_real=this.toFixed(o),this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real),this.target=null;break;case"single":if(this.options.from_fixed)break;this.coords.p_single_real=this.convertToRealPercent(e),this.coords.p_single_real=this.calcWithStep(this.coords.p_single_real),this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max),this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real);break;case"from":if(this.options.from_fixed)break;this.coords.p_from_real=this.convertToRealPercent(e),this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real),this.coords.p_from_real>this.coords.p_to_real&&(this.coords.p_from_real=this.coords.p_to_real),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_real=this.checkMaxInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);break;case"to":if(this.options.to_fixed)break;this.coords.p_to_real=this.convertToRealPercent(e),this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real),this.coords.p_to_real<this.coords.p_from_real&&(this.coords.p_to_real=this.coords.p_from_real),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_real=this.checkMaxInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both":if(this.options.from_fixed||this.options.to_fixed)break;e=this.toFixed(e+.001*this.coords.p_handle),this.coords.p_from_real=this.convertToRealPercent(e)-this.coords.p_gap_left,this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_real=this.convertToRealPercent(e)+this.coords.p_gap_right,this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both_one":if(this.options.from_fixed||this.options.to_fixed)break;var n=this.convertToRealPercent(e),r=this.result.from_percent,a=this.result.to_percent-r,l=a/2,h=n-l,c=n+l;h<0&&(c=(h=0)+a),100<c&&(h=(c=100)-a),this.coords.p_from_real=this.calcWithStep(h),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_real=this.calcWithStep(c),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real)}"single"===this.options.type?(this.coords.p_bar_x=this.coords.p_handle/2,this.coords.p_bar_w=this.coords.p_single_fake,this.result.from_percent=this.coords.p_single_real,this.result.from=this.convertToValue(this.coords.p_single_real),this.result.from_pretty=this._prettify(this.result.from),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from])):(this.coords.p_bar_x=this.toFixed(this.coords.p_from_fake+this.coords.p_handle/2),this.coords.p_bar_w=this.toFixed(this.coords.p_to_fake-this.coords.p_from_fake),this.result.from_percent=this.coords.p_from_real,this.result.from=this.convertToValue(this.coords.p_from_real),this.result.from_pretty=this._prettify(this.result.from),this.result.to_percent=this.coords.p_to_real,this.result.to=this.convertToValue(this.coords.p_to_real),this.result.to_pretty=this._prettify(this.result.to),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from],this.result.to_value=this.options.values[this.result.to])),this.calcMinMax(),this.calcLabels()}},calcPointerPercent:function(){this.coords.w_rs?(this.coords.x_pointer<0||isNaN(this.coords.x_pointer)?this.coords.x_pointer=0:this.coords.x_pointer>this.coords.w_rs&&(this.coords.x_pointer=this.coords.w_rs),this.coords.p_pointer=this.toFixed(this.coords.x_pointer/this.coords.w_rs*100)):this.coords.p_pointer=0},convertToRealPercent:function(t){return t/(100-this.coords.p_handle)*100},convertToFakePercent:function(t){return t/100*(100-this.coords.p_handle)},getHandleX:function(){var t=100-this.coords.p_handle,e=this.toFixed(this.coords.p_pointer-this.coords.p_gap);return e<0?e=0:t<e&&(e=t),e},calcHandlePercent:function(){"single"===this.options.type?this.coords.w_handle=this.$cache.s_single.outerWidth(!1):this.coords.w_handle=this.$cache.s_from.outerWidth(!1),this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100)},chooseHandle:function(t){return"single"===this.options.type?"single":this.coords.p_from_real+(this.coords.p_to_real-this.coords.p_from_real)/2<=t?this.options.to_fixed?"from":"to":this.options.from_fixed?"to":"from"},calcMinMax:function(){this.coords.w_rs&&(this.labels.p_min=this.labels.w_min/this.coords.w_rs*100,this.labels.p_max=this.labels.w_max/this.coords.w_rs*100)},calcLabels:function(){this.coords.w_rs&&!this.options.hide_from_to&&("single"===this.options.type?(this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=this.coords.p_single_fake+this.coords.p_handle/2-this.labels.p_single_fake/2):(this.labels.w_from=this.$cache.from.outerWidth(!1),this.labels.p_from_fake=this.labels.w_from/this.coords.w_rs*100,this.labels.p_from_left=this.coords.p_from_fake+this.coords.p_handle/2-this.labels.p_from_fake/2,this.labels.p_from_left=this.toFixed(this.labels.p_from_left),this.labels.p_from_left=this.checkEdges(this.labels.p_from_left,this.labels.p_from_fake),this.labels.w_to=this.$cache.to.outerWidth(!1),this.labels.p_to_fake=this.labels.w_to/this.coords.w_rs*100,this.labels.p_to_left=this.coords.p_to_fake+this.coords.p_handle/2-this.labels.p_to_fake/2,this.labels.p_to_left=this.toFixed(this.labels.p_to_left),this.labels.p_to_left=this.checkEdges(this.labels.p_to_left,this.labels.p_to_fake),this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=(this.labels.p_from_left+this.labels.p_to_left+this.labels.p_to_fake)/2-this.labels.p_single_fake/2,this.labels.p_single_left=this.toFixed(this.labels.p_single_left)),this.labels.p_single_left=this.checkEdges(this.labels.p_single_left,this.labels.p_single_fake))},updateScene:function(){this.raf_id&&(cancelAnimationFrame(this.raf_id),this.raf_id=null),clearTimeout(this.update_tm),this.update_tm=null,this.options&&(this.drawHandles(),this.is_active?this.raf_id=requestAnimationFrame(this.updateScene.bind(this)):this.update_tm=setTimeout(this.updateScene.bind(this),300))},drawHandles:function(){this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_rs&&(this.coords.w_rs!==this.coords.w_rs_old&&(this.target="base",this.is_resize=!0),this.coords.w_rs===this.coords.w_rs_old&&!this.force_redraw||(this.setMinMax(),this.calc(!0),this.drawLabels(),this.options.grid&&(this.calcGridMargin(),this.calcGridLabels()),this.force_redraw=!0,this.coords.w_rs_old=this.coords.w_rs,this.drawShadow()),this.coords.w_rs&&(this.dragging||this.force_redraw||this.is_key)&&((this.old_from!==this.result.from||this.old_to!==this.result.to||this.force_redraw||this.is_key)&&(this.drawLabels(),this.$cache.bar[0].style.left=this.coords.p_bar_x+"%",this.$cache.bar[0].style.width=this.coords.p_bar_w+"%","single"===this.options.type?(this.$cache.bar[0].style.left=0,this.$cache.bar[0].style.width=this.coords.p_bar_w+this.coords.p_bar_x+"%",this.$cache.s_single[0].style.left=this.coords.p_single_fake+"%"):(this.$cache.s_from[0].style.left=this.coords.p_from_fake+"%",this.$cache.s_to[0].style.left=this.coords.p_to_fake+"%",this.old_from===this.result.from&&!this.force_redraw||(this.$cache.from[0].style.left=this.labels.p_from_left+"%"),this.old_to===this.result.to&&!this.force_redraw||(this.$cache.to[0].style.left=this.labels.p_to_left+"%")),this.$cache.single[0].style.left=this.labels.p_single_left+"%",this.writeToInput(),this.old_from===this.result.from&&this.old_to===this.result.to||this.is_start||(this.$cache.input.trigger("change"),this.$cache.input.trigger("input")),this.old_from=this.result.from,this.old_to=this.result.to,this.is_resize||this.is_update||this.is_start||this.is_finish||this.callOnChange(),(this.is_key||this.is_click)&&(this.is_key=!1,this.is_click=!1,this.callOnFinish()),this.is_update=!1,this.is_resize=!1,this.is_finish=!1),this.is_start=!1,this.is_key=!1,this.is_click=!1,this.force_redraw=!1))},drawLabels:function(){if(this.options){var t,e,i,s,o,n=this.options.values.length,r=this.options.p_values;if(!this.options.hide_from_to)if("single"===this.options.type)t=n?this.decorate(r[this.result.from]):(s=this._prettify(this.result.from),this.decorate(s,this.result.from)),this.$cache.single.html(t),this.calcLabels(),this.labels.p_single_left<this.labels.p_min+1?this.$cache.min[0].style.visibility="hidden":this.$cache.min[0].style.visibility="visible",this.labels.p_single_left+this.labels.p_single_fake>100-this.labels.p_max-1?this.$cache.max[0].style.visibility="hidden":this.$cache.max[0].style.visibility="visible";else{i=n?(this.options.decorate_both?(t=this.decorate(r[this.result.from]),t+=this.options.values_separator,t+=this.decorate(r[this.result.to])):t=this.decorate(r[this.result.from]+this.options.values_separator+r[this.result.to]),e=this.decorate(r[this.result.from]),this.decorate(r[this.result.to])):(s=this._prettify(this.result.from),o=this._prettify(this.result.to),this.options.decorate_both?(t=this.decorate(s,this.result.from),t+=this.options.values_separator,t+=this.decorate(o,this.result.to)):t=this.decorate(s+this.options.values_separator+o,this.result.to),e=this.decorate(s,this.result.from),this.decorate(o,this.result.to)),this.$cache.single.html(t),this.$cache.from.html(e),this.$cache.to.html(i),this.calcLabels();var a=Math.min(this.labels.p_single_left,this.labels.p_from_left),l=this.labels.p_single_left+this.labels.p_single_fake,h=this.labels.p_to_left+this.labels.p_to_fake,c=Math.max(l,h);this.labels.p_from_left+this.labels.p_from_fake>=this.labels.p_to_left?(this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",c=this.result.from===this.result.to?("from"===this.target?this.$cache.from[0].style.visibility="visible":"to"===this.target?this.$cache.to[0].style.visibility="visible":this.target||(this.$cache.from[0].style.visibility="visible"),this.$cache.single[0].style.visibility="hidden",h):(this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",Math.max(l,h))):(this.$cache.from[0].style.visibility="visible",this.$cache.to[0].style.visibility="visible",this.$cache.single[0].style.visibility="hidden"),a<this.labels.p_min+1?this.$cache.min[0].style.visibility="hidden":this.$cache.min[0].style.visibility="visible",c>100-this.labels.p_max-1?this.$cache.max[0].style.visibility="hidden":this.$cache.max[0].style.visibility="visible"}}},drawShadow:function(){var t,e,i,s,o=this.options,n=this.$cache,r="number"==typeof o.from_min&&!isNaN(o.from_min),a="number"==typeof o.from_max&&!isNaN(o.from_max),l="number"==typeof o.to_min&&!isNaN(o.to_min),h="number"==typeof o.to_max&&!isNaN(o.to_max);"single"===o.type?o.from_shadow&&(r||a)?(t=this.convertToPercent(r?o.from_min:o.min),e=this.convertToPercent(a?o.from_max:o.max)-t,t=this.toFixed(t-this.coords.p_handle/100*t),e=this.toFixed(e-this.coords.p_handle/100*e),t+=this.coords.p_handle/2,n.shad_single[0].style.display="block",n.shad_single[0].style.left=t+"%",n.shad_single[0].style.width=e+"%"):n.shad_single[0].style.display="none":(o.from_shadow&&(r||a)?(t=this.convertToPercent(r?o.from_min:o.min),e=this.convertToPercent(a?o.from_max:o.max)-t,t=this.toFixed(t-this.coords.p_handle/100*t),e=this.toFixed(e-this.coords.p_handle/100*e),t+=this.coords.p_handle/2,n.shad_from[0].style.display="block",n.shad_from[0].style.left=t+"%",n.shad_from[0].style.width=e+"%"):n.shad_from[0].style.display="none",o.to_shadow&&(l||h)?(i=this.convertToPercent(l?o.to_min:o.min),s=this.convertToPercent(h?o.to_max:o.max)-i,i=this.toFixed(i-this.coords.p_handle/100*i),s=this.toFixed(s-this.coords.p_handle/100*s),i+=this.coords.p_handle/2,n.shad_to[0].style.display="block",n.shad_to[0].style.left=i+"%",n.shad_to[0].style.width=s+"%"):n.shad_to[0].style.display="none")},writeToInput:function(){"single"===this.options.type?(this.options.values.length?this.$cache.input.prop("value",this.result.from_value):this.$cache.input.prop("value",this.result.from),this.$cache.input.data("from",this.result.from)):(this.options.values.length?this.$cache.input.prop("value",this.result.from_value+this.options.input_values_separator+this.result.to_value):this.$cache.input.prop("value",this.result.from+this.options.input_values_separator+this.result.to),this.$cache.input.data("from",this.result.from),this.$cache.input.data("to",this.result.to))},callOnStart:function(){this.writeToInput(),this.options.onStart&&"function"==typeof this.options.onStart&&(this.options.scope?this.options.onStart.call(this.options.scope,this.result):this.options.onStart(this.result))},callOnChange:function(){this.writeToInput(),this.options.onChange&&"function"==typeof this.options.onChange&&(this.options.scope?this.options.onChange.call(this.options.scope,this.result):this.options.onChange(this.result))},callOnFinish:function(){this.writeToInput(),this.options.onFinish&&"function"==typeof this.options.onFinish&&(this.options.scope?this.options.onFinish.call(this.options.scope,this.result):this.options.onFinish(this.result))},callOnUpdate:function(){this.writeToInput(),this.options.onUpdate&&"function"==typeof this.options.onUpdate&&(this.options.scope?this.options.onUpdate.call(this.options.scope,this.result):this.options.onUpdate(this.result))},toggleInput:function(){this.$cache.input.toggleClass("irs-hidden-input"),this.has_tab_index?this.$cache.input.prop("tabindex",-1):this.$cache.input.removeProp("tabindex"),this.has_tab_index=!this.has_tab_index},convertToPercent:function(t,e){var i,s=this.options.max-this.options.min,o=s/100;return s?(i=(e?t:t-this.options.min)/o,this.toFixed(i)):(this.no_diapason=!0,0)},convertToValue:function(t){var e,i,s=this.options.min,o=this.options.max,n=s.toString().split(".")[1],r=o.toString().split(".")[1],a=0,l=0;if(0===t)return this.options.min;if(100===t)return this.options.max;n&&(a=e=n.length),r&&(a=i=r.length),e&&i&&(a=i<=e?e:i),s<0&&(s=+(s+(l=Math.abs(s))).toFixed(a),o=+(o+l).toFixed(a));var h,c=(o-s)/100*t+s,d=this.options.step.toString().split(".")[1];return c=d?+c.toFixed(d.length):(c/=this.options.step,+(c*=this.options.step).toFixed(0)),l&&(c-=l),(h=d?+c.toFixed(d.length):this.toFixed(c))<this.options.min?h=this.options.min:h>this.options.max&&(h=this.options.max),h},calcWithStep:function(t){var e=Math.round(t/this.coords.p_step)*this.coords.p_step;return 100<e&&(e=100),100===t&&(e=100),this.toFixed(e)},checkMinInterval:function(t,e,i){var s,o,n=this.options;return n.min_interval?(s=this.convertToValue(t),o=this.convertToValue(e),"from"===i?o-s<n.min_interval&&(s=o-n.min_interval):s-o<n.min_interval&&(s=o+n.min_interval),this.convertToPercent(s)):t},checkMaxInterval:function(t,e,i){var s,o,n=this.options;return n.max_interval?(s=this.convertToValue(t),o=this.convertToValue(e),"from"===i?o-s>n.max_interval&&(s=o-n.max_interval):s-o>n.max_interval&&(s=o+n.max_interval),this.convertToPercent(s)):t},checkDiapason:function(t,e,i){var s=this.convertToValue(t),o=this.options;return"number"!=typeof e&&(e=o.min),"number"!=typeof i&&(i=o.max),s<e&&(s=e),i<s&&(s=i),this.convertToPercent(s)},toFixed:function(t){return+t.toFixed(20)},_prettify:function(t){return this.options.prettify_enabled?this.options.prettify&&"function"==typeof this.options.prettify?this.options.prettify(t):this.prettify(t):t},prettify:function(t){return t.toString().replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1"+this.options.prettify_separator)},checkEdges:function(t,e){return this.options.force_edges&&(t<0?t=0:100-e<t&&(t=100-e)),this.toFixed(t)},validate:function(){var t,e,i=this.options,s=this.result,o=i.values,n=o.length;if("string"==typeof i.min&&(i.min=+i.min),"string"==typeof i.max&&(i.max=+i.max),"string"==typeof i.from&&(i.from=+i.from),"string"==typeof i.to&&(i.to=+i.to),"string"==typeof i.step&&(i.step=+i.step),"string"==typeof i.from_min&&(i.from_min=+i.from_min),"string"==typeof i.from_max&&(i.from_max=+i.from_max),"string"==typeof i.to_min&&(i.to_min=+i.to_min),"string"==typeof i.to_max&&(i.to_max=+i.to_max),"string"==typeof i.grid_num&&(i.grid_num=+i.grid_num),i.max<i.min&&(i.max=i.min),n)for(i.p_values=[],i.min=0,i.max=n-1,i.step=1,i.grid_num=i.max,i.grid_snap=!0,e=0;e<n;e++)t=+o[e],t=isNaN(t)?o[e]:(o[e]=t,this._prettify(t)),i.p_values.push(t);"number"==typeof i.from&&!isNaN(i.from)||(i.from=i.min),"number"==typeof i.to&&!isNaN(i.to)||(i.to=i.max),"single"===i.type?(i.from<i.min&&(i.from=i.min),i.from>i.max&&(i.from=i.max)):(i.from<i.min&&(i.from=i.min),i.from>i.max&&(i.from=i.max),i.to<i.min&&(i.to=i.min),i.to>i.max&&(i.to=i.max),this.update_check.from&&(this.update_check.from!==i.from&&i.from>i.to&&(i.from=i.to),this.update_check.to!==i.to&&i.to<i.from&&(i.to=i.from)),i.from>i.to&&(i.from=i.to),i.to<i.from&&(i.to=i.from)),("number"!=typeof i.step||isNaN(i.step)||!i.step||i.step<0)&&(i.step=1),"number"==typeof i.from_min&&i.from<i.from_min&&(i.from=i.from_min),"number"==typeof i.from_max&&i.from>i.from_max&&(i.from=i.from_max),"number"==typeof i.to_min&&i.to<i.to_min&&(i.to=i.to_min),"number"==typeof i.to_max&&i.from>i.to_max&&(i.to=i.to_max),s&&(s.min!==i.min&&(s.min=i.min),s.max!==i.max&&(s.max=i.max),(s.from<s.min||s.from>s.max)&&(s.from=i.from),(s.to<s.min||s.to>s.max)&&(s.to=i.to)),("number"!=typeof i.min_interval||isNaN(i.min_interval)||!i.min_interval||i.min_interval<0)&&(i.min_interval=0),("number"!=typeof i.max_interval||isNaN(i.max_interval)||!i.max_interval||i.max_interval<0)&&(i.max_interval=0),i.min_interval&&i.min_interval>i.max-i.min&&(i.min_interval=i.max-i.min),i.max_interval&&i.max_interval>i.max-i.min&&(i.max_interval=i.max-i.min)},decorate:function(t,e){var i="",s=this.options;return s.prefix&&(i+=s.prefix),i+=t,s.max_postfix&&(s.values.length&&t===s.p_values[s.max]?(i+=s.max_postfix,s.postfix&&(i+=" ")):e===s.max&&(i+=s.max_postfix,s.postfix&&(i+=" "))),s.postfix&&(i+=s.postfix),i},updateFrom:function(){this.result.from=this.options.from,this.result.from_percent=this.convertToPercent(this.result.from),this.result.from_pretty=this._prettify(this.result.from),this.options.values&&(this.result.from_value=this.options.values[this.result.from])},updateTo:function(){this.result.to=this.options.to,this.result.to_percent=this.convertToPercent(this.result.to),this.result.to_pretty=this._prettify(this.result.to),this.options.values&&(this.result.to_value=this.options.values[this.result.to])},updateResult:function(){this.result.min=this.options.min,this.result.max=this.options.max,this.updateFrom(),this.updateTo()},appendGrid:function(){if(this.options.grid){var t,e,i,s,o,n,r=this.options,a=r.max-r.min,l=r.grid_num,h=0,c=4,d="";for(this.calcGridMargin(),r.grid_snap&&(l=a/r.step),50<l&&(l=50),i=this.toFixed(100/l),4<l&&(c=3),7<l&&(c=2),14<l&&(c=1),28<l&&(c=0),t=0;t<l+1;t++){for(s=c,100<(h=this.toFixed(i*t))&&(h=100),o=((this.coords.big[t]=h)-i*(t-1))/(s+1),e=1;e<=s&&0!==h;e++)d+='<span class="irs-grid-pol small" style="left: '+this.toFixed(h-o*e)+'%"></span>';d+='<span class="irs-grid-pol" style="left: '+h+'%"></span>',n=this.convertToValue(h),d+='<span class="irs-grid-text js-grid-text-'+t+'" style="left: '+h+'%">'+(n=r.values.length?r.p_values[n]:this._prettify(n))+"</span>"}this.coords.big_num=Math.ceil(l+1),this.$cache.cont.addClass("irs-with-grid"),this.$cache.grid.html(d),this.cacheGridLabels()}},cacheGridLabels:function(){var t,e,i=this.coords.big_num;for(e=0;e<i;e++)t=this.$cache.grid.find(".js-grid-text-"+e),this.$cache.grid_labels.push(t);this.calcGridLabels()},calcGridLabels:function(){var t,e,i=[],s=[],o=this.coords.big_num;for(t=0;t<o;t++)this.coords.big_w[t]=this.$cache.grid_labels[t].outerWidth(!1),this.coords.big_p[t]=this.toFixed(this.coords.big_w[t]/this.coords.w_rs*100),this.coords.big_x[t]=this.toFixed(this.coords.big_p[t]/2),i[t]=this.toFixed(this.coords.big[t]-this.coords.big_x[t]),s[t]=this.toFixed(i[t]+this.coords.big_p[t]);for(this.options.force_edges&&(i[0]<-this.coords.grid_gap&&(i[0]=-this.coords.grid_gap,s[0]=this.toFixed(i[0]+this.coords.big_p[0]),this.coords.big_x[0]=this.coords.grid_gap),s[o-1]>100+this.coords.grid_gap&&(s[o-1]=100+this.coords.grid_gap,i[o-1]=this.toFixed(s[o-1]-this.coords.big_p[o-1]),this.coords.big_x[o-1]=this.toFixed(this.coords.big_p[o-1]-this.coords.grid_gap))),this.calcGridCollision(2,i,s),this.calcGridCollision(4,i,s),t=0;t<o;t++)e=this.$cache.grid_labels[t][0],this.coords.big_x[t]!==Number.POSITIVE_INFINITY&&(e.style.marginLeft=-this.coords.big_x[t]+"%")},calcGridCollision:function(t,e,i){var s,o,n,r=this.coords.big_num;for(s=0;s<r&&!(r<=(o=s+t/2));s+=t)n=this.$cache.grid_labels[o][0],i[s]<=e[o]?n.style.visibility="visible":n.style.visibility="hidden"},calcGridMargin:function(){this.options.grid_margin&&(this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_rs&&("single"===this.options.type?this.coords.w_handle=this.$cache.s_single.outerWidth(!1):this.coords.w_handle=this.$cache.s_from.outerWidth(!1),this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100),this.coords.grid_gap=this.toFixed(this.coords.p_handle/2-.1),this.$cache.grid[0].style.width=this.toFixed(100-this.coords.p_handle)+"%",this.$cache.grid[0].style.left=this.coords.grid_gap+"%"))},update:function(t){this.input&&(this.is_update=!0,this.options.from=this.result.from,this.options.to=this.result.to,this.update_check.from=this.result.from,this.update_check.to=this.result.to,this.options=l.extend(this.options,t),this.validate(),this.updateResult(t),this.toggleInput(),this.remove(),this.init(!0))},reset:function(){this.input&&(this.updateResult(),this.update())},destroy:function(){this.input&&(this.toggleInput(),this.$cache.input.prop("readonly",!1),l.data(this.input,"ionRangeSlider",null),this.remove(),this.input=null,this.options=null)}},l.fn.ionRangeSlider=function(t){return this.each(function(){l.data(this,"ionRangeSlider")||l.data(this,"ionRangeSlider",new n(this,t,s++))})},function(){for(var n=0,t=["ms","moz","webkit","o"],e=0;e<t.length&&!c.requestAnimationFrame;++e)c.requestAnimationFrame=c[t[e]+"RequestAnimationFrame"],c.cancelAnimationFrame=c[t[e]+"CancelAnimationFrame"]||c[t[e]+"CancelRequestAnimationFrame"];c.requestAnimationFrame||(c.requestAnimationFrame=function(t,e){var i=(new Date).getTime(),s=Math.max(0,16-(i-n)),o=c.setTimeout(function(){t(i+s)},s);return n=i+s,o}),c.cancelAnimationFrame||(c.cancelAnimationFrame=function(t){clearTimeout(t)})}()}),function(a){a.browserTest=function(t,e){function n(t,e){for(var i=0;i<e.length;i+=1)t=t.replace(e[i][0],e[i][1]);return t}function i(t,e,i,s){var o={name:n((e.exec(t)||[r,r])[1],i)};return o[o.name]=!0,o.version=(s.exec(t)||["X","X","X","X"])[3],o.name.match(/safari/)&&400<o.version&&(o.version="2.0"),"presto"===o.name&&(o.version=9.27<a.browser.version?"futhark":"linear_b"),o.versionNumber=parseFloat(o.version,10)||0,o.versionX="X"!==o.version?(o.version+"").substr(0,1):"X",o.className=o.name+o.versionX,o}var r="unknown";t=(t.match(/Opera|Navigator|Minefield|KHTML|Chrome/)?n(t,[[/(Firefox|MSIE|KHTML,\slike\sGecko|Konqueror)/,""],["Chrome Safari","Chrome"],["KHTML","Konqueror"],["Minefield","Firefox"],["Navigator","Netscape"]]):t).toLowerCase(),a.browser=a.extend(e?{}:a.browser,i(t,/(camino|chrome|firefox|netscape|konqueror|lynx|msie|opera|safari)/,[],/(camino|chrome|firefox|netscape|netscape6|opera|version|konqueror|lynx|msie|safari)(\/|\s)([a-z0-9\.\+]*?)(\;|dev|rel|\s|$)/)),a.layout=i(t,/(gecko|konqueror|msie|opera|webkit)/,[["konqueror","khtml"],["msie","trident"],["opera","presto"]],/(applewebkit|rv|konqueror|msie)(\:|\/|\s)([a-z0-9\.]*?)(\;|\)|\s)/),a.os={name:(/(win|mac|linux|sunos|solaris|iphone)/.exec(navigator.platform.toLowerCase())||[r])[0].replace("sunos","solaris")},e||a("html").addClass([a.os.name,a.browser.name,a.browser.className,a.layout.name,a.layout.className].join(" "))},a.browserTest(navigator.userAgent)}(jQuery),function(s){s.fn.collapsible=function(t){return this.each(function(){var e=s(this),t=e.html();if(S(t).stripTags().trim().s.length<320)return!0;var i=S(e.html()).stripTags().truncate(320).s;e.html(""),e.append('<p class="collapsed-content">'+i+' <a href="#">Read More</a></p>'),e.append('<div class="full-content">'+t+"</div>"),e.find(".full-content").hide(),e.find(".collapsed-content").on("click",function(t){t.preventDefault(),s(this).hide(),e.find(".full-content").show()})})}}(jQuery),$(document).ready(function(){$(".dropzone-upload").dropzone({addRemoveLinks:!0,maxFilesize:5,resizeWidth:800,clickable:".dropzone-upload .target",paramName:"file",previewsContainer:".dropzone-previews",init:function(){var s=[];if(void 0===o)var o=0;this.on("error",function(t,e){}),this.on("success",function(t,e){s.push({name:t.name,id:e}),0,--o<=0?($(".button.continue").show(),$("#min-image-requirement-message").hide()):($(".button.continue").hide(),$("#min-image-requirement-message").show())}),this.on("removedfile",function(i){$.each(s,function(t,e){e.name==i.name&&$.post(window.location,{delete_image_id:e.id},function(){console.log("Deleted the file from disk.")})}),0,++o<=0?($(".button.continue").show(),$("#min-image-requirement-message").hide()):($(".button.continue").hide(),$("#min-image-requirement-message").show())}),this.on("queuecomplete",function(){var t=window.location.origin+window.location.pathname+"?success="+this.getAcceptedFiles().length+"&fail="+this.getRejectedFiles().length+"&maxsize=5";window.location.href=t})}})}),function(d){d.fn.lightbox_me=function(c){return this.each(function(){var s=d.extend({},d.fn.lightbox_me.defaults,c),e=d(),o=d(this),i=d('<iframe id="foo" style="z-index: '+(s.zIndex+1)+';border: none; margin: 0; padding: 0; position: absolute; width: 100%; height: 100%; top: 0; left: 0; filter: mask();"/>'),n=d.browser.msie&&d.browser.version<7;if(s.showOverlay){var t=d(".js_lb_overlay:visible");e=0<t.length?d('<div class="lb_overlay_clear js_lb_overlay"/>'):d('<div class="'+s.classPrefix+'_overlay js_lb_overlay"/>')}if(n){var r=/^https/i.test(window.location.href||"")?"javascript:false":"about:blank";i.attr("src",r),d("body").append(i)}function a(){var t=o[0].style;s.destroyOnClose?o.add(e).remove():o.add(e).hide(),s.parentLightbox&&s.parentLightbox.fadeIn(200),i.remove(),o.undelegate(s.closeSelector,"click"),d(window).unbind("reposition",l),d(window).unbind("reposition",h),d(window).unbind("scroll",h),d(window).unbind("keyup.lightbox_me"),n&&t.removeExpression("top"),s.onClose()}function l(){d(window).height()<d(document).height()?(e.css({height:d(document).height()+"px"}),i.css({height:d(document).height()+"px"})):(e.css({height:"100%"}),n&&(d("html,body").css("height","100%"),i.css("height","100%")))}function h(){var t=o[0].style;if(o.css({left:"50%",marginLeft:o.outerWidth()/2*-1,zIndex:s.zIndex+3}),o.height()+80>=d(window).height()&&("absolute"!=o.css("position")||n)){var e=d(document).scrollTop()+40;o.css({position:"absolute",top:e+"px",marginTop:0}),n&&t.removeExpression("top")}else if(o.height()+80<d(window).height())if(n)if(t.position="absolute",s.centered)t.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),t.marginTop=0;else{var i=s.modalCSS&&s.modalCSS.top?parseInt(s.modalCSS.top):0;t.setExpression("top","((blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+i+') + "px"')}else s.centered?o.css({position:"fixed",top:"50%",marginTop:o.outerHeight()/2*-1}):o.css({position:"fixed"}).css(s.modalCSS)}d("body").append(o.hide()).append(e),s.showOverlay&&(l(),e.css({position:"absolute",width:"100%",top:0,left:0,right:0,bottom:0,zIndex:s.zIndex+2,display:"none"}),e.hasClass("lb_overlay_clear")||e.css(s.overlayCSS)),s.showOverlay?e.fadeIn(s.overlaySpeed,function(){h(),o[s.appearEffect](s.lightboxSpeed,function(){l(),h(),s.onLoad()})}):(h(),o[s.appearEffect](s.lightboxSpeed,function(){s.onLoad()})),s.parentLightbox&&s.parentLightbox.fadeOut(200),d(window).resize(l).resize(h).scroll(h),d(window).bind("keyup.lightbox_me",function(t){(27==t.keyCode||27==t.DOM_VK_ESCAPE&&0==t.which)&&s.closeEsc&&a()}),s.closeClick&&e.click(function(t){a(),t.preventDefault}),o.delegate(s.closeSelector,"click",function(t){a(),t.preventDefault()}),o.bind("close",a),o.bind("reposition",h)})},d.fn.lightbox_me.defaults={appearEffect:"fadeIn",appearEase:"",overlaySpeed:250,lightboxSpeed:300,closeSelector:".close",closeClick:!0,closeEsc:!0,destroyOnClose:!1,showOverlay:!0,parentLightbox:!1,onLoad:function(){},onClose:function(){},classPrefix:"lb",zIndex:999,centered:!1,modalCSS:{top:"40px"},overlayCSS:{background:"black",opacity:.3}}}(jQuery),function(c){c.fn.listingsFilter=function(t,e){var l=c.extend({debug:!1,ajax:!1,parameters:{},metro:e},t);l.debug&&(console.log("FILTER: Outputting current filter settings:"),console.table(l));var r=this,h=c(this).attr("data-base-url");c(".listings-map").on("change",function(t){l.debug&&(console.log("FILTER: Detected map change. Caught event:"),console.table(t));var e=t.itemCount;c(".results-count span",r).text(e)});var s,o=document.querySelectorAll(".dropdown > ul, .dropdown .metro-selector > div > ul");for(i=0;i<o.length;++i)new PerfectScrollbar(o[i],{suppressScrollX:!0,wheelPropagation:!0,wheelSpeed:2});c(this).find("select").on("change",function(t){var e=c(this).val();l.debug&&console.log("FILTER: Redirecting to ".value),"/"===e.charAt(0)&&(window.location.href=e),t.stopPropagation()}),c(this).find("input:not(.station, .line), select").on("change",function(t){t.stopPropagation(),l.debug&&console.log("FILTER: An input element was changed.."),clearTimeout(s),s=setTimeout(function(){l.debug&&console.log("FILTER: Hit change timeout. Preparing to submit form."),c(r).submit()},1500),l.debug&&console.log("FILTER: Set form timeout..")}),c("button[type=submit]").on("click",function(t){c("input[type=hidden][name=view]").attr("value",c(this).attr("value")),c(r).submit()}),c(this).on("submit",function(t){if(l.debug&&console.log("FILTER: Preparing to submit form.."),params={},c("input, select",this).each(function(t,e){var i=c(this);null==i.val()?i.prop("disabled",!0):i.val()?"0"===i.val()?i.prop("disabled",!0):1==i.parent().attr("data-causes-rewrite")?(i.prop("disabled",!0),params[i.attr("name")]=i.val()):"checkbox"!==i.attr("type")&&"radio"!==i.attr("type")||i.is(":checked")?params[i.attr("name")]?params[i.attr("name")]instanceof Array?params[i.attr("name")].push(i.val()):params[i.attr("name")]&&(params[i.attr("name")]=[params[i.attr("name")],i.val()]):params[i.attr("name")]=i.val():i.prop("disabled",!0):i.prop("disabled",!0)}),l.debug&&(console.log("FILTER: Current filter parameters are:"),console.table(params)),"undefined"!==params.view&&"list"==params.view&&(l.ajax=!1),!0===l.ajax){t.preventDefault(),c("input, select",this).prop("disabled",!1);var e={type:"change",parameters:params};r.trigger(e),l.debug&&(console.log("FILTER: Triggered change event on self. Map should be detecting it..."),console.table(params))}return!0}),c(".dropdown .head",r).on("click",function(t){(t.stopPropagation(),l.debug&&console.log("FILTER: A dropdown head was clicked."),"none"==c(this).siblings("ul, .metro-selector").css("display"))?(r.find(".dropdown > ul:visible, .dropdown > .metro-selector:visible").hide(),c(this).siblings("ul, .metro-selector").fadeIn()):c(this).siblings("ul, .metro-selector").fadeOut()}),c(".dropdown > ul li",r).on("click",function(t){t.stopPropagation();var e=c(this).closest(".dropdown"),i=c(this).find("label"),s=i.attr("data-value"),o=i.text(),n=c(this).closest(".dropdown").find("input[type=hidden]");c(this).closest(".dropdown").find(".head label").text(o);var r=i.attr("data-slug");if(1===parseInt(e.attr("data-causes-rewrite"))){l.debug&&console.log("This dropdown should cause a rewrite.");var a=h;return r&&(a+="/"+r),null!=location.search&&(a+=location.search),l.debug&&console.log("FILTER: Relocating to: "+a),void(window.location.href=a)}l.debug&&console.log(""),null!=r&&(s=r),n.attr("value",s).trigger("change"),l.debug&&console.log("FILTER: Clicked dropdown resulted in updated hidden value field: "+s),e.children("ul").fadeOut()}),c("body").on("click",function(t){c(".dropdown > ul",r).fadeOut();var e=c(".dropdown .metro-selector");if(e.is(":visible")&&!e.is(t.target)&&0===e.has(t.target).length){e.fadeOut();var i=c("form").serializeArray(),s=[];for(var o in i){var n=i[o];"line_id"!=n.name&&"station_ids[]"!=n.name||s.unshift(Number(n.value))}s.sort().toString()!==l.metro.sort().toString()&&(console.log("submit"),c(r).submit())}}),c(".dropdown .metro-selector input[type=submit]").on("click",function(t){c(".dropdown .metro-selector").fadeOut()}),c(this).find("input.station").on("change",function(){c(this).is(":checked")?(c(this).parents("li.station-li").addClass("active"),console.log("add")):(c(this).parents("li.station-li").removeClass("active"),console.log("remove"))}),c(this).find("input.line").on("change",function(t){c("input.station").prop("checked",!1)}),c("#metro-tabs").tabLoader()}}(jQuery);var BAIDU_MAPS=1,GOOGLE_MAPS=2,DEFAULT_MAP_ZOOM_LEVEL=14;function generateGoogleMap(t,e,i){var s=new google.maps.LatLng(e,t),o=new google.maps.Map(document.getElementById(i),{zoom:DEFAULT_MAP_ZOOM_LEVEL,center:s});new google.maps.Marker({position:s,map:o})}function generateBaiduMap(t,e,s){var i=new BMap.Point(t,e);translateCallback=function(t){var e=new BMap.Map(document.getElementById(s));e.centerAndZoom(t.points[0],DEFAULT_MAP_ZOOM_LEVEL+1),e.addControl(new BMap.NavigationControl),e.enableScrollWheelZoom(!0),e.enableContinuousZoom();var i=new BMap.Marker(t.points[0]);e.addOverlay(i)},setTimeout(function(){var t=new BMap.Convertor,e=[];e.push(i),t.translate(e,3,5,translateCallback)},1e3)}function getMap(t,e,i,s){t==BAIDU_MAPS?generateBaiduMap(e,i,s):t==GOOGLE_MAPS&&generateGoogleMap(e,i,s)}try{!function(l){l.fn.smartReviewVotingComponent=function(t){var r=l.extend({userIsSignedIn:!1,debug:!1,url:window.location.origin+"/smartreviews"},t),a=axios.create({baseUrl:r.url,timeout:2e3});return this.each(function(){var o=l(".voting-component",this),n=o.attr("data-smartreview-id");r.debug&&console.log("Found SmartReview id: "+n),l("a",o).on("click",function(t){if(t.preventDefault(),!r.userIsSignedIn)return r.debug&&console.log("User is not signed in, and will be shown the sign-in lightbox."),void l(".signin-page.lightboxable").lightbox_me({centered:!0,closeSelector:".close",overlayCSS:{background:"black",opacity:.7},onLoad:function(){l(".signin-page.lightboxable").find("input:first").focus()}});var e=l(this).attr("data-vote"),i=l(this);r.debug&&console.log("Voted "+e+" on SmartReview #"+n);var s=new URLSearchParams;s.append("smart_review_id",n),s.append("vote",e),r.debug&&console.log("Sending POST to "+r.url),a.post(r.url,s).then(function(t){r.debug&&console.table(t),200==t.status&&(l("a",o).removeClass("selected"),i.addClass("selected"))}).catch(function(t){r.debug&&console.log(t)})})})}}(jQuery)}catch(t){}function validateUrl(t){return!!/^([a-z]([a-z]|\d|\+|-|\.)*):(\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?((\[(|(v[\da-f]{1,}\.(([a-z]|\d|-|\.|_|~)|[!\$&'\(\)\*\+,;=]|:)+))\])|((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=])*)(:\d*)?)(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*|(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)|((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)|((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)){0})(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(t)}(function(){var A,L;A=this.jQuery||window.jQuery,L=A(window),A.fn.stick_in_parent=function(t){var w,x,e,i,k,s,C,T,S,E,$;for(null==t&&(t={}),$=t.sticky_class,k=t.inner_scrolling,E=t.recalc_every,S=t.parent,T=t.offset_top,C=t.spacer,x=t.bottoming,null==T&&(T=0),null==S&&(S=void 0),null==k&&(k=!0),null==$&&($="is_stuck"),w=A(document),null==x&&(x=!0),e=function(o,n,r,a,l,h,c,d){var u,t,p,f,m,g,v,_,e,y,b,s;if(!o.data("sticky_kit")){if(o.data("sticky_kit",!0),m=w.height(),v=o.parent(),null!=S&&(v=v.closest(S)),!v.length)throw"failed to find stick parent";if(u=p=!1,(b=null!=C?C&&o.closest(C):A("<div />"))&&b.css("position",o.css("position")),(_=function(){var t,e,i;if(!d&&(m=w.height(),t=parseInt(v.css("border-top-width"),10),e=parseInt(v.css("padding-top"),10),n=parseInt(v.css("padding-bottom"),10),r=v.offset().top+t+e,a=v.height(),p&&(u=p=!1,null==C&&(o.insertAfter(b),b.detach()),o.css({position:"",top:"",width:"",bottom:""}).removeClass($),i=!0),l=o.offset().top-(parseInt(o.css("margin-top"),10)||0)-T,h=o.outerHeight(!0),c=o.css("float"),b&&b.css({width:o.outerWidth(!0),height:h,display:o.css("display"),"vertical-align":o.css("vertical-align"),float:c}),i))return s()})(),h!==a)return f=void 0,g=T,y=E,s=function(){var t,e,i,s;if(!d&&(i=!1,null!=y&&(--y<=0&&(y=E,_(),i=!0)),i||w.height()===m||_(),i=L.scrollTop(),null!=f&&(e=i-f),f=i,p?(x&&(s=a+r<i+h+g,u&&!s&&(u=!1,o.css({position:"fixed",bottom:"",top:g}).trigger("sticky_kit:unbottom"))),i<l&&(p=!1,g=T,null==C&&("left"!==c&&"right"!==c||o.insertAfter(b),b.detach()),t={position:"",width:"",top:""},o.css(t).removeClass($).trigger("sticky_kit:unstick")),k&&((t=L.height())<h+T&&!u&&(g-=e,g=Math.max(t-h,g),g=Math.min(T,g),p&&o.css({top:g+"px"})))):l<i&&(p=!0,(t={position:"fixed",top:g}).width="border-box"===o.css("box-sizing")?o.outerWidth()+"px":o.width()+"px",o.css(t).addClass($),null==C&&(o.after(b),"left"!==c&&"right"!==c||b.append(o)),o.trigger("sticky_kit:stick")),p&&x&&(null==s&&(s=a+r<i+h+g),!u&&s)))return u=!0,"static"===v.css("position")&&v.css({position:"relative"}),o.css({position:"absolute",bottom:n,top:"auto"}).trigger("sticky_kit:bottom")},e=function(){return _(),s()},t=function(){if(d=!0,L.off("touchmove",s),L.off("scroll",s),L.off("resize",e),A(document.body).off("sticky_kit:recalc",e),o.off("sticky_kit:detach",t),o.removeData("sticky_kit"),o.css({position:"",bottom:"",top:"",width:""}),v.position("position",""),p)return null==C&&("left"!==c&&"right"!==c||o.insertAfter(b),b.remove()),o.removeClass($)},L.on("touchmove",s),L.on("scroll",s),L.on("resize",e),A(document.body).on("sticky_kit:recalc",e),o.on("sticky_kit:detach",t),setTimeout(s,0)}},i=0,s=this.length;i<s;i++)t=this[i],e(A(t));return this}}).call(this),function(){"use strict";var e=0,n={};function i(t){if(!t)throw new Error("No options passed to Waypoint constructor");if(!t.element)throw new Error("No element option passed to Waypoint constructor");if(!t.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+e,this.options=i.Adapter.extend({},i.defaults,t),this.element=this.options.element,this.adapter=new i.Adapter(this.element),this.callback=t.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=i.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=i.Context.findOrCreateByElement(this.options.context),i.offsetAliases[this.options.offset]&&(this.options.offset=i.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),n[this.key]=this,e+=1}i.prototype.queueTrigger=function(t){this.group.queueTrigger(this,t)},i.prototype.trigger=function(t){this.enabled&&this.callback&&this.callback.apply(this,t)},i.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete n[this.key]},i.prototype.disable=function(){return this.enabled=!1,this},i.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},i.prototype.next=function(){return this.group.next(this)},i.prototype.previous=function(){return this.group.previous(this)},i.invokeAll=function(t){var e=[];for(var i in n)e.push(n[i]);for(var s=0,o=e.length;s<o;s++)e[s][t]()},i.destroyAll=function(){i.invokeAll("destroy")},i.disableAll=function(){i.invokeAll("disable")},i.enableAll=function(){for(var t in i.Context.refreshAll(),n)n[t].enabled=!0;return this},i.refreshAll=function(){i.Context.refreshAll()},i.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},i.viewportWidth=function(){return document.documentElement.clientWidth},i.adapters=[],i.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},i.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=i}(),function(){"use strict";function e(t){window.setTimeout(t,1e3/60)}var i=0,s={},g=window.Waypoint,t=window.onload;function o(t){this.element=t,this.Adapter=g.Adapter,this.adapter=new this.Adapter(t),this.key="waypoint-context-"+i,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},t.waypointContextKey=this.key,s[t.waypointContextKey]=this,i+=1,g.windowContext||(g.windowContext=!0,g.windowContext=new o(window)),this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}o.prototype.add=function(t){var e=t.options.horizontal?"horizontal":"vertical";this.waypoints[e][t.key]=t,this.refresh()},o.prototype.checkEmpty=function(){var t=this.Adapter.isEmptyObject(this.waypoints.horizontal),e=this.Adapter.isEmptyObject(this.waypoints.vertical),i=this.element==this.element.window;t&&e&&!i&&(this.adapter.off(".waypoints"),delete s[this.key])},o.prototype.createThrottledResizeHandler=function(){var t=this;function e(){t.handleResize(),t.didResize=!1}this.adapter.on("resize.waypoints",function(){t.didResize||(t.didResize=!0,g.requestAnimationFrame(e))})},o.prototype.createThrottledScrollHandler=function(){var t=this;function e(){t.handleScroll(),t.didScroll=!1}this.adapter.on("scroll.waypoints",function(){t.didScroll&&!g.isTouch||(t.didScroll=!0,g.requestAnimationFrame(e))})},o.prototype.handleResize=function(){g.Context.refreshAll()},o.prototype.handleScroll=function(){var t={},e={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var i in e){var s=e[i],o=s.newScroll>s.oldScroll?s.forward:s.backward;for(var n in this.waypoints[i]){var r=this.waypoints[i][n];if(null!==r.triggerPoint){var a=s.oldScroll<r.triggerPoint,l=s.newScroll>=r.triggerPoint;(a&&l||!a&&!l)&&(r.queueTrigger(o),t[r.group.id]=r.group)}}}for(var h in t)t[h].flushTriggers();this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},o.prototype.innerHeight=function(){return this.element==this.element.window?g.viewportHeight():this.adapter.innerHeight()},o.prototype.remove=function(t){delete this.waypoints[t.axis][t.key],this.checkEmpty()},o.prototype.innerWidth=function(){return this.element==this.element.window?g.viewportWidth():this.adapter.innerWidth()},o.prototype.destroy=function(){var t=[];for(var e in this.waypoints)for(var i in this.waypoints[e])t.push(this.waypoints[e][i]);for(var s=0,o=t.length;s<o;s++)t[s].destroy()},o.prototype.refresh=function(){var t,e=this.element==this.element.window,i=e?void 0:this.adapter.offset(),s={};for(var o in this.handleScroll(),t={horizontal:{contextOffset:e?0:i.left,contextScroll:e?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:e?0:i.top,contextScroll:e?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}}){var n=t[o];for(var r in this.waypoints[o]){var a,l,h,c,d=this.waypoints[o][r],u=d.options.offset,p=d.triggerPoint,f=0,m=null==p;d.element!==d.element.window&&(f=d.adapter.offset()[n.offsetProp]),"function"==typeof u?u=u.apply(d):"string"==typeof u&&(u=parseFloat(u),-1<d.options.offset.indexOf("%")&&(u=Math.ceil(n.contextDimension*u/100))),a=n.contextScroll-n.contextOffset,d.triggerPoint=Math.floor(f+a-u),l=p<n.oldScroll,h=d.triggerPoint>=n.oldScroll,c=!l&&!h,!m&&(l&&h)?(d.queueTrigger(n.backward),s[d.group.id]=d.group):!m&&c?(d.queueTrigger(n.forward),s[d.group.id]=d.group):m&&n.oldScroll>=d.triggerPoint&&(d.queueTrigger(n.forward),s[d.group.id]=d.group)}}return g.requestAnimationFrame(function(){for(var t in s)s[t].flushTriggers()}),this},o.findOrCreateByElement=function(t){return o.findByElement(t)||new o(t)},o.refreshAll=function(){for(var t in s)s[t].refresh()},o.findByElement=function(t){return s[t.waypointContextKey]},window.onload=function(){t&&t(),o.refreshAll()},g.requestAnimationFrame=function(t){(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||e).call(window,t)},g.Context=o}(),function(){"use strict";function r(t,e){return t.triggerPoint-e.triggerPoint}function a(t,e){return e.triggerPoint-t.triggerPoint}var e={vertical:{},horizontal:{}},i=window.Waypoint;function s(t){this.name=t.name,this.axis=t.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),e[this.axis][this.name]=this}s.prototype.add=function(t){this.waypoints.push(t)},s.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},s.prototype.flushTriggers=function(){for(var t in this.triggerQueues){var e=this.triggerQueues[t],i="up"===t||"left"===t;e.sort(i?a:r);for(var s=0,o=e.length;s<o;s+=1){var n=e[s];!n.options.continuous&&s!==e.length-1||n.trigger([t])}}this.clearTriggerQueues()},s.prototype.next=function(t){this.waypoints.sort(r);var e=i.Adapter.inArray(t,this.waypoints);return e===this.waypoints.length-1?null:this.waypoints[e+1]},s.prototype.previous=function(t){this.waypoints.sort(r);var e=i.Adapter.inArray(t,this.waypoints);return e?this.waypoints[e-1]:null},s.prototype.queueTrigger=function(t,e){this.triggerQueues[e].push(t)},s.prototype.remove=function(t){var e=i.Adapter.inArray(t,this.waypoints);-1<e&&this.waypoints.splice(e,1)},s.prototype.first=function(){return this.waypoints[0]},s.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},s.findOrCreate=function(t){return e[t.axis][t.name]||new s(t)},i.Group=s}(),function(){"use strict";var i=window.jQuery,t=window.Waypoint;function s(t){this.$element=i(t)}i.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(t,e){s.prototype[e]=function(){var t=Array.prototype.slice.call(arguments);return this.$element[e].apply(this.$element,t)}}),i.each(["extend","inArray","isEmptyObject"],function(t,e){s[e]=i[e]}),t.adapters.push({name:"jquery",Adapter:s}),t.Adapter=s}(),function(){"use strict";var o=window.Waypoint;function t(s){return function(){var e=[],i=arguments[0];return s.isFunction(arguments[0])&&((i=s.extend({},arguments[1])).handler=arguments[0]),this.each(function(){var t=s.extend({},i,{element:this});"string"==typeof t.context&&(t.context=s(this).closest(t.context)[0]),e.push(new o(t))}),e}}window.jQuery&&(window.jQuery.fn.waypoint=t(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=t(window.Zepto))}(),function(t){var e=function(a,I){"use strict";if(!I.getElementsByClassName){return}var W,P,H=I.documentElement,l=a.Date,s=a.HTMLPictureElement,h="addEventListener",R="getAttribute",N=a[h],j=a.setTimeout,c=a.requestAnimationFrame||j,d=a.requestIdleCallback,B=/^picture$/i,o=["load","error","lazyincluded","_lazyloaded"],i={},q=Array.prototype.forEach,U=function(t,e){if(!i[e]){i[e]=new RegExp("(\\s|^)"+e+"(\\s|$)")}return i[e].test(t[R]("class")||"")&&i[e]},Y=function(t,e){if(!U(t,e)){t.setAttribute("class",(t[R]("class")||"").trim()+" "+e)}},X=function(t,e){var i;if(i=U(t,e)){t.setAttribute("class",(t[R]("class")||"").replace(i," "))}},Q=function(e,i,t){var s=t?h:"removeEventListener";if(t){Q(e,i)}o.forEach(function(t){e[s](t,i)})},G=function(t,e,i,s,o){var n=I.createEvent("CustomEvent");if(!i){i={}}i.instance=W;n.initCustomEvent(e,!s,!o,i);t.dispatchEvent(n);return n},K=function(t,e){var i;if(!s&&(i=a.picturefill||P.pf)){i({reevaluate:true,elements:[t]})}else if(e&&e.src){t.src=e.src}},V=function(t,e){return(getComputedStyle(t,null)||{})[e]},r=function(t,e,i){i=i||t.offsetWidth;while(i<P.minSize&&e&&!t._lazysizesWidth){i=e.offsetWidth;e=e.parentNode}return i},Z=function(){var i,s;var e=[];var o=[];var n=e;var r=function(){var t=n;n=e.length?o:e;i=true;s=false;while(t.length){t.shift()()}i=false};var t=function(t,e){if(i&&!e){t.apply(this,arguments)}else{n.push(t);if(!s){s=true;(I.hidden?j:c)(r)}}};t._lsFlush=r;return t}(),J=function(i,t){return t?function(){Z(i)}:function(){var t=this;var e=arguments;Z(function(){i.apply(t,e)})}},tt=function(t){var i;var s=0;var o=125;var e=666;var n=e;var r=function(){i=false;s=l.now();t()};var a=d?function(){d(r,{timeout:n});if(n!==e){n=e}}:J(function(){j(r)},true);return function(t){var e;if(t=t===true){n=44}if(i){return}i=true;e=o-(l.now()-s);if(e<0){e=0}if(t||e<9&&d){a()}else{j(a,e)}}},et=function(t){var e,i;var s=99;var o=function(){e=null;t()};var n=function(){var t=l.now()-i;if(t<s){j(n,s-t)}else{(d||o)(o)}};return function(){i=l.now();if(!e){e=j(n,s)}}},t=function(){var c,d,u,p,e;var f,m,g,v,_,y;var b,w,x;var n=/^img$/i;var k=/^iframe$/i;var C="onscroll"in a&&!/glebot/.test(navigator.userAgent);var T=0;var S=0;var E=0;var $=-1;var A=function(t){E--;if(t&&t.target){Q(t.target,A)}if(!t||E<0||!t.target){E=0}};var L=function(t,e){var i;var s=t;var o=V(I.body,"visibility")=="hidden"||V(t,"visibility")!="hidden";g-=e;y+=e;v-=e;_+=e;while(o&&(s=s.offsetParent)&&s!=I.body&&s!=H){o=(V(s,"opacity")||1)>0;if(o&&V(s,"overflow")!="visible"){i=s.getBoundingClientRect();o=_>i.left&&v<i.right&&y>i.top-1&&g<i.bottom+1}}return o};var t=function(){var t,e,i,s,o,n,r,a,l;var h=W.elements;if((p=P.loadMode)&&E<8&&(t=h.length)){e=0;$++;if(w==null){if(!("expand"in P)){P.expand=H.clientHeight>500&&H.clientWidth>500?500:370}b=P.expand;w=b*P.expFactor}if(S<w&&E<1&&$>2&&p>2&&!I.hidden){S=w;$=0}else if(p>1&&$>1&&E<6){S=b}else{S=T}for(;e<t;e++){if(!h[e]||h[e]._lazyRace){continue}if(!C){D(h[e]);continue}if(!(a=h[e][R]("data-expand"))||!(n=a*1)){n=S}if(l!==n){f=innerWidth+n*x;m=innerHeight+n;r=n*-1;l=n}i=h[e].getBoundingClientRect();if((y=i.bottom)>=r&&(g=i.top)<=m&&(_=i.right)>=r*x&&(v=i.left)<=f&&(y||_||v||g)&&(P.loadHidden||V(h[e],"visibility")!="hidden")&&(d&&E<3&&!a&&(p<3||$<4)||L(h[e],n))){D(h[e]);o=true;if(E>9){break}}else if(!o&&d&&!s&&E<4&&$<4&&p>2&&(c[0]||P.preloadAfterLoad)&&(c[0]||!a&&(y||_||v||g||h[e][R](P.sizesAttr)!="auto"))){s=c[0]||h[e]}}if(s&&!o){D(s)}}};var i=tt(t);var M=function(t){Y(t.target,P.loadedClass);X(t.target,P.loadingClass);Q(t.target,z);G(t.target,"lazyloaded")};var s=J(M);var z=function(t){s({target:t.target})};var F=function(e,i){try{e.contentWindow.location.replace(i)}catch(t){e.src=i}};var O=function(t){var e;var i=t[R](P.srcsetAttr);if(e=P.customMedia[t[R]("data-media")||t[R]("media")]){t.setAttribute("media",e)}if(i){t.setAttribute("srcset",i)}};var r=J(function(t,e,i,s,o){var n,r,a,l,h,c;if(!(h=G(t,"lazybeforeunveil",e)).defaultPrevented){if(s){if(i){Y(t,P.autosizesClass)}else{t.setAttribute("sizes",s)}}r=t[R](P.srcsetAttr);n=t[R](P.srcAttr);if(o){a=t.parentNode;l=a&&B.test(a.nodeName||"")}c=e.firesLoad||"src"in t&&(r||n||l);h={target:t};if(c){Q(t,A,true);clearTimeout(u);u=j(A,2500);Y(t,P.loadingClass);Q(t,z,true)}if(l){q.call(a.getElementsByTagName("source"),O)}if(r){t.setAttribute("srcset",r)}else if(n&&!l){if(k.test(t.nodeName)){F(t,n)}else{t.src=n}}if(o&&(r||l)){K(t,{src:n})}}if(t._lazyRace){delete t._lazyRace}X(t,P.lazyClass);Z(function(){if(!c||t.complete&&t.naturalWidth>1){if(c){A(h)}else{E--}M(h)}},true)});var D=function(t){var e;var i=n.test(t.nodeName);var s=i&&(t[R](P.sizesAttr)||t[R]("sizes"));var o=s=="auto";if((o||!d)&&i&&(t[R]("src")||t.srcset)&&!t.complete&&!U(t,P.errorClass)){return}e=G(t,"lazyunveilread").detail;if(o){it.updateElem(t,true,t.offsetWidth)}t._lazyRace=true;E++;r(t,e,o,s,i)};var o=function(){if(d){return}if(l.now()-e<999){j(o,999);return}var t=et(function(){P.loadMode=3;i()});d=true;P.loadMode=3;i();N("scroll",function(){if(P.loadMode==3){P.loadMode=2}t()},true)};return{_:function(){e=l.now();W.elements=I.getElementsByClassName(P.lazyClass);c=I.getElementsByClassName(P.lazyClass+" "+P.preloadClass);x=P.hFac;N("scroll",i,true);N("resize",i,true);if(a.MutationObserver){new MutationObserver(i).observe(H,{childList:true,subtree:true,attributes:true})}else{H[h]("DOMNodeInserted",i,true);H[h]("DOMAttrModified",i,true);setInterval(i,999)}N("hashchange",i,true);["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(t){I[h](t,i,true)});if(/d$|^c/.test(I.readyState)){o()}else{N("load",o);I[h]("DOMContentLoaded",i);j(o,2e4)}if(W.elements.length){t();Z._lsFlush()}else{i()}},checkElems:i,unveil:D}}(),it=function(){var i;var n=J(function(t,e,i,s){var o,n,r;t._lazysizesWidth=s;s+="px";t.setAttribute("sizes",s);if(B.test(e.nodeName||"")){o=e.getElementsByTagName("source");for(n=0,r=o.length;n<r;n++){o[n].setAttribute("sizes",s)}}if(!i.detail.dataAttr){K(t,i.detail)}});var s=function(t,e,i){var s;var o=t.parentNode;if(o){i=r(t,o,i);s=G(t,"lazybeforesizes",{width:i,dataAttr:!!e});if(!s.defaultPrevented){i=s.detail.width;if(i&&i!==t._lazysizesWidth){n(t,o,s,i)}}}};var t=function(){var t;var e=i.length;if(e){t=0;for(;t<e;t++){s(i[t])}}};var e=et(t);return{_:function(){i=I.getElementsByClassName(P.autosizesClass);N("resize",e)},checkElems:e,updateElem:s}}(),n=function(){if(!n.i){n.i=true;it._();t._()}};return function(){var t,e={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0};for(t in P=a.lazySizesConfig||a.lazysizesConfig||{},e)t in P||(P[t]=e[t]);a.lazySizesConfig=P,j(function(){P.init&&n()})}(),W={cfg:P,autoSizer:it,loader:t,init:n,uP:K,aC:Y,rC:X,hC:U,fire:G,gW:r,rAF:Z}}(t,t.document);t.lazySizes=e,"object"==typeof module&&module.exports&&(module.exports=e)}(window),$(document).ready(function(){function t(t){$(t+" .box >ul").on("setPosition",function(){$(t+" .slick-dots > li").length<=1&&$(t+" .slick-dots").css("display","none")}),$(t+" .box >ul").each(function(){$(this).find("li.slick-slide").length<=4&&$(this).find("li.slick-slide:last-child").css("border-right","1px dotted rgb(234, 234, 234)")}),$(t+" .close").on("click",function(){$.get("",{closesponsored:"true"}),$(t).css("display","none")})}var e,i;e="#housing-list #housing-lunbo-ad",$(e+" .box >ul").slick({slidesToShow:4,slidesToScroll:4,arrows:!0,slide:"li",dots:!0,responsive:[{breakpoint:800,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:686,settings:{slidesToShow:1,slidesToScroll:1}}]}),t(e),i="#housing-listing #housing-lunbo-ad",$(i+" .box >ul").slick({slidesToShow:2,slidesToScroll:2,arrows:!0,slide:"li",dots:!1,responsive:[{breakpoint:686,settings:{slidesToShow:1,slidesToScroll:1}}]}),t(i)}),window.BMap=window.BMap||{},BMap.Convertor={},BMap.Convertor.translate=function(t,e,i){var s="cbk_"+Math.round(1e4*Math.random());!function(t,e){var i=document.getElementsByTagName("head")[0],s=document.createElement("script");s.type="text/javascript",s.src=t,s.onload=s.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(e&&e(),s.onload=s.onreadystatechange=null,i&&s.parentNode&&i.removeChild(s))},i.insertBefore(s,i.firstChild)}("http://api.map.baidu.com/ag/coord/convert?from="+e+"&to=4&x="+t.lng+"&y="+t.lat+"&callback=BMap.Convertor."+s),BMap.Convertor[s]=function(t){delete BMap.Convertor[s];var e=new BMap.Point(t.x,t.y);i&&i(e)}},function(e,i){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("jquery")):e.jQueryBridget=i(e,e.jQuery)}(window,function(t,e){"use strict";var i=Array.prototype.slice,s=t.console,d=void 0===s?function(){}:function(t){s.error(t)};function o(h,o,c){(c=c||e||t.jQuery)&&(o.prototype.option||(o.prototype.option=function(t){c.isPlainObject(t)&&(this.options=c.extend(!0,this.options,t))}),c.fn[h]=function(t){return"string"==typeof t?function(t,n,r){var a,l="$()."+h+'("'+n+'")';return t.each(function(t,e){var i=c.data(e,h);if(i){var s=i[n];if(s&&"_"!=n.charAt(0)){var o=s.apply(i,r);a=void 0===a?o:a}else d(l+" is not a valid method")}else d(h+" not initialized. Cannot call methods, i.e. "+l)}),void 0!==a?a:t}(this,t,i.call(arguments,1)):(function(t,s){t.each(function(t,e){var i=c.data(e,h);i?(i.option(s),i._init()):(i=new o(e,s),c.data(e,h,i))})}(this,t),this)},n(c))}function n(t){!t||t&&t.bridget||(t.bridget=o)}return n(e||t.jQuery),o}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},s=i[t]=i[t]||[];return-1==s.indexOf(e)&&s.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{};return(i[t]=i[t]||{})[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var s=i.indexOf(e);return-1!=s&&i.splice(s,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];for(var s=this._onceEvents&&this._onceEvents[t],o=0;o<i.length;o++){var n=i[o];s&&s[n]&&(this.off(t,n),delete s[n]),n.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t}),function(t,e){"function"==typeof define&&define.amd?define("get-size/get-size",e):"object"==typeof module&&module.exports?module.exports=e():t.getSize=e()}(window,function(){"use strict";function v(t){var e=parseFloat(t);return-1==t.indexOf("%")&&!isNaN(e)&&e}var i="undefined"==typeof console?function(){}:function(t){console.error(t)},_=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],y=_.length;function b(t){var e=getComputedStyle(t);return e||i("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),e}var w,x=!1;function k(t){if(function(){if(!x){x=!0;var t=document.createElement("div");t.style.width="200px",t.style.padding="1px 2px 3px 4px",t.style.borderStyle="solid",t.style.borderWidth="1px 2px 3px 4px",t.style.boxSizing="border-box";var e=document.body||document.documentElement;e.appendChild(t);var i=b(t);w=200==Math.round(v(i.width)),k.isBoxSizeOuter=w,e.removeChild(t)}}(),"string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var e=b(t);if("none"==e.display)return function(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<y;e++){t[_[e]]=0}return t}();var i={};i.width=t.offsetWidth,i.height=t.offsetHeight;for(var s=i.isBorderBox="border-box"==e.boxSizing,o=0;o<y;o++){var n=_[o],r=e[n],a=parseFloat(r);i[n]=isNaN(a)?0:a}var l=i.paddingLeft+i.paddingRight,h=i.paddingTop+i.paddingBottom,c=i.marginLeft+i.marginRight,d=i.marginTop+i.marginBottom,u=i.borderLeftWidth+i.borderRightWidth,p=i.borderTopWidth+i.borderBottomWidth,f=s&&w,m=v(e.width);!1!==m&&(i.width=m+(f?0:l+u));var g=v(e.height);return!1!==g&&(i.height=g+(f?0:h+p)),i.innerWidth=i.width-(l+u),i.innerHeight=i.height-(h+p),i.outerWidth=i.width+c,i.outerHeight=i.height+d,i}}return k}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){"use strict";var i=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var s=e[i]+"MatchesSelector";if(t[s])return s}}();return function(t,e){return t[i](e)}}),function(e,i){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("desandro-matches-selector")):e.fizzyUIUtils=i(e,e.matchesSelector)}(window,function(h,n){var c={extend:function(t,e){for(var i in e)t[i]=e[i];return t},modulo:function(t,e){return(t%e+e)%e}},e=Array.prototype.slice;c.makeArray=function(t){return Array.isArray(t)?t:null==t?[]:"object"==typeof t&&"number"==typeof t.length?e.call(t):[t]},c.removeFrom=function(t,e){var i=t.indexOf(e);-1!=i&&t.splice(i,1)},c.getParent=function(t,e){for(;t.parentNode&&t!=document.body;)if(t=t.parentNode,n(t,e))return t},c.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},c.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},c.filterFindElements=function(t,s){t=c.makeArray(t);var o=[];return t.forEach(function(t){if(t instanceof HTMLElement)if(s){n(t,s)&&o.push(t);for(var e=t.querySelectorAll(s),i=0;i<e.length;i++)o.push(e[i])}else o.push(t)}),o},c.debounceMethod=function(t,e,s){s=s||100;var o=t.prototype[e],n=e+"Timeout";t.prototype[e]=function(){var t=this[n];clearTimeout(t);var e=arguments,i=this;this[n]=setTimeout(function(){o.apply(i,e),delete i[n]},s)}},c.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},c.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()};var d=h.console;return c.htmlInit=function(a,l){c.docReady(function(){var t=c.toDashed(l),o="data-"+t,e=document.querySelectorAll("["+o+"]"),i=document.querySelectorAll(".js-"+t),s=c.makeArray(e).concat(c.makeArray(i)),n=o+"-options",r=h.jQuery;s.forEach(function(e){var t,i=e.getAttribute(o)||e.getAttribute(n);try{t=i&&JSON.parse(i)}catch(t){return void(d&&d.error("Error parsing "+o+" on "+e.className+": "+t))}var s=new a(e,t);r&&r.data(e,l,s)})})},c}),function(t,e){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("ev-emitter"),require("get-size")):(t.Outlayer={},t.Outlayer.Item=e(t.EvEmitter,t.getSize))}(window,function(t,e){"use strict";var i=document.documentElement.style,s="string"==typeof i.transition?"transition":"WebkitTransition",o="string"==typeof i.transform?"transform":"WebkitTransform",n={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[s],r={transform:o,transition:s,transitionDuration:s+"Duration",transitionProperty:s+"Property",transitionDelay:s+"Delay"};function a(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}var l=a.prototype=Object.create(t.prototype);l.constructor=a,l._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},l.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},l.getSize=function(){this.size=e(this.element)},l.css=function(t){var e=this.element.style;for(var i in t){e[r[i]||i]=t[i]}},l.getPosition=function(){var t=getComputedStyle(this.element),e=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),s=t[e?"left":"right"],o=t[i?"top":"bottom"],n=parseFloat(s),r=parseFloat(o),a=this.layout.size;-1!=s.indexOf("%")&&(n=n/100*a.width),-1!=o.indexOf("%")&&(r=r/100*a.height),n=isNaN(n)?0:n,r=isNaN(r)?0:r,n-=e?a.paddingLeft:a.paddingRight,r-=i?a.paddingTop:a.paddingBottom,this.position.x=n,this.position.y=r},l.layoutPosition=function(){var t=this.layout.size,e={},i=this.layout._getOption("originLeft"),s=this.layout._getOption("originTop"),o=i?"paddingLeft":"paddingRight",n=i?"left":"right",r=i?"right":"left",a=this.position.x+t[o];e[n]=this.getXValue(a),e[r]="";var l=s?"paddingTop":"paddingBottom",h=s?"top":"bottom",c=s?"bottom":"top",d=this.position.y+t[l];e[h]=this.getYValue(d),e[c]="",this.css(e),this.emitEvent("layout",[this])},l.getXValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!e?t/this.layout.size.width*100+"%":t+"px"},l.getYValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&e?t/this.layout.size.height*100+"%":t+"px"},l._transitionTo=function(t,e){this.getPosition();var i=this.position.x,s=this.position.y,o=t==this.position.x&&e==this.position.y;if(this.setPosition(t,e),!o||this.isTransitioning){var n=t-i,r=e-s,a={};a.transform=this.getTranslate(n,r),this.transition({to:a,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})}else this.layoutPosition()},l.getTranslate=function(t,e){return"translate3d("+(t=this.layout._getOption("originLeft")?t:-t)+"px, "+(e=this.layout._getOption("originTop")?e:-e)+"px, 0)"},l.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},l.moveTo=l._transitionTo,l.setPosition=function(t,e){this.position.x=parseFloat(t),this.position.y=parseFloat(e)},l._nonTransition=function(t){for(var e in this.css(t.to),t.isCleaning&&this._removeStyles(t.to),t.onTransitionEnd)t.onTransitionEnd[e].call(this)},l.transition=function(t){if(parseFloat(this.layout.options.transitionDuration)){var e=this._transn;for(var i in t.onTransitionEnd)e.onEnd[i]=t.onTransitionEnd[i];for(i in t.to)e.ingProperties[i]=!0,t.isCleaning&&(e.clean[i]=!0);if(t.from){this.css(t.from);this.element.offsetHeight;null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0}else this._nonTransition(t)};var h="opacity,"+o.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()});l.enableTransition=function(){if(!this.isTransitioning){var t=this.layout.options.transitionDuration;t="number"==typeof t?t+"ms":t,this.css({transitionProperty:h,transitionDuration:t,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(n,this,!1)}},l.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},l.onotransitionend=function(t){this.ontransitionend(t)};var c={"-webkit-transform":"transform"};l.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,i=c[t.propertyName]||t.propertyName;if(delete e.ingProperties[i],function(t){for(var e in t)return!1;return!null}(e.ingProperties)&&this.disableTransition(),i in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[i]),i in e.onEnd)e.onEnd[i].call(this),delete e.onEnd[i];this.emitEvent("transitionEnd",[this])}},l.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(n,this,!1),this.isTransitioning=!1},l._removeStyles=function(t){var e={};for(var i in t)e[i]="";this.css(e)};var d={transitionProperty:"",transitionDuration:"",transitionDelay:""};return l.removeTransitionStyles=function(){this.css(d)},l.stagger=function(t){t=isNaN(t)?0:t,this.staggerDelay=t+"ms"},l.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},l.remove=function(){s&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),this.hide()):this.removeElem()},l.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},l.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},l.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return"opacity";for(var i in e)return i},l.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},l.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},l.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},a}),function(o,n){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(t,e,i,s){return n(o,t,e,i,s)}):"object"==typeof module&&module.exports?module.exports=n(o,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):o.Outlayer=n(o,o.EvEmitter,o.getSize,o.fizzyUIUtils,o.Outlayer.Item)}(window,function(t,e,o,n,s){"use strict";function i(){}var r=t.console,a=t.jQuery,l=0,h={};function c(t,e){var i=n.getQueryElement(t);if(i){this.element=i,a&&(this.$element=a(this.element)),this.options=n.extend({},this.constructor.defaults),this.option(e);var s=++l;this.element.outlayerGUID=s,(h[s]=this)._create(),this._getOption("initLayout")&&this.layout()}else r&&r.error("Bad element for "+this.constructor.namespace+": "+(i||t))}c.namespace="outlayer",c.Item=s,c.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var d=c.prototype;function u(t){function e(){t.apply(this,arguments)}return(e.prototype=Object.create(t.prototype)).constructor=e}n.extend(d,e.prototype),d.option=function(t){n.extend(this.options,t)},d._getOption=function(t){var e=this.constructor.compatOptions[t];return e&&void 0!==this.options[e]?this.options[e]:this.options[t]},c.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},d._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),n.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},d.reloadItems=function(){this.items=this._itemize(this.element.children)},d._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,s=[],o=0;o<e.length;o++){var n=new i(e[o],this);s.push(n)}return s},d._filterFindItemElements=function(t){return n.filterFindElements(t,this.options.itemSelector)},d.getItemElements=function(){return this.items.map(function(t){return t.element})},d.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption("layoutInstant"),e=void 0!==t?t:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},d._init=d.layout,d._resetLayout=function(){this.getSize()},d.getSize=function(){this.size=o(this.element)},d._getMeasurement=function(t,e){var i,s=this.options[t];s?("string"==typeof s?i=this.element.querySelector(s):s instanceof HTMLElement&&(i=s),this[t]=i?o(i)[e]:s):this[t]=0},d.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},d._getItemsForLayout=function(t){return t.filter(function(t){return!t.isIgnored})},d._layoutItems=function(t,i){if(this._emitCompleteOnItems("layout",t),t&&t.length){var s=[];t.forEach(function(t){var e=this._getItemLayoutPosition(t);e.item=t,e.isInstant=i||t.isLayoutInstant,s.push(e)},this),this._processLayoutQueue(s)}},d._getItemLayoutPosition=function(){return{x:0,y:0}},d._processLayoutQueue=function(t){this.updateStagger(),t.forEach(function(t,e){this._positionItem(t.item,t.x,t.y,t.isInstant,e)},this)},d.updateStagger=function(){var t=this.options.stagger;if(null!=t)return this.stagger=function(t){if("number"==typeof t)return t;var e=t.match(/(^\d*\.?\d*)(\w*)/),i=e&&e[1],s=e&&e[2];if(!i.length)return 0;i=parseFloat(i);var o=p[s]||1;return i*o}(t),this.stagger;this.stagger=0},d._positionItem=function(t,e,i,s,o){s?t.goTo(e,i):(t.stagger(o*this.stagger),t.moveTo(e,i))},d._postLayout=function(){this.resizeContainer()},d.resizeContainer=function(){if(this._getOption("resizeContainer")){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},d._getContainerSize=i,d._setContainerMeasure=function(t,e){if(void 0!==t){var i=this.size;i.isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},d._emitCompleteOnItems=function(e,t){var i=this;function s(){i.dispatchEvent(e+"Complete",null,[t])}var o=t.length;if(t&&o){var n=0;t.forEach(function(t){t.once(e,r)})}else s();function r(){++n==o&&s()}},d.dispatchEvent=function(t,e,i){var s=e?[e].concat(i):i;if(this.emitEvent(t,s),a)if(this.$element=this.$element||a(this.element),e){var o=a.Event(e);o.type=t,this.$element.trigger(o,i)}else this.$element.trigger(t,i)},d.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},d.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},d.stamp=function(t){(t=this._find(t))&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},d.unstamp=function(t){(t=this._find(t))&&t.forEach(function(t){n.removeFrom(this.stamps,t),this.unignore(t)},this)},d._find=function(t){if(t)return"string"==typeof t&&(t=this.element.querySelectorAll(t)),t=n.makeArray(t)},d._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},d._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},d._manageStamp=i,d._getElementOffset=function(t){var e=t.getBoundingClientRect(),i=this._boundingRect,s=o(t);return{left:e.left-i.left-s.marginLeft,top:e.top-i.top-s.marginTop,right:i.right-e.right-s.marginRight,bottom:i.bottom-e.bottom-s.marginBottom}},d.handleEvent=n.handleEvent,d.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0},d.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1},d.onresize=function(){this.resize()},n.debounceMethod(c,"onresize",100),d.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},d.needsResizeLayout=function(){var t=o(this.element);return this.size&&t&&t.innerWidth!==this.size.innerWidth},d.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},d.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},d.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(i)}},d.reveal=function(t){if(this._emitCompleteOnItems("reveal",t),t&&t.length){var i=this.updateStagger();t.forEach(function(t,e){t.stagger(e*i),t.reveal()})}},d.hide=function(t){if(this._emitCompleteOnItems("hide",t),t&&t.length){var i=this.updateStagger();t.forEach(function(t,e){t.stagger(e*i),t.hide()})}},d.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},d.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},d.getItem=function(t){for(var e=0;e<this.items.length;e++){var i=this.items[e];if(i.element==t)return i}},d.getItems=function(t){t=n.makeArray(t);var i=[];return t.forEach(function(t){var e=this.getItem(t);e&&i.push(e)},this),i},d.remove=function(t){var e=this.getItems(t);this._emitCompleteOnItems("remove",e),e&&e.length&&e.forEach(function(t){t.remove(),n.removeFrom(this.items,t)},this)},d.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="",this.items.forEach(function(t){t.destroy()}),this.unbindResize();var e=this.element.outlayerGUID;delete h[e],delete this.element.outlayerGUID,a&&a.removeData(this.element,this.constructor.namespace)},c.data=function(t){var e=(t=n.getQueryElement(t))&&t.outlayerGUID;return e&&h[e]},c.create=function(t,e){var i=u(c);return i.defaults=n.extend({},c.defaults),n.extend(i.defaults,e),i.compatOptions=n.extend({},c.compatOptions),i.namespace=t,i.data=c.data,i.Item=u(s),n.htmlInit(i,t),a&&a.bridget&&a.bridget(t,i),i};var p={ms:1,s:1e3};return c.Item=s,c}),function(t,e){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("outlayer"),require("get-size")):t.Masonry=e(t.Outlayer,t.getSize)}(window,function(t,h){var e=t.create("masonry");e.compatOptions.fitWidth="isFitWidth";var i=e.prototype;return i._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var t=0;t<this.cols;t++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},i.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],e=t&&t.element;this.columnWidth=e&&h(e).outerWidth||this.containerWidth}var i=this.columnWidth+=this.gutter,s=this.containerWidth+this.gutter,o=s/i,n=i-s%i;o=Math[n&&n<1?"round":"floor"](o),this.cols=Math.max(o,1)},i.getContainerWidth=function(){var t=this._getOption("fitWidth")?this.element.parentNode:this.element,e=h(t);this.containerWidth=e&&e.innerWidth},i._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,i=Math[e&&e<1?"round":"ceil"](t.size.outerWidth/this.columnWidth);i=Math.min(i,this.cols);for(var s=this[this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition"](i,t),o={x:this.columnWidth*s.col,y:s.y},n=s.y+t.size.outerHeight,r=i+s.col,a=s.col;a<r;a++)this.colYs[a]=n;return o},i._getTopColPosition=function(t){var e=this._getTopColGroup(t),i=Math.min.apply(Math,e);return{col:e.indexOf(i),y:i}},i._getTopColGroup=function(t){if(t<2)return this.colYs;for(var e=[],i=this.cols+1-t,s=0;s<i;s++)e[s]=this._getColGroupY(s,t);return e},i._getColGroupY=function(t,e){if(e<2)return this.colYs[t];var i=this.colYs.slice(t,t+e);return Math.max.apply(Math,i)},i._getHorizontalColPosition=function(t,e){var i=this.horizontalColIndex%this.cols;i=1<t&&i+t>this.cols?0:i;var s=e.size.outerWidth&&e.size.outerHeight;return this.horizontalColIndex=s?i+t:this.horizontalColIndex,{col:i,y:this._getColGroupY(i,t)}},i._manageStamp=function(t){var e=h(t),i=this._getElementOffset(t),s=this._getOption("originLeft")?i.left:i.right,o=s+e.outerWidth,n=Math.floor(s/this.columnWidth);n=Math.max(0,n);var r=Math.floor(o/this.columnWidth);r-=o%this.columnWidth?0:1,r=Math.min(this.cols-1,r);for(var a=(this._getOption("originTop")?i.top:i.bottom)+e.outerHeight,l=n;l<=r;l++)this.colYs[l]=Math.max(a,this.colYs[l])},i._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this._getOption("fitWidth")&&(t.width=this._getContainerFitWidth()),t},i._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},i.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!=this.containerWidth},e}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).PerfectScrollbar=e()}(this,function(){"use strict";function m(t){return getComputedStyle(t)}function c(t,e){for(var i in e){var s=e[i];"number"==typeof s&&(s+="px"),t.style[i]=s}return t}function d(t){var e=document.createElement("div");return e.className=t,e}var i="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function r(t,e){if(!i)throw new Error("No element matching method supported");return i.call(t,e)}function o(t){t.remove?t.remove():t.parentNode&&t.parentNode.removeChild(t)}function n(t,e){return Array.prototype.filter.call(t.children,function(t){return r(t,e)})}var _={main:"ps",rtl:"ps__rtl",element:{thumb:function(t){return"ps__thumb-"+t},rail:function(t){return"ps__rail-"+t},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(t){return"ps--active-"+t},scrolling:function(t){return"ps--scrolling-"+t}}},a={x:null,y:null};function y(t,e){var i=t.element.classList,s=_.state.scrolling(e);i.contains(s)?clearTimeout(a[e]):i.add(s)}function b(t,e){a[e]=setTimeout(function(){return t.isAlive&&t.element.classList.remove(_.state.scrolling(e))},t.settings.scrollingThreshold)}function s(t){this.element=t,this.handlers={}}var t={isEmpty:{configurable:!0}};s.prototype.bind=function(t,e){void 0===this.handlers[t]&&(this.handlers[t]=[]),this.handlers[t].push(e),this.element.addEventListener(t,e,!1)},s.prototype.unbind=function(e,i){var s=this;this.handlers[e]=this.handlers[e].filter(function(t){return!(!i||t===i)||(s.element.removeEventListener(e,t,!1),!1)})},s.prototype.unbindAll=function(){for(var t in this.handlers)this.unbind(t)},t.isEmpty.get=function(){var e=this;return Object.keys(this.handlers).every(function(t){return 0===e.handlers[t].length})},Object.defineProperties(s.prototype,t);function u(){this.eventElements=[]}function p(t){if("function"==typeof window.CustomEvent)return new CustomEvent(t);var e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,void 0),e}function e(t,e,i,s,o){var n;if(void 0===s&&(s=!0),void 0===o&&(o=!1),"top"===e)n=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==e)throw new Error("A proper axis should be provided");n=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(t,e,i,s,o){var n=i[0],r=i[1],a=i[2],l=i[3],h=i[4],c=i[5];void 0===s&&(s=!0);void 0===o&&(o=!1);var d=t.element;t.reach[l]=null,d[a]<1&&(t.reach[l]="start");d[a]>t[n]-t[r]-1&&(t.reach[l]="end");e&&(d.dispatchEvent(p("ps-scroll-"+l)),e<0?d.dispatchEvent(p("ps-scroll-"+h)):0<e&&d.dispatchEvent(p("ps-scroll-"+c)),s&&function(t,e){y(t,e),b(t,e)}(t,l));t.reach[l]&&(e||o)&&d.dispatchEvent(p("ps-"+l+"-reach-"+t.reach[l]))}(t,i,n,s,o)}function f(t){return parseInt(t,10)||0}u.prototype.eventElement=function(e){var t=this.eventElements.filter(function(t){return t.element===e})[0];return t||(t=new s(e),this.eventElements.push(t)),t},u.prototype.bind=function(t,e,i){this.eventElement(t).bind(e,i)},u.prototype.unbind=function(t,e,i){var s=this.eventElement(t);s.unbind(e,i),s.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(s),1)},u.prototype.unbindAll=function(){this.eventElements.forEach(function(t){return t.unbindAll()}),this.eventElements=[]},u.prototype.once=function(t,e,i){var s=this.eventElement(t),o=function(t){s.unbind(e,o),i(t)};s.bind(e,o)};var g={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&0<window.navigator.maxTouchPoints||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)};function w(t){var e=t.element,i=Math.floor(e.scrollTop),s=e.getBoundingClientRect();t.containerWidth=Math.ceil(s.width),t.containerHeight=Math.ceil(s.height),t.contentWidth=e.scrollWidth,t.contentHeight=e.scrollHeight,e.contains(t.scrollbarXRail)||(n(e,_.element.rail("x")).forEach(function(t){return o(t)}),e.appendChild(t.scrollbarXRail)),e.contains(t.scrollbarYRail)||(n(e,_.element.rail("y")).forEach(function(t){return o(t)}),e.appendChild(t.scrollbarYRail)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=l(t,f(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=f((t.negativeScrollAdjustment+e.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=l(t,f(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=f(i*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),function(t,e){var i={width:e.railXWidth},s=Math.floor(t.scrollTop);e.isRtl?i.left=e.negativeScrollAdjustment+t.scrollLeft+e.containerWidth-e.contentWidth:i.left=t.scrollLeft;e.isScrollbarXUsingBottom?i.bottom=e.scrollbarXBottom-s:i.top=e.scrollbarXTop+s;c(e.scrollbarXRail,i);var o={top:s,height:e.railYHeight};e.isScrollbarYUsingRight?e.isRtl?o.right=e.contentWidth-(e.negativeScrollAdjustment+t.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth-9:o.right=e.scrollbarYRight-t.scrollLeft:e.isRtl?o.left=e.negativeScrollAdjustment+t.scrollLeft+2*e.containerWidth-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth:o.left=e.scrollbarYLeft+t.scrollLeft;c(e.scrollbarYRail,o),c(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth}),c(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}(e,t),t.scrollbarXActive?e.classList.add(_.state.active("x")):(e.classList.remove(_.state.active("x")),t.scrollbarXWidth=0,t.scrollbarXLeft=0,e.scrollLeft=!0===t.isRtl?t.contentWidth:0),t.scrollbarYActive?e.classList.add(_.state.active("y")):(e.classList.remove(_.state.active("y")),t.scrollbarYHeight=0,t.scrollbarYTop=0,e.scrollTop=0)}function l(t,e){return t.settings.minScrollbarLength&&(e=Math.max(e,t.settings.minScrollbarLength)),t.settings.maxScrollbarLength&&(e=Math.min(e,t.settings.maxScrollbarLength)),e}function h(i,t){var s=t[0],o=t[1],n=t[2],r=t[3],e=t[4],a=t[5],l=t[6],h=t[7],c=t[8],d=i.element,u=null,p=null,f=null;function m(t){t.touches&&t.touches[0]&&(t[n]=t.touches[0].pageY),d[l]=u+f*(t[n]-p),y(i,h),w(i),t.stopPropagation(),t.preventDefault()}function g(){b(i,h),i[c].classList.remove(_.state.clicking),i.event.unbind(i.ownerDocument,"mousemove",m)}function v(t,e){u=d[l],e&&t.touches&&(t[n]=t.touches[0].pageY),p=t[n],f=(i[o]-i[s])/(i[r]-i[a]),e?i.event.bind(i.ownerDocument,"touchmove",m):(i.event.bind(i.ownerDocument,"mousemove",m),i.event.once(i.ownerDocument,"mouseup",g),t.preventDefault()),i[c].classList.add(_.state.clicking),t.stopPropagation()}i.event.bind(i[e],"mousedown",function(t){v(t)}),i.event.bind(i[e],"touchstart",function(t){v(t,!0)})}function v(t,e){var i,s,o=this;if(void 0===e&&(e={}),"string"==typeof t&&(t=document.querySelector(t)),!t||!t.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var n in(this.element=t).classList.add(_.main),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},e)this.settings[n]=e[n];function r(){return t.classList.add(_.state.focus)}function a(){return t.classList.remove(_.state.focus)}this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null,this.isRtl="rtl"===m(t).direction,!0===this.isRtl&&t.classList.add(_.rtl),this.isNegativeScroll=(s=t.scrollLeft,t.scrollLeft=-1,i=t.scrollLeft<0,t.scrollLeft=s,i),this.negativeScrollAdjustment=this.isNegativeScroll?t.scrollWidth-t.clientWidth:0,this.event=new u,this.ownerDocument=t.ownerDocument||document,this.scrollbarXRail=d(_.element.rail("x")),t.appendChild(this.scrollbarXRail),this.scrollbarX=d(_.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",r),this.event.bind(this.scrollbarX,"blur",a),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var l=m(this.scrollbarXRail);this.scrollbarXBottom=parseInt(l.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=f(l.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=f(l.borderLeftWidth)+f(l.borderRightWidth),c(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=f(l.marginLeft)+f(l.marginRight),c(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=d(_.element.rail("y")),t.appendChild(this.scrollbarYRail),this.scrollbarY=d(_.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",r),this.event.bind(this.scrollbarY,"blur",a),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var h=m(this.scrollbarYRail);this.scrollbarYRight=parseInt(h.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=f(h.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function(t){var e=m(t);return f(e.width)+f(e.paddingLeft)+f(e.paddingRight)+f(e.borderLeftWidth)+f(e.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=f(h.borderTopWidth)+f(h.borderBottomWidth),c(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=f(h.marginTop)+f(h.marginBottom),c(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:t.scrollLeft<=0?"start":t.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:t.scrollTop<=0?"start":t.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(t){return x[t](o)}),this.lastScrollTop=Math.floor(t.scrollTop),this.lastScrollLeft=t.scrollLeft,this.event.bind(this.element,"scroll",function(t){return o.onScroll(t)}),w(this)}var x={"click-rail":function(i){i.element,i.event.bind(i.scrollbarY,"mousedown",function(t){return t.stopPropagation()}),i.event.bind(i.scrollbarYRail,"mousedown",function(t){var e=t.pageY-window.pageYOffset-i.scrollbarYRail.getBoundingClientRect().top>i.scrollbarYTop?1:-1;i.element.scrollTop+=e*i.containerHeight,w(i),t.stopPropagation()}),i.event.bind(i.scrollbarX,"mousedown",function(t){return t.stopPropagation()}),i.event.bind(i.scrollbarXRail,"mousedown",function(t){var e=t.pageX-window.pageXOffset-i.scrollbarXRail.getBoundingClientRect().left>i.scrollbarXLeft?1:-1;i.element.scrollLeft+=e*i.containerWidth,w(i),t.stopPropagation()})},"drag-thumb":function(t){h(t,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),h(t,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(o){var n=o.element;o.event.bind(o.ownerDocument,"keydown",function(t){if(!(t.isDefaultPrevented&&t.isDefaultPrevented()||t.defaultPrevented)&&(r(n,":hover")||r(o.scrollbarX,":focus")||r(o.scrollbarY,":focus"))){var e=document.activeElement?document.activeElement:o.ownerDocument.activeElement;if(e){if("IFRAME"===e.tagName)e=e.contentDocument.activeElement;else for(;e.shadowRoot;)e=e.shadowRoot.activeElement;if(function(t){return r(t,"input,[contenteditable]")||r(t,"select,[contenteditable]")||r(t,"textarea,[contenteditable]")||r(t,"button,[contenteditable]")}(e))return}var i=0,s=0;switch(t.which){case 37:i=t.metaKey?-o.contentWidth:t.altKey?-o.containerWidth:-30;break;case 38:s=t.metaKey?o.contentHeight:t.altKey?o.containerHeight:30;break;case 39:i=t.metaKey?o.contentWidth:t.altKey?o.containerWidth:30;break;case 40:s=t.metaKey?-o.contentHeight:t.altKey?-o.containerHeight:-30;break;case 32:s=t.shiftKey?o.containerHeight:-o.containerHeight;break;case 33:s=o.containerHeight;break;case 34:s=-o.containerHeight;break;case 36:s=o.contentHeight;break;case 35:s=-o.contentHeight;break;default:return}o.settings.suppressScrollX&&0!==i||o.settings.suppressScrollY&&0!==s||(n.scrollTop-=s,n.scrollLeft+=i,w(o),function(t,e){var i=Math.floor(n.scrollTop);if(0===t){if(!o.scrollbarYActive)return!1;if(0===i&&0<e||i>=o.contentHeight-o.containerHeight&&e<0)return!o.settings.wheelPropagation}var s=n.scrollLeft;if(0===e){if(!o.scrollbarXActive)return!1;if(0===s&&t<0||s>=o.contentWidth-o.containerWidth&&0<t)return!o.settings.wheelPropagation}return!0}(i,s)&&t.preventDefault())}})},wheel:function(a){var l=a.element;function t(t){var e=function(t){var e=t.deltaX,i=-1*t.deltaY;return void 0!==e&&void 0!==i||(e=-1*t.wheelDeltaX/6,i=t.wheelDeltaY/6),t.deltaMode&&1===t.deltaMode&&(e*=10,i*=10),e!=e&&i!=i&&(e=0,i=t.wheelDelta),t.shiftKey?[-i,-e]:[e,i]}(t),i=e[0],s=e[1];if(!function(t,e,i){if(!g.isWebKit&&l.querySelector("select:focus"))return!0;if(!l.contains(t))return!1;for(var s=t;s&&s!==l;){if(s.classList.contains(_.element.consuming))return!0;var o=m(s);if(i&&o.overflowY.match(/(scroll|auto)/)){var n=s.scrollHeight-s.clientHeight;if(0<n&&(0<s.scrollTop&&i<0||s.scrollTop<n&&0<i))return!0}if(e&&o.overflowX.match(/(scroll|auto)/)){var r=s.scrollWidth-s.clientWidth;if(0<r&&(0<s.scrollLeft&&e<0||s.scrollLeft<r&&0<e))return!0}s=s.parentNode}return!1}(t.target,i,s)){var o=!1;a.settings.useBothWheelAxes?a.scrollbarYActive&&!a.scrollbarXActive?(s?l.scrollTop-=s*a.settings.wheelSpeed:l.scrollTop+=i*a.settings.wheelSpeed,o=!0):a.scrollbarXActive&&!a.scrollbarYActive&&(i?l.scrollLeft+=i*a.settings.wheelSpeed:l.scrollLeft-=s*a.settings.wheelSpeed,o=!0):(l.scrollTop-=s*a.settings.wheelSpeed,l.scrollLeft+=i*a.settings.wheelSpeed),w(a),(o=o||function(t,e){var i=Math.floor(l.scrollTop),s=0===l.scrollTop,o=i+l.offsetHeight===l.scrollHeight,n=0===l.scrollLeft,r=l.scrollLeft+l.offsetWidth===l.scrollWidth;return!(Math.abs(e)>Math.abs(t)?s||o:n||r)||!a.settings.wheelPropagation}(i,s))&&!t.ctrlKey&&(t.stopPropagation(),t.preventDefault())}}void 0!==window.onwheel?a.event.bind(l,"wheel",t):void 0!==window.onmousewheel&&a.event.bind(l,"mousewheel",t)},touch:function(a){if(g.supportsTouch||g.supportsIePointer){var l=a.element,h={},c=0,d={},i=null;g.supportsTouch?(a.event.bind(l,"touchstart",t),a.event.bind(l,"touchmove",e),a.event.bind(l,"touchend",s)):g.supportsIePointer&&(window.PointerEvent?(a.event.bind(l,"pointerdown",t),a.event.bind(l,"pointermove",e),a.event.bind(l,"pointerup",s)):window.MSPointerEvent&&(a.event.bind(l,"MSPointerDown",t),a.event.bind(l,"MSPointerMove",e),a.event.bind(l,"MSPointerUp",s)))}function u(t,e){l.scrollTop-=e,l.scrollLeft-=t,w(a)}function p(t){return t.targetTouches?t.targetTouches[0]:t}function f(t){return(!t.pointerType||"pen"!==t.pointerType||0!==t.buttons)&&(!(!t.targetTouches||1!==t.targetTouches.length)||!(!t.pointerType||"mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE))}function t(t){if(f(t)){var e=p(t);h.pageX=e.pageX,h.pageY=e.pageY,c=(new Date).getTime(),null!==i&&clearInterval(i)}}function e(t){if(f(t)){var e=p(t),i={pageX:e.pageX,pageY:e.pageY},s=i.pageX-h.pageX,o=i.pageY-h.pageY;if(function(t,e,i){if(!l.contains(t))return!1;for(var s=t;s&&s!==l;){if(s.classList.contains(_.element.consuming))return!0;var o=m(s);if(i&&o.overflowY.match(/(scroll|auto)/)){var n=s.scrollHeight-s.clientHeight;if(0<n&&(0<s.scrollTop&&i<0||s.scrollTop<n&&0<i))return!0}if(e&&o.overflowX.match(/(scroll|auto)/)){var r=s.scrollWidth-s.clientWidth;if(0<r&&(0<s.scrollLeft&&e<0||s.scrollLeft<r&&0<e))return!0}s=s.parentNode}return!1}(t.target,s,o))return;u(s,o),h=i;var n=(new Date).getTime(),r=n-c;0<r&&(d.x=s/r,d.y=o/r,c=n),function(t,e){var i=Math.floor(l.scrollTop),s=l.scrollLeft,o=Math.abs(t),n=Math.abs(e);if(o<n){if(e<0&&i===a.contentHeight-a.containerHeight||0<e&&0===i)return 0===window.scrollY&&0<e&&g.isChrome}else if(n<o&&(t<0&&s===a.contentWidth-a.containerWidth||0<t&&0===s))return!0;return!0}(s,o)&&t.preventDefault()}}function s(){a.settings.swipeEasing&&(clearInterval(i),i=setInterval(function(){a.isInitialized?clearInterval(i):d.x||d.y?Math.abs(d.x)<.01&&Math.abs(d.y)<.01?clearInterval(i):(u(30*d.x,30*d.y),d.x*=.8,d.y*=.8):clearInterval(i)},10))}}};return v.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,c(this.scrollbarXRail,{display:"block"}),c(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=f(m(this.scrollbarXRail).marginLeft)+f(m(this.scrollbarXRail).marginRight),this.railYMarginHeight=f(m(this.scrollbarYRail).marginTop)+f(m(this.scrollbarYRail).marginBottom),c(this.scrollbarXRail,{display:"none"}),c(this.scrollbarYRail,{display:"none"}),w(this),e(this,"top",0,!1,!0),e(this,"left",0,!1,!0),c(this.scrollbarXRail,{display:""}),c(this.scrollbarYRail,{display:""}))},v.prototype.onScroll=function(t){this.isAlive&&(w(this),e(this,"top",this.element.scrollTop-this.lastScrollTop),e(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},v.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),o(this.scrollbarX),o(this.scrollbarY),o(this.scrollbarXRail),o(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},v.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(t){return!t.match(/^ps([-_].+|)$/)}).join(" ")},v}),window.lazySizesConfig=window.lazySizesConfig||{},window.lazySizesConfig.lazyClass="lazy-load",$(document).ready(function(){$("#search-tabs").tabLoader(),$(".collapsible").collapsible(),$("a.lightboxable").on("click",function(t){t.preventDefault();var e=$(this).attr("href");$("body").append('<img src="'+e+'" id="lightboxed-image">'),$("#lightboxed-image").lightbox_me({centered:!0,overlayCSS:{background:"black",opacity:.7},destroyOnClose:!0,closeSelector:"#lightboxed-image"})}),$("select.chosen").chosen({disable_search_threshold:10,width:"100%"}),$(window).scroll(function(){300<=$(window).scrollTop()&&$(window).width()<=650?$("#mobile-optimize #mobile-top-menu").fadeIn():$("#mobile-optimize #mobile-top-menu").css("display","none")}),$(".openTabbedSection").on("click",function(){var t=$(this).data("opensection");$(".tabbedSection").hide(),$("#"+t).show()}),$(".header-menu-2022 .header-menu-more").on("click",function(){$(".header-menu-2022").addClass("show")})}),jQuery.extend({getQueryParameters:function(t){return(t||document.location.search).replace(/(^\?)/,"").split("&").map(function(t){return this[(t=t.split("="))[0]]=t[1],this}.bind({}))[0]}}),$(document).ready(function(){$("#show-picture .tupianrongqi").slick({infinite:!0,slidesToShow:1,slidesToScroll:1,prevArrow:"#show-picture .galleries.left",nextArrow:"#show-picture .galleries.right",arrows:!0,speed:800,slide:".img",dots:!0}),$("#show-picture .tupianrongqi").on("init",function(){$("#show-picture .dangqianye").html("1")}),$("#show-picture .tupianrongqi").on("afterChange",function(t,e,i){$("#show-picture .dangqianye").html($("#show-picture .slick-dots .slick-active").text()),console.log(i)}),$("body").on("keydown",function(t){switch(t.keyCode){case 37:$("#show-picture .galleries.left").trigger("click");break;case 39:$("#show-picture .galleries.right").trigger("click")}})}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(h){"use strict";var o,n=window.Slick||{};(o=0,n=function(t,e){var i,s=this;s.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:h(t),appendDots:h(t),arrows:!0,asNavFor:null,prevArrow:'<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(t,e){return h('<button type="button" />').text(e+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,focusOnChange:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},s.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:!1,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,swiping:!1,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},h.extend(s,s.initials),s.activeBreakpoint=null,s.animType=null,s.animProp=null,s.breakpoints=[],s.breakpointSettings=[],s.cssTransitions=!1,s.focussed=!1,s.interrupted=!1,s.hidden="hidden",s.paused=!0,s.positionProp=null,s.respondTo=null,s.rowCount=1,s.shouldClick=!0,s.$slider=h(t),s.$slidesCache=null,s.transformType=null,s.transitionType=null,s.visibilityChange="visibilitychange",s.windowWidth=0,s.windowTimer=null,i=h(t).data("slick")||{},s.options=h.extend({},s.defaults,e,i),s.currentSlide=s.options.initialSlide,s.originalSettings=s.options,void 0!==document.mozHidden?(s.hidden="mozHidden",s.visibilityChange="mozvisibilitychange"):void 0!==document.webkitHidden&&(s.hidden="webkitHidden",s.visibilityChange="webkitvisibilitychange"),s.autoPlay=h.proxy(s.autoPlay,s),s.autoPlayClear=h.proxy(s.autoPlayClear,s),s.autoPlayIterator=h.proxy(s.autoPlayIterator,s),s.changeSlide=h.proxy(s.changeSlide,s),s.clickHandler=h.proxy(s.clickHandler,s),s.selectHandler=h.proxy(s.selectHandler,s),s.setPosition=h.proxy(s.setPosition,s),s.swipeHandler=h.proxy(s.swipeHandler,s),s.dragHandler=h.proxy(s.dragHandler,s),s.keyHandler=h.proxy(s.keyHandler,s),s.instanceUid=o++,s.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,s.registerBreakpoints(),s.init(!0)}).prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},n.prototype.addSlide=n.prototype.slickAdd=function(t,e,i){var s=this;if("boolean"==typeof e)i=e,e=null;else if(e<0||e>=s.slideCount)return!1;s.unload(),"number"==typeof e?0===e&&0===s.$slides.length?h(t).appendTo(s.$slideTrack):i?h(t).insertBefore(s.$slides.eq(e)):h(t).insertAfter(s.$slides.eq(e)):!0===i?h(t).prependTo(s.$slideTrack):h(t).appendTo(s.$slideTrack),s.$slides=s.$slideTrack.children(this.options.slide),s.$slideTrack.children(this.options.slide).detach(),s.$slideTrack.append(s.$slides),s.$slides.each(function(t,e){h(e).attr("data-slick-index",t)}),s.$slidesCache=s.$slides,s.reinit()},n.prototype.animateHeight=function(){var t=this;if(1===t.options.slidesToShow&&!0===t.options.adaptiveHeight&&!1===t.options.vertical){var e=t.$slides.eq(t.currentSlide).outerHeight(!0);t.$list.animate({height:e},t.options.speed)}},n.prototype.animateSlide=function(t,e){var i={},s=this;s.animateHeight(),!0===s.options.rtl&&!1===s.options.vertical&&(t=-t),!1===s.transformsEnabled?!1===s.options.vertical?s.$slideTrack.animate({left:t},s.options.speed,s.options.easing,e):s.$slideTrack.animate({top:t},s.options.speed,s.options.easing,e):!1===s.cssTransitions?(!0===s.options.rtl&&(s.currentLeft=-s.currentLeft),h({animStart:s.currentLeft}).animate({animStart:t},{duration:s.options.speed,easing:s.options.easing,step:function(t){t=Math.ceil(t),!1===s.options.vertical?i[s.animType]="translate("+t+"px, 0px)":i[s.animType]="translate(0px,"+t+"px)",s.$slideTrack.css(i)},complete:function(){e&&e.call()}})):(s.applyTransition(),t=Math.ceil(t),!1===s.options.vertical?i[s.animType]="translate3d("+t+"px, 0px, 0px)":i[s.animType]="translate3d(0px,"+t+"px, 0px)",s.$slideTrack.css(i),e&&setTimeout(function(){s.disableTransition(),e.call()},s.options.speed))},n.prototype.getNavTarget=function(){var t=this.options.asNavFor;return t&&null!==t&&(t=h(t).not(this.$slider)),t},n.prototype.asNavFor=function(e){var t=this.getNavTarget();null!==t&&"object"==typeof t&&t.each(function(){var t=h(this).slick("getSlick");t.unslicked||t.slideHandler(e,!0)})},n.prototype.applyTransition=function(t){var e=this,i={};!1===e.options.fade?i[e.transitionType]=e.transformType+" "+e.options.speed+"ms "+e.options.cssEase:i[e.transitionType]="opacity "+e.options.speed+"ms "+e.options.cssEase,!1===e.options.fade?e.$slideTrack.css(i):e.$slides.eq(t).css(i)},n.prototype.autoPlay=function(){var t=this;t.autoPlayClear(),t.slideCount>t.options.slidesToShow&&(t.autoPlayTimer=setInterval(t.autoPlayIterator,t.options.autoplaySpeed))},n.prototype.autoPlayClear=function(){this.autoPlayTimer&&clearInterval(this.autoPlayTimer)},n.prototype.autoPlayIterator=function(){var t=this,e=t.currentSlide+t.options.slidesToScroll;t.paused||t.interrupted||t.focussed||(!1===t.options.infinite&&(1===t.direction&&t.currentSlide+1===t.slideCount-1?t.direction=0:0===t.direction&&(e=t.currentSlide-t.options.slidesToScroll,t.currentSlide-1==0&&(t.direction=1))),t.slideHandler(e))},n.prototype.buildArrows=function(){var t=this;!0===t.options.arrows&&(t.$prevArrow=h(t.options.prevArrow).addClass("slick-arrow"),t.$nextArrow=h(t.options.nextArrow).addClass("slick-arrow"),t.slideCount>t.options.slidesToShow?(t.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.prependTo(t.options.appendArrows),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.appendTo(t.options.appendArrows),!0!==t.options.infinite&&t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):t.$prevArrow.add(t.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},n.prototype.buildDots=function(){var t,e,i=this;if(!0===i.options.dots){for(i.$slider.addClass("slick-dotted"),e=h("<ul />").addClass(i.options.dotsClass),t=0;t<=i.getDotCount();t+=1)e.append(h("<li />").append(i.options.customPaging.call(this,i,t)));i.$dots=e.appendTo(i.options.appendDots),i.$dots.find("li").first().addClass("slick-active")}},n.prototype.buildOut=function(){var t=this;t.$slides=t.$slider.children(t.options.slide+":not(.slick-cloned)").addClass("slick-slide"),t.slideCount=t.$slides.length,t.$slides.each(function(t,e){h(e).attr("data-slick-index",t).data("originalStyling",h(e).attr("style")||"")}),t.$slider.addClass("slick-slider"),t.$slideTrack=0===t.slideCount?h('<div class="slick-track"/>').appendTo(t.$slider):t.$slides.wrapAll('<div class="slick-track"/>').parent(),t.$list=t.$slideTrack.wrap('<div class="slick-list"/>').parent(),t.$slideTrack.css("opacity",0),!0!==t.options.centerMode&&!0!==t.options.swipeToSlide||(t.options.slidesToScroll=1),h("img[data-lazy]",t.$slider).not("[src]").addClass("slick-loading"),t.setupInfinite(),t.buildArrows(),t.buildDots(),t.updateDots(),t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0),!0===t.options.draggable&&t.$list.addClass("draggable")},n.prototype.buildRows=function(){var t,e,i,s,o,n,r,a=this;if(s=document.createDocumentFragment(),n=a.$slider.children(),1<a.options.rows){for(r=a.options.slidesPerRow*a.options.rows,o=Math.ceil(n.length/r),t=0;t<o;t++){var l=document.createElement("div");for(e=0;e<a.options.rows;e++){var h=document.createElement("div");for(i=0;i<a.options.slidesPerRow;i++){var c=t*r+(e*a.options.slidesPerRow+i);n.get(c)&&h.appendChild(n.get(c))}l.appendChild(h)}s.appendChild(l)}a.$slider.empty().append(s),a.$slider.children().children().children().css({width:100/a.options.slidesPerRow+"%",display:"inline-block"})}},n.prototype.checkResponsive=function(t,e){var i,s,o,n=this,r=!1,a=n.$slider.width(),l=window.innerWidth||h(window).width();if("window"===n.respondTo?o=l:"slider"===n.respondTo?o=a:"min"===n.respondTo&&(o=Math.min(l,a)),n.options.responsive&&n.options.responsive.length&&null!==n.options.responsive){for(i in s=null,n.breakpoints)n.breakpoints.hasOwnProperty(i)&&(!1===n.originalSettings.mobileFirst?o<n.breakpoints[i]&&(s=n.breakpoints[i]):o>n.breakpoints[i]&&(s=n.breakpoints[i]));null!==s?null!==n.activeBreakpoint?s===n.activeBreakpoint&&!e||(n.activeBreakpoint=s,"unslick"===n.breakpointSettings[s]?n.unslick(s):(n.options=h.extend({},n.originalSettings,n.breakpointSettings[s]),!0===t&&(n.currentSlide=n.options.initialSlide),n.refresh(t)),r=s):(n.activeBreakpoint=s,"unslick"===n.breakpointSettings[s]?n.unslick(s):(n.options=h.extend({},n.originalSettings,n.breakpointSettings[s]),!0===t&&(n.currentSlide=n.options.initialSlide),n.refresh(t)),r=s):null!==n.activeBreakpoint&&(n.activeBreakpoint=null,n.options=n.originalSettings,!0===t&&(n.currentSlide=n.options.initialSlide),n.refresh(t),r=s),t||!1===r||n.$slider.trigger("breakpoint",[n,r])}},n.prototype.changeSlide=function(t,e){var i,s,o=this,n=h(t.currentTarget);switch(n.is("a")&&t.preventDefault(),n.is("li")||(n=n.closest("li")),i=o.slideCount%o.options.slidesToScroll!=0?0:(o.slideCount-o.currentSlide)%o.options.slidesToScroll,t.data.message){case"previous":s=0==i?o.options.slidesToScroll:o.options.slidesToShow-i,o.slideCount>o.options.slidesToShow&&o.slideHandler(o.currentSlide-s,!1,e);break;case"next":s=0==i?o.options.slidesToScroll:i,o.slideCount>o.options.slidesToShow&&o.slideHandler(o.currentSlide+s,!1,e);break;case"index":var r=0===t.data.index?0:t.data.index||n.index()*o.options.slidesToScroll;o.slideHandler(o.checkNavigable(r),!1,e),n.children().trigger("focus");break;default:return}},n.prototype.checkNavigable=function(t){var e,i;if(i=0,t>(e=this.getNavigableIndexes())[e.length-1])t=e[e.length-1];else for(var s in e){if(t<e[s]){t=i;break}i=e[s]}return t},n.prototype.cleanUpEvents=function(){var t=this;t.options.dots&&null!==t.$dots&&(h("li",t.$dots).off("click.slick",t.changeSlide).off("mouseenter.slick",h.proxy(t.interrupt,t,!0)).off("mouseleave.slick",h.proxy(t.interrupt,t,!1)),!0===t.options.accessibility&&t.$dots.off("keydown.slick",t.keyHandler)),t.$slider.off("focus.slick blur.slick"),!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow&&t.$prevArrow.off("click.slick",t.changeSlide),t.$nextArrow&&t.$nextArrow.off("click.slick",t.changeSlide),!0===t.options.accessibility&&(t.$prevArrow&&t.$prevArrow.off("keydown.slick",t.keyHandler),t.$nextArrow&&t.$nextArrow.off("keydown.slick",t.keyHandler))),t.$list.off("touchstart.slick mousedown.slick",t.swipeHandler),t.$list.off("touchmove.slick mousemove.slick",t.swipeHandler),t.$list.off("touchend.slick mouseup.slick",t.swipeHandler),t.$list.off("touchcancel.slick mouseleave.slick",t.swipeHandler),t.$list.off("click.slick",t.clickHandler),h(document).off(t.visibilityChange,t.visibility),t.cleanUpSlideEvents(),!0===t.options.accessibility&&t.$list.off("keydown.slick",t.keyHandler),!0===t.options.focusOnSelect&&h(t.$slideTrack).children().off("click.slick",t.selectHandler),h(window).off("orientationchange.slick.slick-"+t.instanceUid,t.orientationChange),h(window).off("resize.slick.slick-"+t.instanceUid,t.resize),h("[draggable!=true]",t.$slideTrack).off("dragstart",t.preventDefault),h(window).off("load.slick.slick-"+t.instanceUid,t.setPosition)},n.prototype.cleanUpSlideEvents=function(){var t=this;t.$list.off("mouseenter.slick",h.proxy(t.interrupt,t,!0)),t.$list.off("mouseleave.slick",h.proxy(t.interrupt,t,!1))},n.prototype.cleanUpRows=function(){var t;1<this.options.rows&&((t=this.$slides.children().children()).removeAttr("style"),this.$slider.empty().append(t))},n.prototype.clickHandler=function(t){!1===this.shouldClick&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault())},n.prototype.destroy=function(t){var e=this;e.autoPlayClear(),e.touchObject={},e.cleanUpEvents(),h(".slick-cloned",e.$slider).detach(),e.$dots&&e.$dots.remove(),e.$prevArrow&&e.$prevArrow.length&&(e.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.remove()),e.$nextArrow&&e.$nextArrow.length&&(e.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.remove()),e.$slides&&(e.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){h(this).attr("style",h(this).data("originalStyling"))}),e.$slideTrack.children(this.options.slide).detach(),e.$slideTrack.detach(),e.$list.detach(),e.$slider.append(e.$slides)),e.cleanUpRows(),e.$slider.removeClass("slick-slider"),e.$slider.removeClass("slick-initialized"),e.$slider.removeClass("slick-dotted"),e.unslicked=!0,t||e.$slider.trigger("destroy",[e])},n.prototype.disableTransition=function(t){var e={};e[this.transitionType]="",!1===this.options.fade?this.$slideTrack.css(e):this.$slides.eq(t).css(e)},n.prototype.fadeSlide=function(t,e){var i=this;!1===i.cssTransitions?(i.$slides.eq(t).css({zIndex:i.options.zIndex}),i.$slides.eq(t).animate({opacity:1},i.options.speed,i.options.easing,e)):(i.applyTransition(t),i.$slides.eq(t).css({opacity:1,zIndex:i.options.zIndex}),e&&setTimeout(function(){i.disableTransition(t),e.call()},i.options.speed))},n.prototype.fadeSlideOut=function(t){var e=this;!1===e.cssTransitions?e.$slides.eq(t).animate({opacity:0,zIndex:e.options.zIndex-2},e.options.speed,e.options.easing):(e.applyTransition(t),e.$slides.eq(t).css({opacity:0,zIndex:e.options.zIndex-2}))},n.prototype.filterSlides=n.prototype.slickFilter=function(t){var e=this;null!==t&&(e.$slidesCache=e.$slides,e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.filter(t).appendTo(e.$slideTrack),e.reinit())},n.prototype.focusHandler=function(){var i=this;i.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*",function(t){t.stopImmediatePropagation();var e=h(this);setTimeout(function(){i.options.pauseOnFocus&&(i.focussed=e.is(":focus"),i.autoPlay())},0)})},n.prototype.getCurrent=n.prototype.slickCurrentSlide=function(){return this.currentSlide},n.prototype.getDotCount=function(){var t=this,e=0,i=0,s=0;if(!0===t.options.infinite)if(t.slideCount<=t.options.slidesToShow)++s;else for(;e<t.slideCount;)++s,e=i+t.options.slidesToScroll,i+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;else if(!0===t.options.centerMode)s=t.slideCount;else if(t.options.asNavFor)for(;e<t.slideCount;)++s,e=i+t.options.slidesToScroll,i+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;else s=1+Math.ceil((t.slideCount-t.options.slidesToShow)/t.options.slidesToScroll);return s-1},n.prototype.getLeft=function(t){var e,i,s,o,n=this,r=0;return n.slideOffset=0,i=n.$slides.first().outerHeight(!0),!0===n.options.infinite?(n.slideCount>n.options.slidesToShow&&(n.slideOffset=n.slideWidth*n.options.slidesToShow*-1,o=-1,!0===n.options.vertical&&!0===n.options.centerMode&&(2===n.options.slidesToShow?o=-1.5:1===n.options.slidesToShow&&(o=-2)),r=i*n.options.slidesToShow*o),n.slideCount%n.options.slidesToScroll!=0&&t+n.options.slidesToScroll>n.slideCount&&n.slideCount>n.options.slidesToShow&&(r=t>n.slideCount?(n.slideOffset=(n.options.slidesToShow-(t-n.slideCount))*n.slideWidth*-1,(n.options.slidesToShow-(t-n.slideCount))*i*-1):(n.slideOffset=n.slideCount%n.options.slidesToScroll*n.slideWidth*-1,n.slideCount%n.options.slidesToScroll*i*-1))):t+n.options.slidesToShow>n.slideCount&&(n.slideOffset=(t+n.options.slidesToShow-n.slideCount)*n.slideWidth,r=(t+n.options.slidesToShow-n.slideCount)*i),n.slideCount<=n.options.slidesToShow&&(r=n.slideOffset=0),!0===n.options.centerMode&&n.slideCount<=n.options.slidesToShow?n.slideOffset=n.slideWidth*Math.floor(n.options.slidesToShow)/2-n.slideWidth*n.slideCount/2:!0===n.options.centerMode&&!0===n.options.infinite?n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)-n.slideWidth:!0===n.options.centerMode&&(n.slideOffset=0,n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)),e=!1===n.options.vertical?t*n.slideWidth*-1+n.slideOffset:t*i*-1+r,!0===n.options.variableWidth&&(s=n.slideCount<=n.options.slidesToShow||!1===n.options.infinite?n.$slideTrack.children(".slick-slide").eq(t):n.$slideTrack.children(".slick-slide").eq(t+n.options.slidesToShow),e=!0===n.options.rtl?s[0]?-1*(n.$slideTrack.width()-s[0].offsetLeft-s.width()):0:s[0]?-1*s[0].offsetLeft:0,!0===n.options.centerMode&&(s=n.slideCount<=n.options.slidesToShow||!1===n.options.infinite?n.$slideTrack.children(".slick-slide").eq(t):n.$slideTrack.children(".slick-slide").eq(t+n.options.slidesToShow+1),e=!0===n.options.rtl?s[0]?-1*(n.$slideTrack.width()-s[0].offsetLeft-s.width()):0:s[0]?-1*s[0].offsetLeft:0,e+=(n.$list.width()-s.outerWidth())/2)),e},n.prototype.getOption=n.prototype.slickGetOption=function(t){return this.options[t]},n.prototype.getNavigableIndexes=function(){var t,e=this,i=0,s=0,o=[];for(t=!1===e.options.infinite?e.slideCount:(i=-1*e.options.slidesToScroll,s=-1*e.options.slidesToScroll,2*e.slideCount);i<t;)o.push(i),i=s+e.options.slidesToScroll,s+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return o},n.prototype.getSlick=function(){return this},n.prototype.getSlideCount=function(){var i,s,o=this;return s=!0===o.options.centerMode?o.slideWidth*Math.floor(o.options.slidesToShow/2):0,!0===o.options.swipeToSlide?(o.$slideTrack.find(".slick-slide").each(function(t,e){if(e.offsetLeft-s+h(e).outerWidth()/2>-1*o.swipeLeft)return i=e,!1}),Math.abs(h(i).attr("data-slick-index")-o.currentSlide)||1):o.options.slidesToScroll},n.prototype.goTo=n.prototype.slickGoTo=function(t,e){this.changeSlide({data:{message:"index",index:parseInt(t)}},e)},n.prototype.init=function(t){var e=this;h(e.$slider).hasClass("slick-initialized")||(h(e.$slider).addClass("slick-initialized"),e.buildRows(),e.buildOut(),e.setProps(),e.startLoad(),e.loadSlider(),e.initializeEvents(),e.updateArrows(),e.updateDots(),e.checkResponsive(!0),e.focusHandler()),t&&e.$slider.trigger("init",[e]),!0===e.options.accessibility&&e.initADA(),e.options.autoplay&&(e.paused=!1,e.autoPlay())},n.prototype.initADA=function(){var i=this,s=Math.ceil(i.slideCount/i.options.slidesToShow),o=i.getNavigableIndexes().filter(function(t){return 0<=t&&t<i.slideCount});i.$slides.add(i.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),null!==i.$dots&&(i.$slides.not(i.$slideTrack.find(".slick-cloned")).each(function(t){var e=o.indexOf(t);h(this).attr({role:"tabpanel",id:"slick-slide"+i.instanceUid+t,tabindex:-1}),-1!==e&&h(this).attr({"aria-describedby":"slick-slide-control"+i.instanceUid+e})}),i.$dots.attr("role","tablist").find("li").each(function(t){var e=o[t];h(this).attr({role:"presentation"}),h(this).find("button").first().attr({role:"tab",id:"slick-slide-control"+i.instanceUid+t,"aria-controls":"slick-slide"+i.instanceUid+e,"aria-label":t+1+" of "+s,"aria-selected":null,tabindex:"-1"})}).eq(i.currentSlide).find("button").attr({"aria-selected":"true",tabindex:"0"}).end());for(var t=i.currentSlide,e=t+i.options.slidesToShow;t<e;t++)i.$slides.eq(t).attr("tabindex",0);i.activateADA()},n.prototype.initArrowEvents=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},t.changeSlide),t.$nextArrow.off("click.slick").on("click.slick",{message:"next"},t.changeSlide),!0===t.options.accessibility&&(t.$prevArrow.on("keydown.slick",t.keyHandler),t.$nextArrow.on("keydown.slick",t.keyHandler)))},n.prototype.initDotEvents=function(){var t=this;!0===t.options.dots&&(h("li",t.$dots).on("click.slick",{message:"index"},t.changeSlide),!0===t.options.accessibility&&t.$dots.on("keydown.slick",t.keyHandler)),!0===t.options.dots&&!0===t.options.pauseOnDotsHover&&h("li",t.$dots).on("mouseenter.slick",h.proxy(t.interrupt,t,!0)).on("mouseleave.slick",h.proxy(t.interrupt,t,!1))},n.prototype.initSlideEvents=function(){this.options.pauseOnHover&&(this.$list.on("mouseenter.slick",h.proxy(this.interrupt,this,!0)),this.$list.on("mouseleave.slick",h.proxy(this.interrupt,this,!1)))},n.prototype.initializeEvents=function(){var t=this;t.initArrowEvents(),t.initDotEvents(),t.initSlideEvents(),t.$list.on("touchstart.slick mousedown.slick",{action:"start"},t.swipeHandler),t.$list.on("touchmove.slick mousemove.slick",{action:"move"},t.swipeHandler),t.$list.on("touchend.slick mouseup.slick",{action:"end"},t.swipeHandler),t.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},t.swipeHandler),t.$list.on("click.slick",t.clickHandler),h(document).on(t.visibilityChange,h.proxy(t.visibility,t)),!0===t.options.accessibility&&t.$list.on("keydown.slick",t.keyHandler),!0===t.options.focusOnSelect&&h(t.$slideTrack).children().on("click.slick",t.selectHandler),h(window).on("orientationchange.slick.slick-"+t.instanceUid,h.proxy(t.orientationChange,t)),h(window).on("resize.slick.slick-"+t.instanceUid,h.proxy(t.resize,t)),h("[draggable!=true]",t.$slideTrack).on("dragstart",t.preventDefault),h(window).on("load.slick.slick-"+t.instanceUid,t.setPosition),h(t.setPosition)},n.prototype.initUI=function(){!0===this.options.arrows&&this.slideCount>this.options.slidesToShow&&(this.$prevArrow.show(),this.$nextArrow.show()),!0===this.options.dots&&this.slideCount>this.options.slidesToShow&&this.$dots.show()},n.prototype.keyHandler=function(t){t.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===t.keyCode&&!0===this.options.accessibility?this.changeSlide({data:{message:!0===this.options.rtl?"next":"previous"}}):39===t.keyCode&&!0===this.options.accessibility&&this.changeSlide({data:{message:!0===this.options.rtl?"previous":"next"}}))},n.prototype.lazyLoad=function(){function t(t){h("img[data-lazy]",t).each(function(){var t=h(this),e=h(this).attr("data-lazy"),i=h(this).attr("data-srcset"),s=h(this).attr("data-sizes")||n.$slider.attr("data-sizes"),o=document.createElement("img");o.onload=function(){t.animate({opacity:0},100,function(){i&&(t.attr("srcset",i),s&&t.attr("sizes",s)),t.attr("src",e).animate({opacity:1},200,function(){t.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")}),n.$slider.trigger("lazyLoaded",[n,t,e])})},o.onerror=function(){t.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),n.$slider.trigger("lazyLoadError",[n,t,e])},o.src=e})}var e,i,s,n=this;if(!0===n.options.centerMode?s=!0===n.options.infinite?(i=n.currentSlide+(n.options.slidesToShow/2+1))+n.options.slidesToShow+2:(i=Math.max(0,n.currentSlide-(n.options.slidesToShow/2+1)),n.options.slidesToShow/2+1+2+n.currentSlide):(i=n.options.infinite?n.options.slidesToShow+n.currentSlide:n.currentSlide,s=Math.ceil(i+n.options.slidesToShow),!0===n.options.fade&&(0<i&&i--,s<=n.slideCount&&s++)),e=n.$slider.find(".slick-slide").slice(i,s),"anticipated"===n.options.lazyLoad)for(var o=i-1,r=s,a=n.$slider.find(".slick-slide"),l=0;l<n.options.slidesToScroll;l++)o<0&&(o=n.slideCount-1),e=(e=e.add(a.eq(o))).add(a.eq(r)),o--,r++;t(e),n.slideCount<=n.options.slidesToShow?t(n.$slider.find(".slick-slide")):n.currentSlide>=n.slideCount-n.options.slidesToShow?t(n.$slider.find(".slick-cloned").slice(0,n.options.slidesToShow)):0===n.currentSlide&&t(n.$slider.find(".slick-cloned").slice(-1*n.options.slidesToShow))},n.prototype.loadSlider=function(){this.setPosition(),this.$slideTrack.css({opacity:1}),this.$slider.removeClass("slick-loading"),this.initUI(),"progressive"===this.options.lazyLoad&&this.progressiveLazyLoad()},n.prototype.next=n.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},n.prototype.orientationChange=function(){this.checkResponsive(),this.setPosition()},n.prototype.pause=n.prototype.slickPause=function(){this.autoPlayClear(),this.paused=!0},n.prototype.play=n.prototype.slickPlay=function(){this.autoPlay(),this.options.autoplay=!0,this.paused=!1,this.focussed=!1,this.interrupted=!1},n.prototype.postSlide=function(t){var e=this;e.unslicked||(e.$slider.trigger("afterChange",[e,t]),e.animating=!1,e.slideCount>e.options.slidesToShow&&e.setPosition(),e.swipeLeft=null,e.options.autoplay&&e.autoPlay(),!0===e.options.accessibility&&(e.initADA(),e.options.focusOnChange&&h(e.$slides.get(e.currentSlide)).attr("tabindex",0).focus()))},n.prototype.prev=n.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},n.prototype.preventDefault=function(t){t.preventDefault()},n.prototype.progressiveLazyLoad=function(t){t=t||1;var e,i,s,o,n,r=this,a=h("img[data-lazy]",r.$slider);a.length?(e=a.first(),i=e.attr("data-lazy"),s=e.attr("data-srcset"),o=e.attr("data-sizes")||r.$slider.attr("data-sizes"),(n=document.createElement("img")).onload=function(){s&&(e.attr("srcset",s),o&&e.attr("sizes",o)),e.attr("src",i).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading"),!0===r.options.adaptiveHeight&&r.setPosition(),r.$slider.trigger("lazyLoaded",[r,e,i]),r.progressiveLazyLoad()},n.onerror=function(){t<3?setTimeout(function(){r.progressiveLazyLoad(t+1)},500):(e.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),r.$slider.trigger("lazyLoadError",[r,e,i]),r.progressiveLazyLoad())},n.src=i):r.$slider.trigger("allImagesLoaded",[r])},n.prototype.refresh=function(t){var e,i,s=this;i=s.slideCount-s.options.slidesToShow,!s.options.infinite&&s.currentSlide>i&&(s.currentSlide=i),s.slideCount<=s.options.slidesToShow&&(s.currentSlide=0),e=s.currentSlide,s.destroy(!0),h.extend(s,s.initials,{currentSlide:e}),s.init(),t||s.changeSlide({data:{message:"index",index:e}},!1)},n.prototype.registerBreakpoints=function(){var t,e,i,s=this,o=s.options.responsive||null;if("array"===h.type(o)&&o.length){for(t in s.respondTo=s.options.respondTo||"window",o)if(i=s.breakpoints.length-1,o.hasOwnProperty(t)){for(e=o[t].breakpoint;0<=i;)s.breakpoints[i]&&s.breakpoints[i]===e&&s.breakpoints.splice(i,1),i--;s.breakpoints.push(e),s.breakpointSettings[e]=o[t].settings}s.breakpoints.sort(function(t,e){return s.options.mobileFirst?t-e:e-t})}},n.prototype.reinit=function(){var t=this;t.$slides=t.$slideTrack.children(t.options.slide).addClass("slick-slide"),t.slideCount=t.$slides.length,t.currentSlide>=t.slideCount&&0!==t.currentSlide&&(t.currentSlide=t.currentSlide-t.options.slidesToScroll),t.slideCount<=t.options.slidesToShow&&(t.currentSlide=0),t.registerBreakpoints(),t.setProps(),t.setupInfinite(),t.buildArrows(),t.updateArrows(),t.initArrowEvents(),t.buildDots(),t.updateDots(),t.initDotEvents(),t.cleanUpSlideEvents(),t.initSlideEvents(),t.checkResponsive(!1,!0),!0===t.options.focusOnSelect&&h(t.$slideTrack).children().on("click.slick",t.selectHandler),t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0),t.setPosition(),t.focusHandler(),t.paused=!t.options.autoplay,t.autoPlay(),t.$slider.trigger("reInit",[t])},n.prototype.resize=function(){var t=this;h(window).width()!==t.windowWidth&&(clearTimeout(t.windowDelay),t.windowDelay=window.setTimeout(function(){t.windowWidth=h(window).width(),t.checkResponsive(),t.unslicked||t.setPosition()},50))},n.prototype.removeSlide=n.prototype.slickRemove=function(t,e,i){var s=this;if(t="boolean"==typeof t?!0===(e=t)?0:s.slideCount-1:!0===e?--t:t,s.slideCount<1||t<0||t>s.slideCount-1)return!1;s.unload(),!0===i?s.$slideTrack.children().remove():s.$slideTrack.children(this.options.slide).eq(t).remove(),s.$slides=s.$slideTrack.children(this.options.slide),s.$slideTrack.children(this.options.slide).detach(),s.$slideTrack.append(s.$slides),s.$slidesCache=s.$slides,s.reinit()},n.prototype.setCSS=function(t){var e,i,s=this,o={};!0===s.options.rtl&&(t=-t),e="left"==s.positionProp?Math.ceil(t)+"px":"0px",i="top"==s.positionProp?Math.ceil(t)+"px":"0px",o[s.positionProp]=t,!1===s.transformsEnabled||(!(o={})===s.cssTransitions?o[s.animType]="translate("+e+", "+i+")":o[s.animType]="translate3d("+e+", "+i+", 0px)"),s.$slideTrack.css(o)},n.prototype.setDimensions=function(){var t=this;!1===t.options.vertical?!0===t.options.centerMode&&t.$list.css({padding:"0px "+t.options.centerPadding}):(t.$list.height(t.$slides.first().outerHeight(!0)*t.options.slidesToShow),!0===t.options.centerMode&&t.$list.css({padding:t.options.centerPadding+" 0px"})),t.listWidth=t.$list.width(),t.listHeight=t.$list.height(),!1===t.options.vertical&&!1===t.options.variableWidth?(t.slideWidth=Math.ceil(t.listWidth/t.options.slidesToShow),t.$slideTrack.width(Math.ceil(t.slideWidth*t.$slideTrack.children(".slick-slide").length))):!0===t.options.variableWidth?t.$slideTrack.width(5e3*t.slideCount):(t.slideWidth=Math.ceil(t.listWidth),t.$slideTrack.height(Math.ceil(t.$slides.first().outerHeight(!0)*t.$slideTrack.children(".slick-slide").length)));var e=t.$slides.first().outerWidth(!0)-t.$slides.first().width();!1===t.options.variableWidth&&t.$slideTrack.children(".slick-slide").width(t.slideWidth-e)},n.prototype.setFade=function(){var i,s=this;s.$slides.each(function(t,e){i=s.slideWidth*t*-1,!0===s.options.rtl?h(e).css({position:"relative",right:i,top:0,zIndex:s.options.zIndex-2,opacity:0}):h(e).css({position:"relative",left:i,top:0,zIndex:s.options.zIndex-2,opacity:0})}),s.$slides.eq(s.currentSlide).css({zIndex:s.options.zIndex-1,opacity:1})},n.prototype.setHeight=function(){if(1===this.options.slidesToShow&&!0===this.options.adaptiveHeight&&!1===this.options.vertical){var t=this.$slides.eq(this.currentSlide).outerHeight(!0);this.$list.css("height",t)}},n.prototype.setOption=n.prototype.slickSetOption=function(){var t,e,i,s,o,n=this,r=!1;if("object"===h.type(arguments[0])?(i=arguments[0],r=arguments[1],o="multiple"):"string"===h.type(arguments[0])&&(s=arguments[1],r=arguments[2],"responsive"===(i=arguments[0])&&"array"===h.type(arguments[1])?o="responsive":void 0!==arguments[1]&&(o="single")),"single"===o)n.options[i]=s;else if("multiple"===o)h.each(i,function(t,e){n.options[t]=e});else if("responsive"===o)for(e in s)if("array"!==h.type(n.options.responsive))n.options.responsive=[s[e]];else{for(t=n.options.responsive.length-1;0<=t;)n.options.responsive[t].breakpoint===s[e].breakpoint&&n.options.responsive.splice(t,1),t--;n.options.responsive.push(s[e])}r&&(n.unload(),n.reinit())},n.prototype.setPosition=function(){this.setDimensions(),this.setHeight(),!1===this.options.fade?this.setCSS(this.getLeft(this.currentSlide)):this.setFade(),this.$slider.trigger("setPosition",[this])},n.prototype.setProps=function(){var t=this,e=document.body.style;t.positionProp=!0===t.options.vertical?"top":"left","top"===t.positionProp?t.$slider.addClass("slick-vertical"):t.$slider.removeClass("slick-vertical"),void 0===e.WebkitTransition&&void 0===e.MozTransition&&void 0===e.msTransition||!0===t.options.useCSS&&(t.cssTransitions=!0),t.options.fade&&("number"==typeof t.options.zIndex?t.options.zIndex<3&&(t.options.zIndex=3):t.options.zIndex=t.defaults.zIndex),void 0!==e.OTransform&&(t.animType="OTransform",t.transformType="-o-transform",t.transitionType="OTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(t.animType=!1)),void 0!==e.MozTransform&&(t.animType="MozTransform",t.transformType="-moz-transform",t.transitionType="MozTransition",void 0===e.perspectiveProperty&&void 0===e.MozPerspective&&(t.animType=!1)),void 0!==e.webkitTransform&&(t.animType="webkitTransform",t.transformType="-webkit-transform",t.transitionType="webkitTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(t.animType=!1)),void 0!==e.msTransform&&(t.animType="msTransform",t.transformType="-ms-transform",t.transitionType="msTransition",void 0===e.msTransform&&(t.animType=!1)),void 0!==e.transform&&!1!==t.animType&&(t.animType="transform",t.transformType="transform",t.transitionType="transition"),t.transformsEnabled=t.options.useTransform&&null!==t.animType&&!1!==t.animType},n.prototype.setSlideClasses=function(t){var e,i,s,o,n=this;if(i=n.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),n.$slides.eq(t).addClass("slick-current"),!0===n.options.centerMode){var r=n.options.slidesToShow%2==0?1:0;e=Math.floor(n.options.slidesToShow/2),!0===n.options.infinite&&(e<=t&&t<=n.slideCount-1-e?n.$slides.slice(t-e+r,t+e+1).addClass("slick-active").attr("aria-hidden","false"):(s=n.options.slidesToShow+t,i.slice(s-e+1+r,s+e+2).addClass("slick-active").attr("aria-hidden","false")),0===t?i.eq(i.length-1-n.options.slidesToShow).addClass("slick-center"):t===n.slideCount-1&&i.eq(n.options.slidesToShow).addClass("slick-center")),n.$slides.eq(t).addClass("slick-center")}else 0<=t&&t<=n.slideCount-n.options.slidesToShow?n.$slides.slice(t,t+n.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):i.length<=n.options.slidesToShow?i.addClass("slick-active").attr("aria-hidden","false"):(o=n.slideCount%n.options.slidesToShow,s=!0===n.options.infinite?n.options.slidesToShow+t:t,n.options.slidesToShow==n.options.slidesToScroll&&n.slideCount-t<n.options.slidesToShow?i.slice(s-(n.options.slidesToShow-o),s+o).addClass("slick-active").attr("aria-hidden","false"):i.slice(s,s+n.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"));"ondemand"!==n.options.lazyLoad&&"anticipated"!==n.options.lazyLoad||n.lazyLoad()},n.prototype.setupInfinite=function(){var t,e,i,s=this;if(!0===s.options.fade&&(s.options.centerMode=!1),!0===s.options.infinite&&!1===s.options.fade&&(e=null,s.slideCount>s.options.slidesToShow)){for(i=!0===s.options.centerMode?s.options.slidesToShow+1:s.options.slidesToShow,t=s.slideCount;t>s.slideCount-i;t-=1)e=t-1,h(s.$slides[e]).clone(!0).attr("id","").attr("data-slick-index",e-s.slideCount).prependTo(s.$slideTrack).addClass("slick-cloned");for(t=0;t<i+s.slideCount;t+=1)e=t,h(s.$slides[e]).clone(!0).attr("id","").attr("data-slick-index",e+s.slideCount).appendTo(s.$slideTrack).addClass("slick-cloned");s.$slideTrack.find(".slick-cloned").find("[id]").each(function(){h(this).attr("id","")})}},n.prototype.interrupt=function(t){t||this.autoPlay(),this.interrupted=t},n.prototype.selectHandler=function(t){var e=h(t.target).is(".slick-slide")?h(t.target):h(t.target).parents(".slick-slide"),i=parseInt(e.attr("data-slick-index"));i=i||0,this.slideCount<=this.options.slidesToShow?this.slideHandler(i,!1,!0):this.slideHandler(i)},n.prototype.slideHandler=function(t,e,i){var s,o,n,r,a,l=null,h=this;if(e=e||!1,!(!0===h.animating&&!0===h.options.waitForAnimate||!0===h.options.fade&&h.currentSlide===t))if(!1===e&&h.asNavFor(t),s=t,l=h.getLeft(s),r=h.getLeft(h.currentSlide),h.currentLeft=null===h.swipeLeft?r:h.swipeLeft,!1===h.options.infinite&&!1===h.options.centerMode&&(t<0||t>h.getDotCount()*h.options.slidesToScroll))!1===h.options.fade&&(s=h.currentSlide,!0!==i?h.animateSlide(r,function(){h.postSlide(s)}):h.postSlide(s));else if(!1===h.options.infinite&&!0===h.options.centerMode&&(t<0||t>h.slideCount-h.options.slidesToScroll))!1===h.options.fade&&(s=h.currentSlide,!0!==i?h.animateSlide(r,function(){h.postSlide(s)}):h.postSlide(s));else{if(h.options.autoplay&&clearInterval(h.autoPlayTimer),o=s<0?h.slideCount%h.options.slidesToScroll!=0?h.slideCount-h.slideCount%h.options.slidesToScroll:h.slideCount+s:s>=h.slideCount?h.slideCount%h.options.slidesToScroll!=0?0:s-h.slideCount:s,h.animating=!0,h.$slider.trigger("beforeChange",[h,h.currentSlide,o]),n=h.currentSlide,h.currentSlide=o,h.setSlideClasses(h.currentSlide),h.options.asNavFor&&(a=(a=h.getNavTarget()).slick("getSlick")).slideCount<=a.options.slidesToShow&&a.setSlideClasses(h.currentSlide),h.updateDots(),h.updateArrows(),!0===h.options.fade)return!0!==i?(h.fadeSlideOut(n),h.fadeSlide(o,function(){h.postSlide(o)})):h.postSlide(o),void h.animateHeight();!0!==i?h.animateSlide(l,function(){h.postSlide(o)}):h.postSlide(o)}},n.prototype.startLoad=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.hide(),t.$nextArrow.hide()),!0===t.options.dots&&t.slideCount>t.options.slidesToShow&&t.$dots.hide(),t.$slider.addClass("slick-loading")},n.prototype.swipeDirection=function(){var t,e,i,s;return t=this.touchObject.startX-this.touchObject.curX,e=this.touchObject.startY-this.touchObject.curY,i=Math.atan2(e,t),(s=Math.round(180*i/Math.PI))<0&&(s=360-Math.abs(s)),s<=45&&0<=s?!1===this.options.rtl?"left":"right":s<=360&&315<=s?!1===this.options.rtl?"left":"right":135<=s&&s<=225?!1===this.options.rtl?"right":"left":!0===this.options.verticalSwiping?35<=s&&s<=135?"down":"up":"vertical"},n.prototype.swipeEnd=function(t){var e,i,s=this;if(s.dragging=!1,s.swiping=!1,s.scrolling)return s.scrolling=!1;if(s.interrupted=!1,s.shouldClick=!(10<s.touchObject.swipeLength),void 0===s.touchObject.curX)return!1;if(!0===s.touchObject.edgeHit&&s.$slider.trigger("edge",[s,s.swipeDirection()]),s.touchObject.swipeLength>=s.touchObject.minSwipe){switch(i=s.swipeDirection()){case"left":case"down":e=s.options.swipeToSlide?s.checkNavigable(s.currentSlide+s.getSlideCount()):s.currentSlide+s.getSlideCount(),s.currentDirection=0;break;case"right":case"up":e=s.options.swipeToSlide?s.checkNavigable(s.currentSlide-s.getSlideCount()):s.currentSlide-s.getSlideCount(),s.currentDirection=1}"vertical"!=i&&(s.slideHandler(e),s.touchObject={},s.$slider.trigger("swipe",[s,i]))}else s.touchObject.startX!==s.touchObject.curX&&(s.slideHandler(s.currentSlide),s.touchObject={})},n.prototype.swipeHandler=function(t){var e=this;if(!(!1===e.options.swipe||"ontouchend"in document&&!1===e.options.swipe||!1===e.options.draggable&&-1!==t.type.indexOf("mouse")))switch(e.touchObject.fingerCount=t.originalEvent&&void 0!==t.originalEvent.touches?t.originalEvent.touches.length:1,e.touchObject.minSwipe=e.listWidth/e.options.touchThreshold,!0===e.options.verticalSwiping&&(e.touchObject.minSwipe=e.listHeight/e.options.touchThreshold),t.data.action){case"start":e.swipeStart(t);break;case"move":e.swipeMove(t);break;case"end":e.swipeEnd(t)}},n.prototype.swipeMove=function(t){var e,i,s,o,n,r,a=this;return n=void 0!==t.originalEvent?t.originalEvent.touches:null,!(!a.dragging||a.scrolling||n&&1!==n.length)&&(e=a.getLeft(a.currentSlide),a.touchObject.curX=void 0!==n?n[0].pageX:t.clientX,a.touchObject.curY=void 0!==n?n[0].pageY:t.clientY,a.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(a.touchObject.curX-a.touchObject.startX,2))),r=Math.round(Math.sqrt(Math.pow(a.touchObject.curY-a.touchObject.startY,2))),!a.options.verticalSwiping&&!a.swiping&&4<r?!(a.scrolling=!0):(!0===a.options.verticalSwiping&&(a.touchObject.swipeLength=r),i=a.swipeDirection(),void 0!==t.originalEvent&&4<a.touchObject.swipeLength&&(a.swiping=!0,t.preventDefault()),o=(!1===a.options.rtl?1:-1)*(a.touchObject.curX>a.touchObject.startX?1:-1),!0===a.options.verticalSwiping&&(o=a.touchObject.curY>a.touchObject.startY?1:-1),s=a.touchObject.swipeLength,(a.touchObject.edgeHit=!1)===a.options.infinite&&(0===a.currentSlide&&"right"===i||a.currentSlide>=a.getDotCount()&&"left"===i)&&(s=a.touchObject.swipeLength*a.options.edgeFriction,a.touchObject.edgeHit=!0),!1===a.options.vertical?a.swipeLeft=e+s*o:a.swipeLeft=e+s*(a.$list.height()/a.listWidth)*o,!0===a.options.verticalSwiping&&(a.swipeLeft=e+s*o),!0!==a.options.fade&&!1!==a.options.touchMove&&(!0===a.animating?(a.swipeLeft=null,!1):void a.setCSS(a.swipeLeft))))},n.prototype.swipeStart=function(t){var e,i=this;if(i.interrupted=!0,1!==i.touchObject.fingerCount||i.slideCount<=i.options.slidesToShow)return!(i.touchObject={});void 0!==t.originalEvent&&void 0!==t.originalEvent.touches&&(e=t.originalEvent.touches[0]),i.touchObject.startX=i.touchObject.curX=void 0!==e?e.pageX:t.clientX,i.touchObject.startY=i.touchObject.curY=void 0!==e?e.pageY:t.clientY,i.dragging=!0},n.prototype.unfilterSlides=n.prototype.slickUnfilter=function(){null!==this.$slidesCache&&(this.unload(),this.$slideTrack.children(this.options.slide).detach(),this.$slidesCache.appendTo(this.$slideTrack),this.reinit())},n.prototype.unload=function(){var t=this;h(".slick-cloned",t.$slider).remove(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove(),t.$nextArrow&&t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove(),t.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},n.prototype.unslick=function(t){this.$slider.trigger("unslick",[this,t]),this.destroy()},n.prototype.updateArrows=function(){var t=this;Math.floor(t.options.slidesToShow/2),!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&!t.options.infinite&&(t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===t.currentSlide?(t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):t.currentSlide>=t.slideCount-t.options.slidesToShow&&!1===t.options.centerMode?(t.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):t.currentSlide>=t.slideCount-1&&!0===t.options.centerMode&&(t.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},n.prototype.updateDots=function(){null!==this.$dots&&(this.$dots.find("li").removeClass("slick-active").end(),this.$dots.find("li").eq(Math.floor(this.currentSlide/this.options.slidesToScroll)).addClass("slick-active"))},n.prototype.visibility=function(){this.options.autoplay&&(document[this.hidden]?this.interrupted=!0:this.interrupted=!1)},h.fn.slick=function(){var t,e,i=arguments[0],s=Array.prototype.slice.call(arguments,1),o=this.length;for(t=0;t<o;t++)if("object"==typeof i||void 0===i?this[t].slick=new n(this[t],i):e=this[t].slick[i].apply(this[t].slick,s),void 0!==e)return e;return this}}),$(document).ready(function(){$(".listings.smartreview >li .photo >ul").slick({slidesToShow:3,slidesToScroll:1,arrows:!0,speed:800,slide:"li"}),$(".smartreview-landing-photo-lightbox .box >ul").slick({slidesToShow:1,slidesToScroll:1,arrows:!0,dots:!0,slide:"li",speed:0}),$(".smartreview-landing-photo-lightbox").click(function(t){var e=$(".smartreview-landing-photo-lightbox .box");e.is(t.target)||0!==e.has(t.target).length||$(".smartreview-landing-photo-lightbox").css("bottom","100%")}),$(".listings.smartreview >li .photo >ul li a").click(function(t){t.preventDefault(),console.log($(this).parent("li").attr("data-slick-index")),$index=$(this).parent("li").attr("data-slick-index"),$(".smartreview-landing-photo-lightbox .box >ul").slick("slickGoTo",$index,!0),$(this).parents(".photo").find(".smartreview-landing-photo-lightbox").css("bottom","0")})}),function(){function t(t){if("function"!=typeof window.onload)window.onload=t;else{var e=window.onload;window.onload=function(){e(),t()}}}function a(){var t={};for(type in{Top:"",Left:""}){var e="Top"==type?"Y":"X";void 0!==window["page"+e+"Offset"]?t[type.toLowerCase()]=window["page"+e+"Offset"]:(e=document.documentElement.clientHeight?document.documentElement:document.body,t[type.toLowerCase()]=e["scroll"+type])}return t}function l(t){this.parent=document.body,this.createEl(this.parent,t),this.size=5*Math.random()+5,this.el.style.width=Math.round(this.size)+"px",this.el.style.height=Math.round(this.size)+"px",this.maxLeft=document.body.offsetWidth-this.size,this.maxTop=document.body.offsetHeight-this.size,this.left=Math.random()*this.maxLeft,this.top=a().top+1,this.angle=1.4+.2*Math.random(),this.minAngle=1.4,this.maxAngle=1.6,this.angleDelta=.01*Math.random(),this.speed=2+Math.random()}var e=!1;t(function(){e=!0});var h=!0;window.createSnow=function(s,o){if(e){var n=[],r=setInterval(function(){h&&o>n.length&&Math.random()<.0025*o&&n.push(new l(s)),h||n.length||clearInterval(r);for(var t=a().top,e=function(){var t,e=document.body;return window.innerHeight?t=window.innerHeight:e.parentElement.clientHeight?t=e.parentElement.clientHeight:e&&e.clientHeight&&(t=e.clientHeight),t}(),i=n.length-1;0<=i;i--)n[i]&&(680<n[i].top||n[i].top+n[i].size+1>t+e?(n[i].remove(),n[i]=null,n.splice(i,1)):(n[i].move(),n[i].draw()))},40);!function(t,e,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&t.attachEvent("on"+e,i)}(window,"scroll",function(){for(var t=n.length-1;0<=t;t--)n[t].draw()})}else t(function(){createSnow(s,o)})},window.removeSnow=function(){h=!1},l.prototype={createEl:function(t,e){this.el=document.createElement("img"),this.el.setAttribute("src","/img/specials/snow/snow-0"+Math.floor(4*Math.random()+1)+".png"),this.el.style.position="absolute",this.el.style.display="block",this.el.style.zIndex="99999",this.parent.appendChild(this.el)},move:function(){(this.angle<this.minAngle||this.angle>this.maxAngle)&&(this.angleDelta=-this.angleDelta),this.angle+=this.angleDelta,this.left+=this.speed*Math.cos(this.angle*Math.PI),this.top-=this.speed*Math.sin(this.angle*Math.PI),this.left<0?this.left=this.maxLeft:this.left>this.maxLeft&&(this.left=0)},draw:function(){this.el.style.top=Math.round(this.top)+"px",this.el.style.left=Math.round(this.left)+"px"},remove:function(){this.parent.removeChild(this.el),this.parent=this.el=null}}}(),function(t){if("object"==typeof exports)module.exports=t();else if("function"==typeof define&&define.amd)define(t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.S=t()}}(function(){return function o(n,r,a){function l(i,t){if(!r[i]){if(!n[i]){var e="function"==typeof require&&require;if(!t&&e)return e(i,!0);if(h)return h(i,!0);throw new Error("Cannot find module '"+i+"'")}var s=r[i]={exports:{}};n[i][0].call(s.exports,function(t){var e=n[i][1][t];return l(e||t)},s,s.exports,o,n,r,a)}return r[i].exports}for(var h="function"==typeof require&&require,t=0;t<a.length;t++)l(a[t]);return l}({1:[function(t,e,i){e.exports=function(t,e){for(var i=0,s=t.indexOf(e);0<=s;)i+=1,s=t.indexOf(e,s+1);return i}},{}],2:[function(t,e,i){e.exports=function(t,e,i,s){if(void 0===i)i=-1;var o=t.split(e),n=o.slice(0,i),r=o.slice(i);return o=0===r.length?n:n.concat(r.join(e)),void 0===s?o:s<0?o.slice(s):o.slice(0,s)}},{}],3:[function(t,e,i){e.exports=function(t,e,i,s){if(void 0===i)i=-1;if(void 0===s)s=0;for(var o=[t],n=t.length-1;0<=n;n--)0===o[0].slice(n).indexOf(e)&&(o.length<=i||-1===i)&&(o.splice(1,0,o[0].slice(n+e.length)),o[0]=o[0].slice(0,n));return 0<=s?o.slice(-s):o.slice(0,-s)}},{}],4:[function(m,g,t){(function(){"use strict";var o={},e={"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A"," ":"A"," ":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"ET","":"F","":"F","":"G","":"G","":"G","":"G","":"G"," ":"G","":"G"," ":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"D","":"F","":"G","":"R","":"S","":"T","":"IS","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L"," ":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N"," ":"N","":"N","":"N","":"NJ","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O"," ":"O","":"O","":"O","":"O","":"O"," ":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"E","":"O","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"C","":"E","":"S","":"S"," ":"S","":"S","":"S","":"S","":"S"," ":"S","":"S","":"S","":"SS","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"A","":"L","":"M","":"V","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V"," ":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"IJ","":"OE","":"A","":"AE","":"B","":"B","":"C","":"D","":"E","":"F","":"G","":"G","":"H","":"I","":"R","":"J","":"K","":"L","":"L","":"M","":"N","":"O","":"OE","":"O","":"OU","":"P","":"R","":"N","":"R","":"S","":"T","":"E","":"R","":"U"," ":"V","":"W","":"Y","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a"," ":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"o","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"i","":"j","":"j","":"j","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"et","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g"," ":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"d","":"f","":"g","":"r","":"s","":"t","":"is","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"s","":"s","":"s","":"s","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"oo","":"e","":"e","":"o","":"o","":"ou","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q"," ":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"c","":"c","":"e","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"g","":"ss","":"o","":"o","":"u","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"th","":"a","":"ae","":"e","":"g","":"h","":"h","":"h","":"i","":"k","":"l","":"m","":"m","":"oe","":"r","":"r","":"r","":"r","":"t","":"v","":"w","":"y","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"ue","":"um","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"ff","":"ffi","":"ffl","":"fi","":"fl","":"ij","":"oe","":"st","":"a","":"e","":"i","":"j","":"o","":"r","":"u","":"v","":"x"};function i(t,e){t.s=null!=e?"string"==typeof e?e:e.toString():e,null!=(t.orig=e)?t.__defineGetter__?t.__defineGetter__("length",function(){return t.s.length}):t.length=e.length:t.length=-1}function p(t){i(this,t)}var r=String.prototype,s=p.prototype={between:function(t,e){var i=this.s,s=i.indexOf(t),o=i.indexOf(e,s+t.length);return-1==o&&null!=e?new this.constructor(""):-1==o&&null==e?new this.constructor(i.substring(s+t.length)):new this.constructor(i.slice(s+t.length,o))},camelize:function(){var t=this.trim().s.replace(/(\-|_|\s)+(.)?/g,function(t,e,i){return i?i.toUpperCase():""});return new this.constructor(t)},capitalize:function(){return new this.constructor(this.s.substr(0,1).toUpperCase()+this.s.substring(1).toLowerCase())},charAt:function(t){return this.s.charAt(t)},chompLeft:function(t){var e=this.s;return 0===e.indexOf(t)?(e=e.slice(t.length),new this.constructor(e)):this},chompRight:function(t){if(this.endsWith(t)){var e=this.s;return e=e.slice(0,e.length-t.length),new this.constructor(e)}return this},collapseWhitespace:function(){var t=this.s.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"");return new this.constructor(t)},contains:function(t){return 0<=this.s.indexOf(t)},count:function(t){return m("./_count")(this.s,t)},dasherize:function(){var t=this.trim().s.replace(/[_\s]+/g,"-").replace(/([A-Z])/g,"-$1").replace(/-+/g,"-").toLowerCase();return new this.constructor(t)},equalsIgnoreCase:function(t){return this.s.toLowerCase()==t.toLowerCase()},latinise:function(){var t=this.replace(/[^A-Za-z0-9\[\] ]/g,function(t){return e[t]||t});return new this.constructor(t)},decodeHtmlEntities:function(){var t=this.s;return t=t.replace(/&#(\d+);?/g,function(t,e){return String.fromCharCode(e)}).replace(/&#[xX]([A-Fa-f0-9]+);?/g,function(t,e){return String.fromCharCode(parseInt(e,16))}).replace(/&([^;\W]+;?)/g,function(t,e){var i=e.replace(/;$/,""),s=o[e]||e.match(/;$/)&&o[i];return"number"==typeof s?String.fromCharCode(s):"string"==typeof s?s:t}),new this.constructor(t)},endsWith:function(){for(var t=Array.prototype.slice.call(arguments,0),e=0;e<t.length;++e){var i=this.s.length-t[e].length;if(0<=i&&this.s.indexOf(t[e],i)===i)return!0}return!1},escapeHTML:function(){return new this.constructor(this.s.replace(/[&<>"']/g,function(t){return"&"+u[t]+";"}))},ensureLeft:function(t){var e=this.s;return 0===e.indexOf(t)?this:new this.constructor(t+e)},ensureRight:function(t){var e=this.s;return this.endsWith(t)?this:new this.constructor(e+t)},humanize:function(){if(null===this.s||void 0===this.s)return new this.constructor("");var t=this.underscore().replace(/_id$/,"").replace(/_/g," ").trim().capitalize();return new this.constructor(t)},isAlpha:function(){return!/[^a-z\xDF-\xFF]|^$/.test(this.s.toLowerCase())},isAlphaNumeric:function(){return!/[^0-9a-z\xDF-\xFF]/.test(this.s.toLowerCase())},isEmpty:function(){return null===this.s||void 0===this.s||/^[\s\xa0]*$/.test(this.s)},isLower:function(){return this.isAlpha()&&this.s.toLowerCase()===this.s},isNumeric:function(){return!/[^0-9]/.test(this.s)},isUpper:function(){return this.isAlpha()&&this.s.toUpperCase()===this.s},left:function(t){if(0<=t){var e=this.s.substr(0,t);return new this.constructor(e)}return this.right(-t)},lines:function(){return this.replaceAll("\r\n","\n").s.split("\n")},pad:function(t,e){if(null==e&&(e=" "),this.s.length>=t)return new this.constructor(this.s);t-=this.s.length;var i=Array(Math.ceil(t/2)+1).join(e),s=Array(Math.floor(t/2)+1).join(e);return new this.constructor(i+this.s+s)},padLeft:function(t,e){return null==e&&(e=" "),this.s.length>=t?new this.constructor(this.s):new this.constructor(Array(t-this.s.length+1).join(e)+this.s)},padRight:function(t,e){return null==e&&(e=" "),this.s.length>=t?new this.constructor(this.s):new this.constructor(this.s+Array(t-this.s.length+1).join(e))},parseCSV:function(t,e,i,s){t=t||",",i=i||"\\",void 0===e&&(e='"');function o(t){return d.s.charAt(t)}var n=0,r=[],a=[],l=this.s.length,h=!1,c=!1,d=this;if(void 0!==s)var u=[];for(e||(h=!0);n<l;){var p=o(n);switch(p){case i:if(h&&(i!==e||o(n+1)===e)){n+=1,r.push(o(n));break}if(i!==e)break;case e:h=!h;break;case t:c=c&&(h=!1),h&&e?r.push(p):(a.push(r.join("")),r.length=0);break;case s:c?(c=h=!1,a.push(r.join("")),u.push(a),a=[],r.length=0):h?r.push(p):u&&(a.push(r.join("")),u.push(a),a=[],r.length=0);break;case" ":h&&r.push(p);break;default:h?r.push(p):p!==e&&(r.push(p),c=h=!0)}n+=1}return a.push(r.join("")),u?(u.push(a),u):a},replaceAll:function(t,e){var i=this.s.split(t).join(e);return new this.constructor(i)},splitLeft:function(t,e,i){return m("./_splitLeft")(this.s,t,e,i)},splitRight:function(t,e,i){return m("./_splitRight")(this.s,t,e,i)},strip:function(){for(var t=this.s,e=0,i=arguments.length;e<i;e++)t=t.split(arguments[e]).join("");return new this.constructor(t)},stripLeft:function(t){var e,i,s=d(this.s);return i=void 0===t?/^\s+/g:(e=c(t),new RegExp("^["+e+"]+","g")),new this.constructor(s.replace(i,""))},stripRight:function(t){var e,i,s=d(this.s);return i=void 0===t?/\s+$/g:(e=c(t),new RegExp("["+e+"]+$","g")),new this.constructor(s.replace(i,""))},right:function(t){if(0<=t){var e=this.s.substr(this.s.length-t,t);return new this.constructor(e)}return this.left(-t)},setValue:function(t){return i(this,t),this},slugify:function(){var t=new p(new p(this.s).latinise().s.replace(/[^\w\s-]/g,"").toLowerCase()).dasherize().s;return"-"===t.charAt(0)&&(t=t.substr(1)),new this.constructor(t)},startsWith:function(){for(var t=Array.prototype.slice.call(arguments,0),e=0;e<t.length;++e)if(0===this.s.lastIndexOf(t[e],0))return!0;return!1},stripPunctuation:function(){return new this.constructor(this.s.replace(/[^\w\s]|_/g,"").replace(/\s+/g," "))},stripTags:function(){var e=this.s;return function(t,e){var i,s=[];for(i=0;i<t.length;i++)s.push(t[i]),e&&e.call(t,t[i],i)}(0<arguments.length?arguments:[""],function(t){e=e.replace(RegExp("</?"+t+"[^<>]*>","gi"),"")}),new this.constructor(e)},template:function(s,o,n){var r=this.s,t=(n=n||l.TMPL_CLOSE,(o=o||l.TMPL_OPEN).replace(/[-[\]()*\s]/g,"\\$&").replace(/\$/g,"\\$")),e=n.replace(/[-[\]()*\s]/g,"\\$&").replace(/\$/g,"\\$"),i=new RegExp(t+"(.+?)"+e,"g");return(r.match(i)||[]).forEach(function(t){var e=t.substring(o.length,t.length-n.length).trim(),i=void 0===s[e]?"":s[e];r=r.replace(t,i)}),new this.constructor(r)},times:function(t){return new this.constructor(new Array(t+1).join(this.s))},titleCase:function(){var t=this.s;return t=t&&t.replace(/(^[a-z]| [a-z]|-[a-z]|_[a-z])/g,function(t){return t.toUpperCase()}),new this.constructor(t)},toBoolean:function(){if("string"!=typeof this.orig)return!0===this.orig||1===this.orig;var t=this.s.toLowerCase();return"true"===t||"yes"===t||"on"===t||"1"===t},toFloat:function(t){var e=parseFloat(this.s);return t?parseFloat(e.toFixed(t)):e},toInt:function(){return/^\s*-?0x/i.test(this.s)?parseInt(this.s,16):parseInt(this.s,10)},trim:function(){var t;return t=void 0===r.trim?this.s.replace(/(^\s*|\s*$)/g,""):this.s.trim(),new this.constructor(t)},trimLeft:function(){var t;return t=r.trimLeft?this.s.trimLeft():this.s.replace(/(^\s*)/g,""),new this.constructor(t)},trimRight:function(){var t;return t=r.trimRight?this.s.trimRight():this.s.replace(/\s+$/,""),new this.constructor(t)},truncate:function(t,e){var i=this.s;if(t=~~t,e=e||"...",i.length<=t)return new this.constructor(i);var s=i.slice(0,t+1).replace(/.(?=\W*\w*$)/g,function(t){return t.toUpperCase()!==t.toLowerCase()?"A":" "});return((s=s.slice(s.length-2).match(/\w\w/)?s.replace(/\s*\S+$/,""):new p(s.slice(0,s.length-1)).trimRight().s)+e).length>i.length?new p(i):new p(i.slice(0,s.length)+e)},toCSV:function(){var t=",",e='"',i="\\",s=!0,o=!1,n=[];if("object"==typeof arguments[0]?(t=arguments[0].delimiter||t,t=arguments[0].separator||t,e=arguments[0].qualifier||e,s=!!arguments[0].encloseNumbers,i=arguments[0].escape||i,o=!!arguments[0].keys):"string"==typeof arguments[0]&&(t=arguments[0]),"string"==typeof arguments[1]&&(e=arguments[1]),null===arguments[1]&&(e=null),this.orig instanceof Array)n=this.orig;else for(var r in this.orig)this.orig.hasOwnProperty(r)&&(o?n.push(r):n.push(this.orig[r]));for(var a,l=i+e,h=[],c=0;c<n.length;++c){var d=null!==(a=e)&&""!==a;if("number"==typeof n[c]&&(d&=s),d&&h.push(e),null!==n[c]&&void 0!==n[c]){var u=new p(n[c]).replaceAll(e,l).s;h.push(u)}else h.push("");d&&h.push(e),t&&h.push(t)}return h.length=h.length-1,new this.constructor(h.join(""))},toString:function(){return this.s},underscore:function(){var t=this.trim().s.replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/([A-Z\d]+)([A-Z][a-z])/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase();return new this.constructor(t)},unescapeHTML:function(){return new this.constructor(this.s.replace(/\&([^;]+);/g,function(t,e){var i;return e in h?h[e]:(i=e.match(/^#x([\da-fA-F]+)$/))?String.fromCharCode(parseInt(i[1],16)):(i=e.match(/^#(\d+)$/))?String.fromCharCode(~~i[1]):t}))},valueOf:function(){return this.s.valueOf()},wrapHTML:function(t,e){var i=this.s,s=null==t?"span":t,o="";if("object"==typeof e)for(var n in e)o+=" "+n+'="'+new this.constructor(e[n]).escapeHTML()+'"';return i="".concat("<",s,o,">",this,"</",s,">"),new this.constructor(i)}},n=[];var a=function(){for(var t=function(){var t=[];{if(Object.getOwnPropertyNames)return(t=Object.getOwnPropertyNames(r)).splice(t.indexOf("valueOf"),1),t.splice(t.indexOf("toString"),1),t;var e={};for(var i in String.prototype)e[i]=i;for(var i in Object.prototype)delete e[i];for(var i in e)t.push(i);return t}}(),e={},i=0;i<t.length;++i){var s=t[i];if("to"!==s&&"toEnd"!==s){var o=r[s];try{var n=typeof o.apply("teststring");e[s]=n}catch(t){}}}return e}();for(var t in a)!function(t){var e=r[t];"function"==typeof e&&(s[t]||("string"===a[t]?s[t]=function(){return new this.constructor(e.apply(this,arguments))}:s[t]=e))}(t);function l(t){return new p(t)}s.repeat=s.times,s.include=s.contains,s.toInteger=s.toInt,s.toBool=s.toBoolean,s.decodeHTMLEntities=s.decodeHtmlEntities,s.constructor=p,l.extendPrototype=function(){for(var t in s)!function(t){var e=s[t];r.hasOwnProperty(t)||(n.push(t),r[t]=function(){return String.prototype.s=this,e.apply(this,arguments)})}(t)},l.restorePrototype=function(){for(var t=0;t<n.length;++t)delete String.prototype[n[t]];n.length=0},l.VERSION="3.3.3",l.TMPL_OPEN="{{",l.TMPL_CLOSE="}}",l.ENTITIES=o,void 0!==g&&void 0!==g.exports?g.exports=l:window.S=l;var h={lt:"<",gt:">",quot:'"',apos:"'",amp:"&"};function c(t){var e,i,s=[],o=/^[A-Za-z0-9]+$/;for(t=d(t),i=0;i<t.length;++i)e=t.charAt(i),o.test(e)?s.push(e):"\\000"===e?s.push("\\000"):s.push("\\"+e);return s.join("")}function d(t){return null==t?"":""+t}var u={};for(var f in h)u[h[f]]=f;o={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,"OElig;":338,"oelig;":339,"Scaron;":352,"scaron;":353,"Yuml;":376,"fnof;":402,"circ;":710,"tilde;":732,"Alpha;":913,"Beta;":914,"Gamma;":915,"Delta;":916,"Epsilon;":917,"Zeta;":918,"Eta;":919,"Theta;":920,"Iota;":921,"Kappa;":922,"Lambda;":923,"Mu;":924,"Nu;":925,"Xi;":926,"Omicron;":927,"Pi;":928,"Rho;":929,"Sigma;":931,"Tau;":932,"Upsilon;":933,"Phi;":934,"Chi;":935,"Psi;":936,"Omega;":937,"alpha;":945,"beta;":946,"gamma;":947,"delta;":948,"epsilon;":949,"zeta;":950,"eta;":951,"theta;":952,"iota;":953,"kappa;":954,"lambda;":955,"mu;":956,"nu;":957,"xi;":958,"omicron;":959,"pi;":960,"rho;":961,"sigmaf;":962,"sigma;":963,"tau;":964,"upsilon;":965,"phi;":966,"chi;":967,"psi;":968,"omega;":969,"thetasym;":977,"upsih;":978,"piv;":982,"ensp;":8194,"emsp;":8195,"thinsp;":8201,"zwnj;":8204,"zwj;":8205,"lrm;":8206,"rlm;":8207,"ndash;":8211,"mdash;":8212,"lsquo;":8216,"rsquo;":8217,"sbquo;":8218,"ldquo;":8220,"rdquo;":8221,"bdquo;":8222,"dagger;":8224,"Dagger;":8225,"bull;":8226,"hellip;":8230,"permil;":8240,"prime;":8242,"Prime;":8243,"lsaquo;":8249,"rsaquo;":8250,"oline;":8254,"frasl;":8260,"euro;":8364,"image;":8465,"weierp;":8472,"real;":8476,"trade;":8482,"alefsym;":8501,"larr;":8592,"uarr;":8593,"rarr;":8594,"darr;":8595,"harr;":8596,"crarr;":8629,"lArr;":8656,"uArr;":8657,"rArr;":8658,"dArr;":8659,"hArr;":8660,"forall;":8704,"part;":8706,"exist;":8707,"empty;":8709,"nabla;":8711,"isin;":8712,"notin;":8713,"ni;":8715,"prod;":8719,"sum;":8721,"minus;":8722,"lowast;":8727,"radic;":8730,"prop;":8733,"infin;":8734,"ang;":8736,"and;":8743,"or;":8744,"cap;":8745,"cup;":8746,"int;":8747,"there4;":8756,"sim;":8764,"cong;":8773,"asymp;":8776,"ne;":8800,"equiv;":8801,"le;":8804,"ge;":8805,"sub;":8834,"sup;":8835,"nsub;":8836,"sube;":8838,"supe;":8839,"oplus;":8853,"otimes;":8855,"perp;":8869,"sdot;":8901,"lceil;":8968,"rceil;":8969,"lfloor;":8970,"rfloor;":8971,"lang;":9001,"rang;":9002,"loz;":9674,"spades;":9824,"clubs;":9827,"hearts;":9829,"diams;":9830}}).call(this)},{"./_count":1,"./_splitLeft":2,"./_splitRight":3}]},{},[4])(4)}),function(a){a.fn.tabLoader=function(t){var o=window.location.origin+"/"+t,n=a("li",this),e=a(this).attr("id"),r=a("ul[data-tab-group-id="+e+"] li");a("a",this).on("click",function(t){t.preventDefault()}),a("li",this).on("click",function(t){var e=a(this);if(!e.hasClass("active")){var i=e.attr("data-pane-id"),s=a("#"+i);s.hasClass("loaded")?(n.removeClass("active"),e.addClass("active"),r.removeClass("active"),a("#"+i).addClass("active")):(e.addClass("loading"),a.ajax({url:o,data:{id:i},dataType:"html",success:function(t){e.removeClass("loading"),s.addClass("loaded"),s.html(t),n.removeClass("active"),e.addClass("active"),r.removeClass("active"),a("#"+i).addClass("active")},error:function(){e.removeClass("loading"),console.log("AJAX failed!")}}))}})}}(window.jQuery);var feederUrl=window.location.origin+"/ajax/wire-sidebar-feeder.php",loadedArticleIds=[wire=[],radar=[],deals=[],popular=[]],paneIsBusy=[wire=!1,radar=!1,deals=!1,popular=!1];function loadWires(e){return updateLoadedArticleIds(e),$.ajax({url:feederUrl,data:{type:e,excludeids:loadedArticleIds[e].join(",")},success:function(t){injectHtmlIntoPane(e,t),$("#wires-sidebar-panes ."+e+" li.loading").remove(),paneIsBusy[e]=!1},error:function(){console.log("An unexpected issue occurred and we could not finish processing your request. Please contact tech@smartshanghai.com")},dataType:"html"})}function injectHtmlIntoPane(t,e){$("#wires-sidebar-panes ."+t+" .box ul").append(e)}function updateLoadedArticleIds(i){var t=$("#wires-sidebar-panes ."+i+" .entry");loadedArticleIds[i]=[],$.each(t,function(t,e){e.hasAttribute("data-article-id")&&loadedArticleIds[i].push($(e).attr("data-article-id"))})}$(document).ready(function(){});
